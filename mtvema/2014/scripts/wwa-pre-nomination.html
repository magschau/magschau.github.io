<!DOCTYPE html>
<html>
<head>
	<title>wwa pre nomination</title>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
	<style>
		body {
			font-family:'Open Sans';
		}
		table {
			border-bottom:1px solid #000;
			width:100%;
			padding-bottom:20px;
		}
		td {
			width:50%;
		}
		span {
			font-size:26px;
			font-weight:bold;
		}
	</style>
	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function () {
/*
			$.when(ajax0(), ajax1(), ajax2(), ajax3(), ajax4(), ajax5(), ajax6(), ajax7(), ajax8(), ajax9(), ajax10(), ajax11(), ajax12(), ajax13(), ajax14(), ajax15(), ajax16(), ajax17(), ajax18(), ajax19(), ajax20(), ajax21(), ajax22(), ajax23(), ajax24()).done(function(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13, a14, a15, a16, a17, a18, a19, a20, a21, a22, a23, a24){
				displayResult(a0);
				displayResult(a1);
				displayResult(a2);
				displayResult(a3);
				displayResult(a4);
				displayResult(a5);
				displayResult(a6);
				displayResult(a7);
				displayResult(a8);
				displayResult(a9);
				displayResult(a10);
				displayResult(a11);
				displayResult(a12);
				displayResult(a13);
				displayResult(a14);
				displayResult(a15);
				displayResult(a16);
				displayResult(a17);
				displayResult(a18);
				displayResult(a19);
				displayResult(a20);
				displayResult(a21);
				displayResult(a22);
				displayResult(a23);
				displayResult(a24);
			});
		});
*/
		function displayResult(x) {
			console.log(x)
			buckets = x[0].buckets;
			name = x[0].name;
			//desc = x[0].description;

			console.log(buckets.total.length);
			if ( buckets.total.length > 0 && buckets.top.length > 0 ){
				$("table").append('<tr><td colspan=2><span>' + name + '</span></td></tr>');
				//$("table").append('<tr><td><b>TOPIC</b></td><td><b>COUNT</b></td></tr>');
				for (i=0; i<buckets.total.length; i++){
					trclass = '';
					title = buckets.total[i].title;
					count = buckets.total[i].count
					if (buckets.top[0].title === buckets.total[i].title)
						trclass = ' class="top"';
					$("table").append('<tr' + trclass + '><td>' + title + '</td><td>' + count + '</td></tr>')
				}
			}
		}

		function ajax0() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/ema-wwa/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		});
		}
		function ajax1() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/adria-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
	    });
		}
		function ajax2() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/africa-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax3() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/australia-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax4() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/belgium-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax5() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/canada-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax6() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/denmark-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax7() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/finland-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax8() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/germany-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax9() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/greece-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax10() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/italy-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax11() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/japan-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax12() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/korea-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax13() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/netherlands-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax14() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/newzealand-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax15() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/norway-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax16() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/poland-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax17() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/portugal-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax18() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/russia-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax19() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/southeastasia-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax20() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/spain-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax21() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/sweden-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax22() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/switzerland-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax23() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/ukireland-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
		function ajax24() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/usa-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    });
		}
  </script>
</head>

<body>
	<table></table>
</body>

</html>