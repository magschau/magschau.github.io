<!DOCTYPE html>
<html>
<head>
	<title>wwa pre nomination</title>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
	<style>
		body {
			font-family:'Open Sans';
		}
		table {
			border-bottom:1px solid #000;
			width:100%;
			padding-bottom:20px;
		}
		td {
			width:50%;
		}
		span {
			font-size:26px;
			font-weight:bold;
		}
	</style>
	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function () {
			ajax0();
		});
		function displayResult(x) {
			console.log(x);
			name = x["name"];
			buckets = x["buckets"];

			console.log(name + ": " + buckets.total.length);
			if ( buckets.total.length > 0 ){
				$("table").append('<tr><td colspan=2><span>' + name + '</span></td></tr>');
				for (i=0; i<buckets.total.length; i++){
					console.log(buckets.total[i].title);
					trclass = '';
					title = buckets.total[i].title;
					count = buckets.total[i].count;
					if (buckets.top.length > 0 && buckets.top[0].title === buckets.total[i].title)
						trclass = ' class="top"';
					$("table").append('<tr' + trclass + '><td>' + title + '</td><td>' + count + '</td></tr>');
				}
			}
		}

		function ajax0() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/ema-wwa/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax1();
			});
		}
		function ajax1() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/adria-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax2();
	    });
		}
		function ajax2() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/africa-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax3();
	    });
		}
		function ajax3() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/australia-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax4();
	    });
		}
		function ajax4() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/belgium-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax5();
	    });
		}
		function ajax5() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/canada-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax6();
	    });
		}
		function ajax6() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/denmark-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax7();
	    });
		}
		function ajax7() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/finland-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax8();
	    });
		}
		function ajax8() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/germany-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax9();
	    });
		}
		function ajax9() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/greece-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax10();
	    });
		}
		function ajax10() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/italy-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax11();
	    });
		}
		function ajax11() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/japan-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax12();
	    });
		}
		function ajax12() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/korea-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax13();
	    });
		}
		function ajax13() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/netherlands-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax14();
	    });
		}
		function ajax14() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/newzealand-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax15();
	    });
		}
		function ajax15() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/norway-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax16();
	    });
		}
		function ajax16() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/poland-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax17();
	    });
		}
		function ajax17() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/portugal-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax18();
	    });
		}
		function ajax18() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/russia-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax19();
	    });
		}
		function ajax19() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/southeastasia-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax20();
	    });
		}
		function ajax20() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/spain-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax21();
	    });
		}
		function ajax21() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/sweden-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax22();
	    });
		}
		function ajax22() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/switzerland-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax23();
	    });
		}
		function ajax23() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/ukireland-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
		  ajax24();
	    });
		}
		function ajax24() {
	    return $.ajax({
        url: "http://api.massrelevance.com/mtvema/usa-2014ema-prenom/meta.json",
        async: false,
        dataType: "json"
	    }).done(function(a) {
		  displayResult(a);
	    });
		}
  </script>
</head>

<body>
	<table></table>
</body>

</html>