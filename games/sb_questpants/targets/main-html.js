/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){function x(a,b){function c(){}c.prototype=a;var d=new c,h;for(h in b)d[h]=b[h];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function sd(a){return a instanceof Array?function(){return y.iter(a)}:"function"==typeof a.iterator?g(a,a.iterator):a.iterator}function g(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=wd++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var f={},xa=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};f.EReg=xa;xa.__name__=["EReg"];xa.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw"EReg::matched";},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},
__class__:xa};var y=function(){};f.HxOverrides=y;y.__name__=["HxOverrides"];y.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),h=a.getMinutes(),e=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>h?"0"+h:""+h)+":"+(10>e?"0"+e:""+e)};y.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),
new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw"Invalid date format : "+a;}};y.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};y.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};y.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};y.iter=function(a){return{cur:0,
arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var ob=function(){};f.Lambda=ob;ob.__name__=["Lambda"];ob.array=function(a){for(var b=[],a=sd(a)();a.hasNext();){var c=a.next();b.push(c)}return b};ob.count=function(a,b){var c=0;if(null==b)for(var d=sd(a)();d.hasNext();)d.next(),c++;else for(d=sd(a)();d.hasNext();){var h=d.next();b(h)&&c++}return c};var $a=function(){this.length=0};f.List=$a;$a.__name__=["List"];$a.prototype={add:function(a){a=
[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},__class__:$a};var mc=function(){};f.IMap=mc;mc.__name__=["IMap"];Math.__name__=["Math"];var ma=function(){};f.Reflect=ma;ma.__name__=["Reflect"];ma.field=function(a,b){try{return a[b]}catch(c){return null}};ma.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,
d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};ma.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};ma.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var r=function(){};f.Std=r;r.__name__=["Std"];r.is=function(a,b){return K.__instanceof(a,b)};r.string=function(a){return K.__string_rec(a,"")};r["int"]=function(a){return a|0};r.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==
y.cca(a,1)||88==y.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};r.parseFloat=function(a){return parseFloat(a)};var Ma=function(){this.b=""};f.StringBuf=Ma;Ma.__name__=["StringBuf"];Ma.prototype={add:function(a){this.b+=r.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+y.substr(a,b,null):this.b+y.substr(a,b,c)},__class__:Ma};var T=function(){};f.StringTools=T;T.__name__=["StringTools"];T.startsWith=function(a,b){return a.length>=b.length&&y.substr(a,0,b.length)==b};T.isSpace=function(a,b){var c=
y.cca(a,b);return 8<c&&14>c||32==c};T.ltrim=function(a){for(var b=a.length,c=0;c<b&&T.isSpace(a,c);)c++;return 0<c?y.substr(a,c,b-c):a};T.rtrim=function(a){for(var b=a.length,c=0;c<b&&T.isSpace(a,b-c-1);)c++;return 0<c?y.substr(a,0,b-c):a};T.trim=function(a){return T.ltrim(T.rtrim(a))};T.fastCodeAt=function(a,b){return a.charCodeAt(b)};var E=f.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};E.TNull=["TNull",0];E.TNull.__enum__=
E;E.TInt=["TInt",1];E.TInt.__enum__=E;E.TFloat=["TFloat",2];E.TFloat.__enum__=E;E.TBool=["TBool",3];E.TBool.__enum__=E;E.TObject=["TObject",4];E.TObject.__enum__=E;E.TFunction=["TFunction",5];E.TFunction.__enum__=E;E.TClass=function(a){a=["TClass",6,a];a.__enum__=E;return a};E.TEnum=function(a){a=["TEnum",7,a];a.__enum__=E;return a};E.TUnknown=["TUnknown",8];E.TUnknown.__enum__=E;var X=function(){};f.Type=X;X.__name__=["Type"];X.getClass=function(a){return null==a?null:a instanceof Array&&null==a.__enum__?
Array:a.__class__};X.getClassName=function(a){return a.__name__.join(".")};X.getEnumName=function(a){return a.__ename__.join(".")};X.resolveClass=function(a){a=f[a];return null==a||!a.__name__?null:a};X.resolveEnum=function(a){a=f[a];return null==a||!a.__ename__?null:a};X.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};X.createEnum=function(a,b,c){var d=ma.field(a,b);if(null==d)throw"No such constructor "+b;if(ma.isFunction(d)){if(null==c)throw"Constructor "+b+
" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};X.getEnumConstructs=function(a){return a.__constructs__.slice()};X["typeof"]=function(a){switch(typeof a){case "boolean":return E.TBool;case "string":return E.TClass(String);case "number":return Math.ceil(a)==a%2147483648?E.TInt:E.TFloat;case "object":if(null==a)return E.TNull;var b=a.__enum__;if(null!=b)return E.TEnum(b);a=a instanceof Array&&null==a.__enum__?Array:a.__class__;
return null!=a?E.TClass(a):E.TObject;case "function":return a.__name__||a.__ename__?E.TObject:E.TFunction;case "undefined":return E.TNull;default:return E.TUnknown}};f.XmlType={__ename__:["XmlType"],__constructs__:[]};var l=function(){};f.Xml=l;l.__name__=["Xml"];l.parse=function(a){return ya.parse(a)};l.createElement=function(a){var b=new l;b.nodeType=l.Element;b._children=[];b._attributes=new ca;b.set_nodeName(a);return b};l.createPCData=function(a){var b=new l;b.nodeType=l.PCData;b.set_nodeValue(a);
return b};l.createCData=function(a){var b=new l;b.nodeType=l.CData;b.set_nodeValue(a);return b};l.createComment=function(a){var b=new l;b.nodeType=l.Comment;b.set_nodeValue(a);return b};l.createDocType=function(a){var b=new l;b.nodeType=l.DocType;b.set_nodeValue(a);return b};l.createProcessingInstruction=function(a){var b=new l;b.nodeType=l.ProcessingInstruction;b.set_nodeValue(a);return b};l.createDocument=function(){var a=new l;a.nodeType=l.Document;a._children=[];return a};l.prototype={get_nodeName:function(){if(this.nodeType!=
l.Element)throw"bad nodeType";return this._nodeName},set_nodeName:function(a){if(this.nodeType!=l.Element)throw"bad nodeType";return this._nodeName=a},get_nodeValue:function(){if(this.nodeType==l.Element||this.nodeType==l.Document)throw"bad nodeType";return this._nodeValue},set_nodeValue:function(a){if(this.nodeType==l.Element||this.nodeType==l.Document)throw"bad nodeType";return this._nodeValue=a},get:function(a){if(this.nodeType!=l.Element)throw"bad nodeType";return this._attributes.get(a)},set:function(a,
b){if(this.nodeType!=l.Element)throw"bad nodeType";this._attributes.set(a,b)},exists:function(a){if(this.nodeType!=l.Element)throw"bad nodeType";return this._attributes.exists(a)},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,
c=this.x.length;b<c;){var d=this.x[b];if(d.nodeType==l.Element&&d._nodeName==a)break;b++}this.cur=b;return b<c},next:function(){for(var b=this.cur,c=this.x.length;b<c;){var d=this.x[b];b++;if(d.nodeType==l.Element&&d._nodeName==a)return this.cur=b,d}return null}}},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var c=this._children[a];if(c.nodeType==l.Element)return c;a++}return null},addChild:function(a){if(null==this._children)throw"bad nodetype";
null!=a._parent&&y.remove(a._parent._children,a);a._parent=this;this._children.push(a)},__class__:l};var C=function(){};f["com.piratejuice.Collisions"]=C;C.__name__=["com","piratejuice","Collisions"];C.circleCollision=function(a,b,c,d,h,e){a=d-a;b=h-b;return a*a+b*b<=(c+e)*(c+e)?!0:!1};C.AABBCollision=function(a,b,c,d,h,e,f,v){var k=new L(0,0),g=a-0.5*c,c=a+0.5*c,a=b-0.5*d,b=b+0.5*d,d=h-0.5*f,f=h+0.5*f,h=e-0.5*v,e=e+0.5*v;if(g>f||c<d||a>e||b<h)return k;v=d-c;g=f-g;c=h-b;a=e-a;k.x=Math.abs(v)<g?v:
g;k.y=Math.abs(c)<a?c:a;Math.abs(k.x)>Math.abs(k.y)?k.x=0:k.y=0;return k};C.isAABBCollision=function(a,b,c,d,h,e,f,v){return a-0.5*c>h+0.5*f||a+0.5*c<h-0.5*f||b-0.5*d>e+0.5*v||b+0.5*d<e-0.5*v?!1:!0};var pb=function(a,b){null==b&&(b=1);this.fullText=a;this.interval=b;this.reset()};f["com.piratejuice.TextPrintout"]=pb;pb.__name__=["com","piratejuice","TextPrintout"];pb.prototype={setText:function(a){this.reset();this.fullText=a;null},getText:function(){return this.displayText},reset:function(){this.count=
0;this.displayText="";this.displayChars=0},showAll:function(){this.displayChars=this.fullText.length;this.displayText=this.fullText},update:function(){this.count++;this.count>=this.interval&&(this.count=0,this.displayChars<this.fullText.length&&(this.displayChars++,this.displayText=y.substr(this.fullText,0,this.displayChars)))},__class__:pb};var L=function(a,b){null==b&&(b=0);null==a&&(a=0);this.D180_OVER_PI=180/Math.PI;this.PI_OVER_D180=Math.PI/180;this.x=a;this.y=b};f["com.piratejuice.Vector2D"]=
L;L.__name__=["com","piratejuice","Vector2D"];L.prototype={magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){var a=this.magnitude();this.x/=a;this.y/=a},vector:function(a){this.x=Math.sin(a*this.PI_OVER_D180);this.y=-Math.cos(a*this.PI_OVER_D180)},angle:function(){var a=Math.atan2(-this.y,-this.x),a=Math.round(a*this.D180_OVER_PI),a=a-90;360<a&&(a-=360);0>=a&&(a=360+a);return a},__class__:L};var va=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);
this.D180_OVER_PI=180/Math.PI;this.PI_OVER_D180=Math.PI/180;this.x=a;this.y=b;this.z=c};f["com.piratejuice.Vector3D"]=va;va.__name__=["com","piratejuice","Vector3D"];va.prototype={__class__:va};var qb=function(a,b){this.isWalkable=!0;this.row=b;this.col=a};f["com.piratejuice.pathfinding.Node"]=qb;qb.__name__=["com","piratejuice","pathfinding","Node"];qb.prototype={__class__:qb};var fa=function(){};f["com.piratejuice.pathfinding.Pathfinder"]=fa;fa.__name__=["com","piratejuice","pathfinding","Pathfinder"];
fa.findPath=function(a,b,c){var d=[],h=[],e=a,f,v,k,g,j,i;e.g=0;e.h=fa.euclidianHeuristic(e,b,1);for(e.f=e.g+e.h;e!=b;){k=fa.findConnectedNodes(e,c);v=k.length;for(var n=0;n<v;)f=n++,f=k[f],f==e||!1==f.isWalkable||(g=e.g+1,j=fa.euclidianHeuristic(f,b,1),i=g+j,fa.isOpen(f,d)||fa.isClosed(f,h)?f.f>i&&(f.f=i,f.g=g,f.h=j,f.parentNode=e):(f.f=i,f.g=g,f.h=j,f.parentNode=e,d.push(f)));h.push(e);if(0==d.length)return null;d.sort(fa.numericSort);e=K.__cast(d.shift(),qb)}return fa.buildPath(b,a)};fa.numericSort=
function(a,b){return a.f==b.f?0:a.f>b.f?1:-1};fa.findConnectedNodes=function(a,b){for(var c=[],d,h=0,e=b.length;h<e;)d=h++,d=b[d],d.row<a.row-1||d.row>a.row+1||d.col<a.col-1||d.col>a.col+1||c.push(d);return c};fa.buildPath=function(a,b){var c=[],d=a;for(c.push(d);d!=b;)d=d.parentNode,c.unshift(d);return c};fa.isOpen=function(a,b){for(var c=b.length,d=0;d<c;){var h=d++;if(b[h]==a)return!0}return!1};fa.isClosed=function(a,b){for(var c=b.length,d=0;d<c;){var h=d++;if(b[h]==a)return!0}return!1};fa.euclidianHeuristic=
function(a,b,c){null==c&&(c=1);var d=a.x-b.x,a=a.y-b.y;return Math.sqrt(d*d+a*a)*c};var ua=function(){};f["flambe.util.Disposable"]=ua;ua.__name__=["flambe","util","Disposable"];ua.prototype={__class__:ua};var F=function(){this._flags=0;this.owner=this.next=null};f["flambe.Component"]=F;F.__name__=["flambe","Component"];F.__interfaces__=[ua];F.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&
this.owner.remove(this)},get_name:function(){return null},__class__:F};var rb=function(){F.call(this);this._disposables=[]};f["flambe.Disposer"]=rb;rb.__name__=["flambe","Disposer"];rb.__super__=F;rb.prototype=x(F.prototype,{get_name:function(){return"Disposer_9"},add:function(a){this._disposables.push(a);return this},onRemoved:function(){this.freeDisposables()},dispose:function(){F.prototype.dispose.call(this);this.freeDisposables()},freeDisposables:function(){var a=this._disposables;this._disposables=
[];for(var b=0;b<a.length;){var c=a[b];++b;c.dispose()}},__class__:rb});var i=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};f["flambe.Entity"]=i;i.__name__=["flambe","Entity"];i.__interfaces__=[ua];i.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=
null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a)return null==b?this.firstComponent=d:(b.owner=this,b.next=d),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=d}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,d=this.firstChild;null!=d;)c=d,d=d.next;null!=c?c.next=a:this.firstChild=
a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var d=c.next;if(c==a){null==b?this.firstChild=d:b.next=d;c.parent=null;c.next=null;break}b=c;c=d}},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:i};var kd=function(){};f["flambe.util.PackageLog"]=
kd;kd.__name__=["flambe","util","PackageLog"];var nc=function(){};f["flambe.platform.Platform"]=nc;nc.__name__=["flambe","platform","Platform"];nc.prototype={__class__:nc};var za=function(){};f["flambe.platform.html.HtmlPlatform"]=za;za.__name__=["flambe","platform","html","HtmlPlatform"];za.__interfaces__=[nc];za.prototype={init:function(){var a=this;B.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor=
"transparent";b.setAttribute("moz-opaque","true");this._stage=new Na(b);this._pointer=new da;this._mouse=new sb(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new Oa;this.musicPlaying=!1;this._canvas=b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var d=0,h=function(c){if(!(1E3>c.timeStamp-d)){var h=b.getBoundingClientRect(),e=a.getX(c,h),h=a.getY(c,h);switch(c.type){case "mousedown":c.target==
b&&(c.preventDefault(),a._mouse.submitDown(e,h,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(e,h);break;case "mouseup":a._mouse.submitUp(e,h,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(e,h,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",h,!1);window.addEventListener("mousemove",h,!1);window.addEventListener("mouseup",h,!1);b.addEventListener("mousewheel",h,!1);b.addEventListener("DOMMouseScroll",
h,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var e="undefined"!=typeof window.ontouchstart,h="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(e||h){var f=new tb(this._pointer,e?4:window.navigator.msMaxTouchPoints);this._touch=f;h=function(b){var c;c=e?b.changedTouches:[b];var h=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();B.SHOULD_HIDE_MOBILE_BROWSER&&
B.hideMobileBrowser();for(b=0;b<c.length;){var v=c[b];++b;var k=a.getX(v,h),g=a.getY(v,h);f.submitDown((e?v.identifier:v.pointerId)|0,k,g)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<c.length;)v=c[b],++b,k=a.getX(v,h),g=a.getY(v,h),f.submitMove((e?v.identifier:v.pointerId)|0,k,g);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)v=c[b],++b,k=a.getX(v,h),g=a.getY(v,h),f.submitUp((e?v.identifier:v.pointerId)|
0,k,g)}};e?(b.addEventListener("touchstart",h,!1),b.addEventListener("touchmove",h,!1),b.addEventListener("touchend",h,!1),b.addEventListener("touchcancel",h,!1)):(b.addEventListener("MSPointerDown",h,!1),b.addEventListener("MSPointerMove",h,!1),b.addEventListener("MSPointerUp",h,!1))}else this._touch=new ub;var v=window.onerror;window.onerror=function(a,b,c){s.uncaughtError.emit(a);return null!=v?v(a,b,c):!1};var k=B.loadExtension("hidden",window.document);null!=k.value?(h=function(){s.hidden.set__(ma.field(window.document,
k.field))},h(null),window.document.addEventListener(k.prefix+"visibilitychange",h,!1)):(h=function(a){s.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",h,!1),window.addEventListener("pagehide",h,!1));s.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var g=B.loadExtension("requestAnimationFrame").value;if(null!=g){var j=window.performance,i=null!=j&&B.polyfill("now",j);i?this._lastUpdate=j.now():null;var n=null,n=function(c){a.update(i?
j.now():c);g(n,b)};g(n,b)}else window.setInterval(function(){a.update(Date.now())},16);ab.info("Initialized HTML platform",["renderer",this._renderer.get_type()])},loadAssetPack:function(a){return(new H(this,a)).promise},getStage:function(){return this._stage},getStorage:function(){if(null==this._storage){var a=ld.getLocalStorage();this._storage=null!=a?new vb(a):new wb}return this._storage},getLocale:function(){var a=window.navigator.language;null==a&&(a=window.navigator.userLanguage);return a},
update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;s.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getTouch:function(){return this._touch},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new ta;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};
this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){return new Pa(a)},__class__:za};var ga=function(a,b){this._value=a;this._changed=null!=b?new Aa(b):null};f["flambe.util.Value"]=ga;ga.__name__=["flambe","util",
"Value"];ga.prototype={watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},get_changed:function(){null==this._changed&&(this._changed=new Aa);return this._changed},__class__:ga};var Qa=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};f["flambe.util.SignalConnection"]=Qa;Qa.__name__=["flambe","util","SignalConnection"];Qa.__interfaces__=
[ua];Qa.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:Qa};var $=function(a){this._head=null!=a?new Qa(this,a):null;this._deferredTasks=null};f["flambe.util.SignalBase"]=$;$.__name__=["flambe","util","SignalBase"];$.prototype={connectImpl:function(a,b){var c=this,d=new Qa(this,a);this._head==$.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(d,b)}):this.listAdd(d,b);return d},disconnect:function(a){var b=
this;this._head==$.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new oc(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=$.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,d=
this._head;null!=d;)c=d,d=d._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:$};var Aa=function(a){$.call(this,a)};f["flambe.util.Signal2"]=Aa;Aa.__name__=["flambe","util","Signal2"];Aa.__super__=$;Aa.prototype=x($.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==$.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,
b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),d=c;null!=d;)d._listener(a,b),d.stayInList||d.dispose(),d=d._next;this.didEmit(c)},__class__:Aa});var z=function(a){$.call(this,a)};f["flambe.util.Signal1"]=z;z.__name__=["flambe","util","Signal1"];z.__super__=$;z.prototype=x($.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==$.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=
this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:z});var U=function(a,b){this._behavior=null;ga.call(this,a,b)};f["flambe.animation.AnimatedFloat"]=U;U.__name__=["flambe","animation","AnimatedFloat"];U.__super__=ga;U.prototype=x(ga.prototype,{set__:function(a){this._behavior=null;return ga.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(ga.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&
(this._behavior=null))},set_behavior:function(a){this._behavior=a;this.update(0);return a},__class__:U});var s=function(){};f["flambe.System"]=s;s.__name__=["flambe","System"];s.init=function(){s._calledInit||(s._platform.init(),s._calledInit=!0)};s.loadAssetPack=function(a){return s._platform.loadAssetPack(a)};var ab=function(){};f["flambe.Log"]=ab;ab.__name__=["flambe","Log"];ab.info=function(){null};ab.__super__=kd;ab.prototype=x(kd.prototype,{__class__:ab});var xb=function(a){null==a&&(a=1);this._realDt=
0;F.call(this);this.scale=new U(a)};f["flambe.SpeedAdjuster"]=xb;xb.__name__=["flambe","SpeedAdjuster"];xb.__super__=F;xb.prototype=x(F.prototype,{get_name:function(){return"SpeedAdjuster_4"},onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},__class__:xb});var pc=function(){};f["flambe.animation.Behavior"]=pc;pc.__name__=["flambe","animation","Behavior"];pc.prototype={__class__:pc};var p=function(){};f["flambe.animation.Ease"]=p;p.__name__=["flambe","animation",
"Ease"];p.linear=function(a){return a};p.quadIn=function(a){return a*a};p.quadOut=function(a){return a*(2-a)};p.quadInOut=function(a){return 0.5>=a?2*a*a:1-2*--a*a};p.backIn=function(a){return a*a*(2.70158*a-1.70158)};p.backOut=function(a){return 1- --a*a*(-2.70158*a-1.70158)};var yb=function(a,b,c,d){this._from=a;this._to=b;this._duration=c;this.elapsed=0;this._easing=null!=d?d:p.linear};f["flambe.animation.Tween"]=yb;yb.__name__=["flambe","animation","Tween"];yb.__interfaces__=[pc];yb.prototype=
{update:function(a){this.elapsed+=a;return this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},isComplete:function(){return this.elapsed>=this._duration},__class__:yb};var Da=function(){};f["flambe.asset.Asset"]=Da;Da.__name__=["flambe","asset","Asset"];Da.__interfaces__=[ua];Da.prototype={__class__:Da};var t=f["flambe.asset.AssetFormat"]={__ename__:["flambe","asset","AssetFormat"],__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};
t.WEBP=["WEBP",0];t.WEBP.__enum__=t;t.JXR=["JXR",1];t.JXR.__enum__=t;t.PNG=["PNG",2];t.PNG.__enum__=t;t.JPG=["JPG",3];t.JPG.__enum__=t;t.GIF=["GIF",4];t.GIF.__enum__=t;t.DDS=["DDS",5];t.DDS.__enum__=t;t.PVR=["PVR",6];t.PVR.__enum__=t;t.PKM=["PKM",7];t.PKM.__enum__=t;t.MP3=["MP3",8];t.MP3.__enum__=t;t.M4A=["M4A",9];t.M4A.__enum__=t;t.OPUS=["OPUS",10];t.OPUS.__enum__=t;t.OGG=["OGG",11];t.OGG.__enum__=t;t.WAV=["WAV",12];t.WAV.__enum__=t;t.Data=["Data",13];t.Data.__enum__=t;var qc=function(a,b,c,d){this.name=
a;this.url=b;this.format=c;this.bytes=d};f["flambe.asset.AssetEntry"]=qc;qc.__name__=["flambe","asset","AssetEntry"];qc.prototype={__class__:qc};var zb=function(){};f["flambe.asset.AssetPack"]=zb;zb.__name__=["flambe","asset","AssetPack"];zb.__interfaces__=[ua];zb.prototype={__class__:zb};var Ab=function(){};f["flambe.asset.File"]=Ab;Ab.__name__=["flambe","asset","File"];Ab.__interfaces__=[Da];Ab.prototype={__class__:Ab};var V=function(){this._localBase=this._remoteBase=null;this._entries=[]};f["flambe.asset.Manifest"]=
V;V.__name__=["flambe","asset","Manifest"];V.fromAssets=function(a,b){null==b&&(b=!0);var c=ma.field(md.getType(V).assets[0],a);if(null==c){if(b)throw aa.withFields("Missing asset pack",["name",a]);return null}var d=new V;d.set_localBase("assets");for(var h=0;h<c.length;){var e=c[h];++h;var f=e.name,v=a+"/"+f+"?v="+r.string(e.md5),k=V.inferFormat(f);k!=t.Data&&(f=aa.removeFileExtension(f));d.add(f,v,e.bytes,k)}return d};V.fromAssetsLocalized=function(a,b,c){null==c&&(c=!0);null==b&&(b=s._platform.getLocale());
if(null!=b)for(b=b.split("-");0<b.length;){var d=V.fromAssets(a+"_"+b.join("-"),!1);if(null!=d)return d;b.pop()}return V.fromAssets(a,c)};V.inferFormat=function(a){a=aa.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return t.GIF;case "jpg":case "jpeg":return t.JPG;case "jxr":case "wdp":return t.JXR;case "png":return t.PNG;case "webp":return t.WEBP;case "dds":return t.DDS;case "pvr":return t.PVR;case "pkm":return t.PKM;case "m4a":return t.M4A;case "mp3":return t.MP3;case "ogg":return t.OGG;
case "opus":return t.OPUS;case "wav":return t.WAV}else null;return t.Data};V.prototype={add:function(a,b,c,d){null==c&&(c=0);null==d&&(d=V.inferFormat(b));a=new qc(a,b,d,c);this._entries.push(a);return a},iterator:function(){return y.iter(this._entries)},getFullURL:function(a){var b;b=null!=this.get_remoteBase()&&V._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?aa.joinPath(b,a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=
a&&nd.that(!T.startsWith(a,"http://")&&!T.startsWith(a,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",null);return this._localBase=a},get_remoteBase:function(){return this._remoteBase},__class__:V};var ea=f["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};ea.Normal=["Normal",0];ea.Normal.__enum__=ea;ea.Add=["Add",1];ea.Add.__enum__=ea;ea.Multiply=["Multiply",2];ea.Multiply.__enum__=
ea;ea.Screen=["Screen",3];ea.Screen.__enum__=ea;ea.Mask=["Mask",4];ea.Mask.__enum__=ea;ea.Copy=["Copy",5];ea.Copy.__enum__=ea;var A=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};f["flambe.math.Point"]=A;A.__name__=["flambe","math","Point"];A.prototype={__class__:A};var q=function(){this.blendMode=this.scissor=null;var a=this;F.call(this);this._flags|=54;this._localMatrix=new rc;var b=function(){a._flags|=24};this.x=new U(0,b);this.y=new U(0,b);this.rotation=new U(0,b);this.scaleX=
new U(1,b);this.scaleY=new U(1,b);this.anchorX=new U(0,b);this.anchorY=new U(0,b);this.alpha=new U(1)};f["flambe.display.Sprite"]=q;q.__name__=["flambe","display","Sprite"];q.hitTest=function(a,b,c){var d=a._compMap.Sprite_1;if(null!=d){if(6!=(d._flags&6))return null;d.getLocalMatrix().inverseTransform(b,c,q._scratchPoint)&&(b=q._scratchPoint.x,c=q._scratchPoint.y);var h=d.scissor;if(null!=h&&!h.contains(b,c))return null}a=q.hitTestBackwards(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,
c)?d:null};q.render=function(a,b){var c=a._compMap.Sprite_1;if(null!=c){var d=c.alpha._value;if(0==(c._flags&2)||0>=d)return;b.save();1>d&&b.multiplyAlpha(d);null!=c.blendMode&&b.setBlendMode(c.blendMode);var d=c.getLocalMatrix(),h=d.m02,e=d.m12;0!=(c._flags&32)&&(h=Math.round(h),e=Math.round(e));b.transform(d.m00,d.m10,d.m01,d.m11,h,e);d=c.scissor;null!=d&&b.applyScissor(d.x,d.y,d.width,d.height);c.draw(b)}d=a._compMap.Director_2;if(null!=d){d=d.occludedScenes;for(h=0;h<d.length;)e=d[h],++h,q.render(e,
b)}for(d=a.firstChild;null!=d;)h=d.next,q.render(d,b),d=h;null!=c&&b.restore()};q.hitTestBackwards=function(a,b,c){if(null!=a){var d=q.hitTestBackwards(a.next,b,c);return null!=d?d:q.hitTest(a,b,c)}return null};q.__super__=F;q.prototype=x(F.prototype,{get_name:function(){return"Sprite_1"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){0!=(this._flags&
8)&&(this._flags&=-9,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},setScaleXY:function(a,b){this.scaleX.set__(a);
this.scaleY.set__(b);return this},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},draw:function(){},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=
a;){var b=a._compMap.Sprite_1;if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this._pointerDown&&(this._pointerDown=new z);return this._pointerDown},get_pointerUp:function(){null==this._pointerUp&&(this._pointerUp=new z);return this._pointerUp},get_pointerIn:function(){null==this._pointerIn&&(this._pointerIn=new z);return this._pointerIn},get_pointerOut:function(){null==this._pointerOut&&(this._pointerOut=new z);return this._pointerOut},connectHover:function(){var a=this;
null==this._hoverConnection&&(this._hoverConnection=s._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&64)&&a._pointerOut.emit(b);a._flags&=-65;a._hoverConnection.dispose();a._hoverConnection=null}))},set_visible:function(a){this._flags=Bb.set(this._flags,2,a);return a},set_pointerEnabled:function(a){this._flags=Bb.set(this._flags,4,a);return a},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&
this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=64,null!=this._pointerIn||null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},onPointerUp:function(a){switch(a.source[1]){case 1:null!=this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=
null)}null!=this._pointerUp&&this._pointerUp.emit(a)},__class__:q});var Ea=function(a,b,c){q.call(this);this.color=a;this.width=new U(b);this.height=new U(c)};f["flambe.display.FillSprite"]=Ea;Ea.__name__=["flambe","display","FillSprite"];Ea.__super__=q;Ea.prototype=x(q.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(a){q.prototype.onUpdate.call(this,
a);this.width.update(a);this.height.update(a)},__class__:Ea});var Cb=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};f["flambe.display.Glyph"]=Cb;Cb.__name__=["flambe","display","Glyph"];Cb.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?r["int"](this._kernings.get(a)):
0},setKerning:function(a,b){null==this._kernings&&(this._kernings=new ra);this._kernings.set(a,b)},__class__:Cb};var Y=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload()};f["flambe.display.Font"]=Y;Y.__name__=["flambe","display","Font"];Y.prototype={layoutText:function(a,b,c,d,h){null==h&&(h=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=D.Left);return new Fa(this,a,b,c,d,h)},reload:function(){this._glyphs=new ra;this._glyphs.set(Y.NEWLINE.charCode,Y.NEWLINE);for(var a=
new Ra(this._file.toString()),b=new ra,c=this.name.lastIndexOf("/"),c=0<=c?y.substr(this.name,0,c+1):"",d=a.keywords();d.hasNext();)switch(d.next()){case "info":for(var h=a.pairs();h.hasNext();){var e=h.next();switch(e.key){case "size":this.size=e.getInt()}}break;case "common":for(h=a.pairs();h.hasNext();)switch(e=h.next(),e.key){case "lineHeight":this.lineHeight=e.getInt()}break;case "page":for(var h=0,e=null,f=a.pairs();f.hasNext();){var v=f.next();switch(v.key){case "id":h=v.getInt();break;case "file":e=
v.getString()}}e=this._pack.getTexture(c+aa.removeFileExtension(e));b.set(h,e);break;case "char":h=null;for(e=a.pairs();e.hasNext();)switch(f=e.next(),f.key){case "id":h=new Cb(f.getInt());break;case "x":h.x=f.getInt();break;case "y":h.y=f.getInt();break;case "width":h.width=f.getInt();break;case "height":h.height=f.getInt();break;case "page":f=f.getInt();h.page=b.get(f);break;case "xoffset":h.xOffset=f.getInt();break;case "yoffset":h.yOffset=f.getInt();break;case "xadvance":h.xAdvance=f.getInt()}this._glyphs.set(h.charCode,
h);break;case "kerning":h=null;f=e=0;for(v=a.pairs();v.hasNext();){var k=v.next();switch(k.key){case "first":h=this._glyphs.get(k.getInt());break;case "second":e=k.getInt();break;case "amount":f=k.getInt()}}null!=h&&0!=f&&h.setKerning(e,f)}},__class__:Y};var D=f["flambe.display.TextAlign"]={__ename__:["flambe","display","TextAlign"],__constructs__:["Left","Center","Right"]};D.Left=["Left",0];D.Left.__enum__=D;D.Center=["Center",1];D.Center.__enum__=D;D.Right=["Right",2];D.Right.__enum__=D;var Fa=
function(a,b,c,d,h,e){this.lines=0;var f=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(a.lineHeight+e);this.bounds=new Z;for(var v=[],e=b.length,k=0;k<e;){var g=k++,g=b.charCodeAt(g),g=a._glyphs.get(g);null!=g?this._glyphs.push(g):null}for(var b=-1,j=0,i=0,a=a._glyphs.get(10),e=function(){f.bounds.width=Sa.max(f.bounds.width,j);f.bounds.height+=i;v[f.lines]=j;i=j=0;++f.lines},k=0;k<this._glyphs.length;){g=this._glyphs[k];this._offsets[k]=Math.round(j);var n=0<d&&j+
g.width>d;n||g==a?(n&&(0<=b?(this._glyphs[b]=a,j=this._offsets[b],k=b):this._glyphs.splice(k,0,a)),b=-1,i=this._lineOffset,e()):(32==g.charCode&&(b=k),j+=g.xAdvance+h,i=Sa.max(i,g.height+g.yOffset),k+1<this._glyphs.length&&(j+=g.getKerning(this._glyphs[k+1].charCode)));++k}e();h=0;a=Fa.getAlignOffset(c,v[0],d);b=1.79769313486231E308;e=-1.79769313486231E308;g=k=0;for(n=this._glyphs.length;g<n;){var m=this._glyphs[g];10==m.charCode&&(h+=this._lineOffset,++k,a=Fa.getAlignOffset(c,v[k],d));this._offsets[g]+=
a;var o=h+m.yOffset;b<o||(b=o);e=Sa.max(e,o+m.height);++g}this.bounds.x=Fa.getAlignOffset(c,this.bounds.width,d);this.bounds.y=b;this.bounds.height=e-b};f["flambe.display.TextLayout"]=Fa;Fa.__name__=["flambe","display","TextLayout"];Fa.getAlignOffset=function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round((c-b)/2)}};Fa.prototype={draw:function(a){for(var b=0,c=0,d=this._glyphs.length;c<d;){var h=this._glyphs[c];10==h.charCode?b+=this._lineOffset:h.draw(a,this._offsets[c],
b);++c}},__class__:Fa};var Ra=function(a){this._configText=a;this._keywordPattern=new xa("([A-Za-z]+)(.*)","");this._pairPattern=new xa('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};f["flambe.display._Font.ConfigParser"]=Ra;Ra.__name__=["flambe","display","_Font","ConfigParser"];Ra.advance=function(a,b){var c=b.matchedPos();return y.substr(a,c.pos+c.len,a.length)};Ra.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=Ra.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);
return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},pairs:function(){var a=this,b=this._pairText;return{next:function(){b=Ra.advance(b,a._pairPattern);return new sc(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},__class__:Ra};var sc=function(a,b){this.key=a;this._value=b};f["flambe.display._Font.ConfigPair"]=sc;sc.__name__=["flambe","display","_Font","ConfigPair"];sc.prototype={getInt:function(){return r.parseInt(this._value)},
getString:function(){return 34!=this._value.charCodeAt(0)?null:y.substr(this._value,1,this._value.length-2)},__class__:sc};var tc=function(){};f["flambe.display.Graphics"]=tc;tc.__name__=["flambe","display","Graphics"];tc.prototype={__class__:tc};var u=function(a){q.call(this);this.texture=a};f["flambe.display.ImageSprite"]=u;u.__name__=["flambe","display","ImageSprite"];u.__super__=q;u.prototype=x(q.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=
this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:u});var Ta=f["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};Ta.Portrait=["Portrait",0];Ta.Portrait.__enum__=Ta;Ta.Landscape=["Landscape",1];Ta.Landscape.__enum__=Ta;var Db=function(){};f["flambe.display.Texture"]=Db;Db.__name__=["flambe","display","Texture"];Db.__interfaces__=[Da];Db.prototype={__class__:Db};
var od=function(){};f["flambe.display.SubTexture"]=od;od.__name__=["flambe","display","SubTexture"];od.__interfaces__=[Db];var P=function(a,b){null==b&&(b="");this._layout=null;var c=this;q.call(this);this._font=a;this._text=b;this._align=D.Left;this._flags|=128;var d=function(){c._flags|=128};this.wrapWidth=new U(0,d);this.letterSpacing=new U(0,d);this.lineSpacing=new U(0,d)};f["flambe.display.TextSprite"]=P;P.__name__=["flambe","display","TextSprite"];P.__super__=q;P.prototype=x(q.prototype,{draw:function(a){this.updateLayout();
this._layout.draw(a)},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:this._layout.bounds.width},getNaturalHeight:function(){this.updateLayout();var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),b=this._layout.bounds.height;return a>b?a:b},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=128);return a},set_align:function(a){a!=
this._align&&(this._align=a,this._flags|=128);return a},updateLayout:function(){0!=(this._flags&128)&&(this._flags&=-129,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,this.letterSpacing._value,this.lineSpacing._value))},onUpdate:function(a){q.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:P});var e=f["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
e.A=["A",0];e.A.__enum__=e;e.B=["B",1];e.B.__enum__=e;e.C=["C",2];e.C.__enum__=e;e.D=["D",3];e.D.__enum__=e;e.E=["E",4];e.E.__enum__=e;e.F=["F",5];e.F.__enum__=e;e.G=["G",6];e.G.__enum__=e;e.H=["H",7];e.H.__enum__=e;e.I=["I",8];e.I.__enum__=e;e.J=["J",9];e.J.__enum__=e;e.K=["K",10];e.K.__enum__=e;e.L=["L",11];e.L.__enum__=e;e.M=["M",12];e.M.__enum__=e;e.N=["N",13];e.N.__enum__=e;e.O=["O",14];e.O.__enum__=e;e.P=["P",15];e.P.__enum__=e;e.Q=["Q",16];e.Q.__enum__=e;e.R=["R",17];e.R.__enum__=e;e.S=["S",
18];e.S.__enum__=e;e.T=["T",19];e.T.__enum__=e;e.U=["U",20];e.U.__enum__=e;e.V=["V",21];e.V.__enum__=e;e.W=["W",22];e.W.__enum__=e;e.X=["X",23];e.X.__enum__=e;e.Y=["Y",24];e.Y.__enum__=e;e.Z=["Z",25];e.Z.__enum__=e;e.Number0=["Number0",26];e.Number0.__enum__=e;e.Number1=["Number1",27];e.Number1.__enum__=e;e.Number2=["Number2",28];e.Number2.__enum__=e;e.Number3=["Number3",29];e.Number3.__enum__=e;e.Number4=["Number4",30];e.Number4.__enum__=e;e.Number5=["Number5",31];e.Number5.__enum__=e;e.Number6=
["Number6",32];e.Number6.__enum__=e;e.Number7=["Number7",33];e.Number7.__enum__=e;e.Number8=["Number8",34];e.Number8.__enum__=e;e.Number9=["Number9",35];e.Number9.__enum__=e;e.Numpad0=["Numpad0",36];e.Numpad0.__enum__=e;e.Numpad1=["Numpad1",37];e.Numpad1.__enum__=e;e.Numpad2=["Numpad2",38];e.Numpad2.__enum__=e;e.Numpad3=["Numpad3",39];e.Numpad3.__enum__=e;e.Numpad4=["Numpad4",40];e.Numpad4.__enum__=e;e.Numpad5=["Numpad5",41];e.Numpad5.__enum__=e;e.Numpad6=["Numpad6",42];e.Numpad6.__enum__=e;e.Numpad7=
["Numpad7",43];e.Numpad7.__enum__=e;e.Numpad8=["Numpad8",44];e.Numpad8.__enum__=e;e.Numpad9=["Numpad9",45];e.Numpad9.__enum__=e;e.NumpadAdd=["NumpadAdd",46];e.NumpadAdd.__enum__=e;e.NumpadDecimal=["NumpadDecimal",47];e.NumpadDecimal.__enum__=e;e.NumpadDivide=["NumpadDivide",48];e.NumpadDivide.__enum__=e;e.NumpadEnter=["NumpadEnter",49];e.NumpadEnter.__enum__=e;e.NumpadMultiply=["NumpadMultiply",50];e.NumpadMultiply.__enum__=e;e.NumpadSubtract=["NumpadSubtract",51];e.NumpadSubtract.__enum__=e;e.F1=
["F1",52];e.F1.__enum__=e;e.F2=["F2",53];e.F2.__enum__=e;e.F3=["F3",54];e.F3.__enum__=e;e.F4=["F4",55];e.F4.__enum__=e;e.F5=["F5",56];e.F5.__enum__=e;e.F6=["F6",57];e.F6.__enum__=e;e.F7=["F7",58];e.F7.__enum__=e;e.F8=["F8",59];e.F8.__enum__=e;e.F9=["F9",60];e.F9.__enum__=e;e.F10=["F10",61];e.F10.__enum__=e;e.F11=["F11",62];e.F11.__enum__=e;e.F12=["F12",63];e.F12.__enum__=e;e.F13=["F13",64];e.F13.__enum__=e;e.F14=["F14",65];e.F14.__enum__=e;e.F15=["F15",66];e.F15.__enum__=e;e.Left=["Left",67];e.Left.__enum__=
e;e.Up=["Up",68];e.Up.__enum__=e;e.Right=["Right",69];e.Right.__enum__=e;e.Down=["Down",70];e.Down.__enum__=e;e.Alt=["Alt",71];e.Alt.__enum__=e;e.Backquote=["Backquote",72];e.Backquote.__enum__=e;e.Backslash=["Backslash",73];e.Backslash.__enum__=e;e.Backspace=["Backspace",74];e.Backspace.__enum__=e;e.CapsLock=["CapsLock",75];e.CapsLock.__enum__=e;e.Comma=["Comma",76];e.Comma.__enum__=e;e.Command=["Command",77];e.Command.__enum__=e;e.Control=["Control",78];e.Control.__enum__=e;e.Delete=["Delete",79];
e.Delete.__enum__=e;e.End=["End",80];e.End.__enum__=e;e.Enter=["Enter",81];e.Enter.__enum__=e;e.Equals=["Equals",82];e.Equals.__enum__=e;e.Escape=["Escape",83];e.Escape.__enum__=e;e.Home=["Home",84];e.Home.__enum__=e;e.Insert=["Insert",85];e.Insert.__enum__=e;e.LeftBracket=["LeftBracket",86];e.LeftBracket.__enum__=e;e.Minus=["Minus",87];e.Minus.__enum__=e;e.PageDown=["PageDown",88];e.PageDown.__enum__=e;e.PageUp=["PageUp",89];e.PageUp.__enum__=e;e.Period=["Period",90];e.Period.__enum__=e;e.Quote=
["Quote",91];e.Quote.__enum__=e;e.RightBracket=["RightBracket",92];e.RightBracket.__enum__=e;e.Semicolon=["Semicolon",93];e.Semicolon.__enum__=e;e.Shift=["Shift",94];e.Shift.__enum__=e;e.Slash=["Slash",95];e.Slash.__enum__=e;e.Space=["Space",96];e.Space.__enum__=e;e.Tab=["Tab",97];e.Tab.__enum__=e;e.Menu=["Menu",98];e.Menu.__enum__=e;e.Search=["Search",99];e.Search.__enum__=e;e.Unknown=function(a){a=["Unknown",100,a];a.__enum__=e;return a};var uc=function(){this.init(0,null)};f["flambe.input.KeyboardEvent"]=
uc;uc.__name__=["flambe","input","KeyboardEvent"];uc.prototype={init:function(a,b){this.id=a;this.key=b},__class__:uc};var na=f["flambe.input.MouseButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};na.Left=["Left",0];na.Left.__enum__=na;na.Middle=["Middle",1];na.Middle.__enum__=na;na.Right=["Right",2];na.Right.__enum__=na;na.Unknown=function(a){a=["Unknown",3,a];a.__enum__=na;return a};var Ba=f["flambe.input.MouseCursor"]={__ename__:["flambe",
"input","MouseCursor"],__constructs__:["Default","Button","None"]};Ba.Default=["Default",0];Ba.Default.__enum__=Ba;Ba.Button=["Button",1];Ba.Button.__enum__=Ba;Ba.None=["None",2];Ba.None.__enum__=Ba;var vc=function(){this.init(0,0,0,null)};f["flambe.input.MouseEvent"]=vc;vc.__name__=["flambe","input","MouseEvent"];vc.prototype={init:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:vc};var Eb=f["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse",
"Touch"]};Eb.Mouse=function(a){a=["Mouse",0,a];a.__enum__=Eb;return a};Eb.Touch=function(a){a=["Touch",1,a];a.__enum__=Eb;return a};var wc=function(){this.init(0,0,0,null,null)};f["flambe.input.PointerEvent"]=wc;wc.__name__=["flambe","input","PointerEvent"];wc.prototype={init:function(a,b,c,d,h){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=h;this._stopped=!1},__class__:wc};var xc=function(a){this.id=a;this._source=Eb.Touch(this)};f["flambe.input.TouchPoint"]=xc;xc.__name__=["flambe",
"input","TouchPoint"];xc.prototype={init:function(a,b){this.viewX=a;this.viewY=b},__class__:xc};var Sa=function(){};f["flambe.math.FMath"]=Sa;Sa.__name__=["flambe","math","FMath"];Sa.max=function(a,b){return a>b?a:b};Sa.clamp=function(a,b,c){return a<b?b:a>c?c:a};var rc=function(){this.identity()};f["flambe.math.Matrix"]=rc;rc.__name__=["flambe","math","Matrix"];rc.prototype={set:function(a,b,c,d,h,e){this.m00=a;this.m01=c;this.m02=h;this.m10=b;this.m11=d;this.m12=e},identity:function(){this.set(1,
0,0,1,0,0)},compose:function(a,b,c,d,h){var e=Math.sin(h),h=Math.cos(h);this.set(h*c,e*c,-e*d,h*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},__class__:rc};var Z=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==
b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};f["flambe.math.Rectangle"]=Z;Z.__name__=["flambe","math","Rectangle"];Z.prototype={set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},__class__:Z};var ha=function(){this._disposed=!1};f["flambe.platform.BasicAsset"]=ha;
ha.__name__=["flambe","platform","BasicAsset"];ha.__interfaces__=[Da];ha.prototype={dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},onDisposed:function(){null},__class__:ha};var Ga=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new Fb;this._bytesLoaded=new ca;this._pack=new Gb(b,this);var d=ob.array(b);if(0==d.length)this.handleSuccess();else{for(var h=new ca,e=0;e<d.length;){var f=d[e];++e;var v=h.get(f.name);null==v&&(v=[],h.set(f.name,v));v.push(f)}this._assetsRemaining=
ob.count(h);for(d=h.iterator();d.hasNext();)h=[d.next()],this.pickBestEntry(h[0],function(a){return function(d){if(null!=d){var h=b.getFullURL(d);try{c.loadEntry(h,d)}catch(e){c.handleError(d,"Unexpected error: "+r.string(e))}h=c.promise;h.set_total(h._total+d.bytes)}else d=a[0][0],Ga.isAudio(d.format)?c.handleLoad(d,sa.getInstance()):c.handleError(d,"Could not find a supported format to load")}}(h))}};f["flambe.platform.BasicAssetPackLoader"]=Ga;Ga.__name__=["flambe","platform","BasicAssetPackLoader"];
Ga.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};Ga.prototype={onDisposed:function(){},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var d=0;d<c.length;){var h=c[d];++d;for(var e=0;e<a.length;){var f=a[e];++e;if(f.format==h){b(f);return}}}b(null)})},loadEntry:function(){null},getAssetFormats:function(){null},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=
this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:c=this._pack.files}c.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,d=this._bytesLoaded.iterator();d.hasNext();)var h=d.next(),c=c+h;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(aa.withFields(b,
["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:Ga};var Gb=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new ca;this.sounds=new ca;this.files=new ca};f["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=Gb;Gb.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];Gb.__interfaces__=[zb];Gb.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);
if(null==c&&b)throw aa.withFields("Missing texture",["name",a]);return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw aa.withFields("Missing sound",["name",a]);return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw aa.withFields("Missing file",["name",a]);return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();
this.sounds=null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},__class__:Gb};var bb=function(a){this._disposed=!1;this._content=a};f["flambe.platform.BasicFile"]=bb;bb.__name__=["flambe","platform","BasicFile"];bb.__interfaces__=[Ab];bb.__super__=ha;bb.prototype=x(ha.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=null},__class__:bb});var yc=function(){};f["flambe.subsystem.KeyboardSystem"]=yc;yc.__name__=
["flambe","subsystem","KeyboardSystem"];yc.prototype={__class__:yc};var ta=function(){this.down=new z;this.up=new z;this.backButton=new Q;this._keyStates=new ra};f["flambe.platform.BasicKeyboard"]=ta;ta.__name__=["flambe","platform","BasicKeyboard"];ta.__interfaces__=[yc];ta.prototype={submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.exists(a)||(this._keyStates.set(a,!0),ta._sharedEvent.init(ta._sharedEvent.id+1,zc.toKey(a)),this.down.emit(ta._sharedEvent));
return!0},submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),ta._sharedEvent.init(ta._sharedEvent.id+1,zc.toKey(a)),this.up.emit(ta._sharedEvent))},__class__:ta};var td=function(){};f["flambe.subsystem.MouseSystem"]=td;td.__name__=["flambe","subsystem","MouseSystem"];var oa=function(a){this._pointer=a;this._source=Eb.Mouse(oa._sharedEvent);this.down=new z;this.move=new z;this.up=new z;this.scroll=new z;this._y=this._x=0;this._cursor=Ba.Default;this._buttonStates=new ra};f["flambe.platform.BasicMouse"]=
oa;oa.__name__=["flambe","platform","BasicMouse"];oa.__interfaces__=[td];oa.prototype={submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,b,Ac.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(oa._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(oa._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,
b,Ac.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(oa._sharedEvent))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;oa._sharedEvent.init(oa._sharedEvent.id+1,a,b,c)},__class__:oa};var Bc=function(){};f["flambe.subsystem.PointerSystem"]=Bc;Bc.__name__=["flambe","subsystem","PointerSystem"];Bc.prototype={__class__:Bc};var da=function(a,b,c){null==c&&(c=!1);null==b&&(b=
0);null==a&&(a=0);this.down=new z;this.move=new z;this.up=new z;this._x=a;this._y=b;this._isDown=c};f["flambe.platform.BasicPointer"]=da;da.__name__=["flambe","platform","BasicPointer"];da.__interfaces__=[Bc];da.prototype={submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=!0;var d=[],h=q.hitTest(s.root,a,b);if(null!=h){var e=h.owner;do{var f=e._compMap.Sprite_1;null!=f&&d.push(f);e=e.parent}while(null!=e)}this.prepare(a,b,h,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerDown(da._sharedEvent),
da._sharedEvent._stopped)return;this.down.emit(da._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var d=[],h=q.hitTest(s.root,a,b);if(null!=h){var e=h.owner;do{var f=e._compMap.Sprite_1;null!=f&&d.push(f);e=e.parent}while(null!=e)}this.prepare(a,b,h,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerMove(da._sharedEvent),da._sharedEvent._stopped)return;this.move.emit(da._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var d=[],
h=q.hitTest(s.root,a,b);if(null!=h){var e=h.owner;do{var f=e._compMap.Sprite_1;null!=f&&d.push(f);e=e.parent}while(null!=e)}this.prepare(a,b,h,c);for(a=0;a<d.length;)if(b=d[a],++a,b.onPointerUp(da._sharedEvent),da._sharedEvent._stopped)return;this.up.emit(da._sharedEvent)}},prepare:function(a,b,c,d){this._x=a;this._y=b;da._sharedEvent.init(da._sharedEvent.id+1,a,b,c,d)},__class__:da};var Ha=function(a,b,c){this._x=this._y=0;this._parent=null;this.rootX=this.rootY=0;this._disposed=!1;this.root=a;this._width=
b;this._height=c};f["flambe.platform.BasicTexture"]=Ha;Ha.__name__=["flambe","platform","BasicTexture"];Ha.__interfaces__=[od];Ha.__super__=ha;Ha.prototype=x(ha.prototype,{subTexture:function(a,b,c,d){c=this.root.createTexture(c,d);c._parent=this;c._x=a;c._y=b;c.rootX=this.rootX+a;c.rootY=this.rootY+b;return c},onDisposed:function(){null==this._parent&&this.root.dispose()},get_width:function(){return this._width},get_height:function(){return this._height},__class__:Ha});var Hb=function(){};f["flambe.subsystem.TouchSystem"]=
Hb;Hb.__name__=["flambe","subsystem","TouchSystem"];Hb.prototype={__class__:Hb};var tb=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new ra;this._points=[];this.down=new z;this.move=new z;this.up=new z};f["flambe.platform.BasicTouch"]=tb;tb.__name__=["flambe","platform","BasicTouch"];tb.__interfaces__=[Hb];tb.prototype={get_supported:function(){return!0},submitDown:function(a,b,c){if(!this._pointMap.exists(a)){var d=new xc(a);d.init(b,c);this._pointMap.set(a,d);this._points.push(d);
null==this._pointerTouch&&(this._pointerTouch=d,this._pointer.submitDown(b,c,d._source));this.down.emit(d)}},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var d=this._pointMap.get(a);null!=d&&(d.init(b,c),this._pointMap.remove(a),y.remove(this._points,d),this._pointerTouch==d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._source)),this.up.emit(d))},__class__:tb};
var Ua=function(){};f["flambe.sound.Sound"]=Ua;Ua.__name__=["flambe","sound","Sound"];Ua.__interfaces__=[Da];Ua.prototype={__class__:Ua};var sa=function(){this._disposed=!1;this._playback=new Ib(this)};f["flambe.platform.DummySound"]=sa;sa.__name__=["flambe","platform","DummySound"];sa.__interfaces__=[Ua];sa.getInstance=function(){null==sa._instance&&(sa._instance=new sa);return sa._instance};sa.__super__=ha;sa.prototype=x(ha.prototype,{play:function(){return this._playback},loop:function(){return this._playback},
onDisposed:function(){},__class__:sa});var Jb=function(){};f["flambe.sound.Playback"]=Jb;Jb.__name__=["flambe","sound","Playback"];Jb.__interfaces__=[ua];var Ib=function(a){this._sound=a;this.volume=new U(0);this._complete=new ga(!0)};f["flambe.platform.DummyPlayback"]=Ib;Ib.__name__=["flambe","platform","DummyPlayback"];Ib.__interfaces__=[Jb];Ib.prototype={dispose:function(){},__class__:Ib};var Kb=function(){};f["flambe.subsystem.StorageSystem"]=Kb;Kb.__name__=["flambe","subsystem","StorageSystem"];
Kb.prototype={__class__:Kb};var wb=function(){this.clear()};f["flambe.platform.DummyStorage"]=wb;wb.__name__=["flambe","platform","DummyStorage"];wb.__interfaces__=[Kb];wb.prototype={set:function(a,b){this._hash.set(a,b);return!0},get:function(a,b){return this._hash.exists(a)?this._hash.get(a):b},clear:function(){this._hash=new ca},__class__:wb};var ub=function(){this.down=new z;this.move=new z;this.up=new z};f["flambe.platform.DummyTouch"]=ub;ub.__name__=["flambe","platform","DummyTouch"];ub.__interfaces__=
[Hb];ub.prototype={get_supported:function(){return!1},__class__:ub};var cb=function(){this._entries=[]};f["flambe.platform.EventGroup"]=cb;cb.__name__=["flambe","platform","EventGroup"];cb.__interfaces__=[ua];cb.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new Cc(a,b,c))},addDisposingListener:function(a,b,c){var d=this;this.addListener(a,b,function(a){d.dispose();c(a)})},dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,
c.listener,!1)}this._entries=[]},__class__:cb};var Cc=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};f["flambe.platform._EventGroup.Entry"]=Cc;Cc.__name__=["flambe","platform","_EventGroup","Entry"];Cc.prototype={__class__:Cc};var Lb=function(){};f["flambe.platform.InternalGraphics"]=Lb;Lb.__name__=["flambe","platform","InternalGraphics"];Lb.__interfaces__=[tc];Lb.prototype={__class__:Lb};var Dc=function(){};f["flambe.subsystem.RendererSystem"]=Dc;Dc.__name__=["flambe","subsystem",
"RendererSystem"];Dc.prototype={__class__:Dc};var Mb=function(){};f["flambe.platform.InternalRenderer"]=Mb;Mb.__name__=["flambe","platform","InternalRenderer"];Mb.__interfaces__=[Dc];Mb.prototype={__class__:Mb};var zc=function(){};f["flambe.platform.KeyCodes"]=zc;zc.__name__=["flambe","platform","KeyCodes"];zc.toKey=function(a){switch(a){case 65:return e.A;case 66:return e.B;case 67:return e.C;case 68:return e.D;case 69:return e.E;case 70:return e.F;case 71:return e.G;case 72:return e.H;case 73:return e.I;
case 74:return e.J;case 75:return e.K;case 76:return e.L;case 77:return e.M;case 78:return e.N;case 79:return e.O;case 80:return e.P;case 81:return e.Q;case 82:return e.R;case 83:return e.S;case 84:return e.T;case 85:return e.U;case 86:return e.V;case 87:return e.W;case 88:return e.X;case 89:return e.Y;case 90:return e.Z;case 48:return e.Number0;case 49:return e.Number1;case 50:return e.Number2;case 51:return e.Number3;case 52:return e.Number4;case 53:return e.Number5;case 54:return e.Number6;case 55:return e.Number7;
case 56:return e.Number8;case 57:return e.Number9;case 96:return e.Numpad0;case 97:return e.Numpad1;case 98:return e.Numpad2;case 99:return e.Numpad3;case 100:return e.Numpad4;case 101:return e.Numpad5;case 102:return e.Numpad6;case 103:return e.Numpad7;case 104:return e.Numpad8;case 105:return e.Numpad9;case 107:return e.NumpadAdd;case 110:return e.NumpadDecimal;case 111:return e.NumpadDivide;case 108:return e.NumpadEnter;case 106:return e.NumpadMultiply;case 109:return e.NumpadSubtract;case 112:return e.F1;
case 113:return e.F2;case 114:return e.F3;case 115:return e.F4;case 116:return e.F5;case 117:return e.F6;case 118:return e.F7;case 119:return e.F8;case 120:return e.F9;case 121:return e.F10;case 122:return e.F11;case 123:return e.F12;case 37:return e.Left;case 38:return e.Up;case 39:return e.Right;case 40:return e.Down;case 18:return e.Alt;case 192:return e.Backquote;case 220:return e.Backslash;case 8:return e.Backspace;case 20:return e.CapsLock;case 188:return e.Comma;case 15:return e.Command;case 17:return e.Control;
case 46:return e.Delete;case 35:return e.End;case 13:return e.Enter;case 187:return e.Equals;case 27:return e.Escape;case 36:return e.Home;case 45:return e.Insert;case 219:return e.LeftBracket;case 189:return e.Minus;case 34:return e.PageDown;case 33:return e.PageUp;case 190:return e.Period;case 222:return e.Quote;case 221:return e.RightBracket;case 186:return e.Semicolon;case 16:return e.Shift;case 191:return e.Slash;case 32:return e.Space;case 9:return e.Tab;case 16777234:return e.Menu;case 16777247:return e.Search}return e.Unknown(a)};
var Oa=function(){this._tickables=[]};f["flambe.platform.MainLoop"]=Oa;Oa.__name__=["flambe","platform","MainLoop"];Oa.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_4;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var d=c.next;0==(c._flags&1)&&(c._flags|=1,c.onStart());c.onUpdate(b);c=d}for(c=a.firstChild;null!=c;)d=c.next,Oa.updateEntity(c,b),c=d};Oa.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=
this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}s.volume.update(a);Oa.updateEntity(s.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),q.render(s.root,b),a.didRender())},addTickable:function(a){this._tickables.push(a)},__class__:Oa};var Ac=function(){};f["flambe.platform.MouseCodes"]=Ac;Ac.__name__=["flambe","platform","MouseCodes"];Ac.toButton=function(a){switch(a){case 0:return na.Left;case 1:return na.Middle;case 2:return na.Right}return na.Unknown(a)};
var Ec=function(){};f["flambe.platform.TextureRoot"]=Ec;Ec.__name__=["flambe","platform","TextureRoot"];Ec.prototype={__class__:Ec};var Nb=function(){};f["flambe.platform.Tickable"]=Nb;Nb.__name__=["flambe","platform","Tickable"];Nb.prototype={__class__:Nb};var Ob=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};f["flambe.platform.html.CanvasGraphics"]=Ob;Ob.__name__=["flambe","platform","html","CanvasGraphics"];Ob.__interfaces__=[Lb];Ob.prototype={save:function(){this._canvasCtx.save()},
transform:function(a,b,c,d,h,e){this._canvasCtx.transform(a,b,c,d,h,e)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,h,e,f){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,d,h,e,f),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+d|0,a.rootY+h|0,e|0,f|0,b|0,c|0,e|
0,f|0)},fillRect:function(a,b,c,d,h){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,d,h),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+r.string(a);this._canvasCtx.fillStyle="#"+r.string(a);this._canvasCtx.fillRect(b|0,c|0,d|0,h|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";
break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,d|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},__class__:Ob};var Pa=function(a){this.graphics=new Ob(a,!1);this._hasGPU=new ga(!0)};f["flambe.platform.html.CanvasRenderer"]=Pa;Pa.__name__=["flambe","platform","html",
"CanvasRenderer"];Pa.__interfaces__=[Mb];Pa.prototype={get_type:function(){return Ca.Canvas},createTextureFromImage:function(a){a=new db(Pa.CANVAS_TEXTURES?B.createCanvas(a):a);return a.createTexture(a.width,a.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:Pa};var Pb=function(a,b,c){Ha.call(this,a,b,c)};f["flambe.platform.html.CanvasTexture"]=
Pb;Pb.__name__=["flambe","platform","html","CanvasTexture"];Pb.__super__=Ha;Pb.prototype=x(Ha.prototype,{__class__:Pb});var db=function(a){this._graphics=null;this._disposed=!1;this.image=a;this.width=a.width;this.height=a.height};f["flambe.platform.html.CanvasTextureRoot"]=db;db.__name__=["flambe","platform","html","CanvasTextureRoot"];db.__interfaces__=[Ec];db.__super__=ha;db.prototype=x(ha.prototype,{createTexture:function(a,b){return new Pb(this,a,b)},onDisposed:function(){this._graphics=this.image=
null},__class__:db});var H=function(a,b){Ga.call(this,a,b)};f["flambe.platform.html.HtmlAssetPackLoader"]=H;H.__name__=["flambe","platform","html","HtmlAssetPackLoader"];H.detectImageFormats=function(a){var b=[t.PNG,t.JPG,t.GIF],c=2,d;d=window.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&b.unshift(t.WEBP);--c;0==c&&a(b)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var h;h=window.document.createElement("img");h.onload=h.onerror=function(){1==
h.width&&b.unshift(t.JXR);--c;0==c&&a(b)};h.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};H.detectAudioFormats=function(){var a;a=window.document.createElement("audio");if(null==a||null==g(a,a.canPlayType))return[];var b=new xa("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=window.navigator.userAgent;if(!I.get_supported()&&b.match(c))return[];
for(var b=[{format:t.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:t.MP3,mimeType:"audio/mpeg"},{format:t.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:t.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:t.WAV,mimeType:"audio/wav"}],c=[],d=0;d<b.length;){var h=b[d];++d;var e="";try{e=a.canPlayType(h.mimeType)}catch(f){}""!=e&&c.push(h.format)}return c};H.supportsBlob=function(){if(H._detectBlobSupport){H._detectBlobSupport=!1;if((new xa("\\bSilk\\b","")).match(window.navigator.userAgent)||null==
window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;H._URL=B.loadExtension("URL").value}return null!=H._URL&&null!=H._URL.createObjectURL};H.__super__=Ga;H.prototype=x(Ga.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var d;d=window.document.createElement("img");var h=new cb;h.addDisposingListener(d,"load",function(){H.supportsBlob()&&H._URL.revokeObjectURL(d.src);
var a=c._platform.getRenderer().createTextureFromImage(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});h.addDisposingListener(d,"error",function(){c.handleError(b,"Failed to load image")});H.supportsBlob()?this.download(a,b,"blob",function(a){d.src=H._URL.createObjectURL(a)}):d.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(I.get_supported())this.download(a,
b,"arraybuffer",function(a){I.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new I(a))},function(){c.handleLoad(b,sa.getInstance())})});else{var e;e=window.document.createElement("audio");e.preload="auto";var f=++H._mediaRefCount;null==H._mediaElements&&(H._mediaElements=new ra);H._mediaElements.set(f,e);h=new cb;h.addDisposingListener(e,"canplaythrough",function(){H._mediaElements.remove(f);c.handleLoad(b,new eb(e))});h.addDisposingListener(e,"error",function(){H._mediaElements.remove(f);var a=
e.error.code;3==a||4==a?c.handleLoad(b,sa.getInstance()):c.handleError(b,"Failed to load audio: "+e.error.code)});h.addListener(e,"progress",function(){if(0<e.buffered.length&&0<e.duration){var a=e.buffered.end(0)/e.duration;c.handleProgress(b,a*b.bytes|0)}});e.src=a;e.load()}break;case 13:this.download(a,b,"text",function(a){c.handleLoad(b,new bb(a))})}},getAssetFormats:function(a){var b=this;null==H._supportedFormats&&(H._supportedFormats=new Fb,H.detectImageFormats(function(a){H._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(H.detectAudioFormats()).concat([t.Data]))}));
H._supportedFormats.get(a)},download:function(a,b,c,d){var h=this,e=null,f=null,g=0,k=!1,j=function(){k&&(k=!1,window.clearInterval(g))},i=3,m=function(){--i;return 0<=i?(f(),!0):!1},f=function(){j();null!=e&&e.abort();e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType=c;var f=0;e.onprogress=function(a){k||(k=!0,g=window.setInterval(function(){4!=e.readyState&&5E3<Date.now()-f&&!m()&&(j(),h.handleError(b,"Download stalled"))},1E3));f=Date.now();h.handleProgress(b,a.loaded)};e.onerror=function(){if(0!=
e.status||!m())j(),h.handleError(b,"HTTP error "+e.status)};e.onload=function(){var a=e.response;null==a&&(a=e.responseText);j();d(a)};e.send()};f()},__class__:H});var sb=function(a,b){oa.call(this,a);this._canvas=b};f["flambe.platform.html.HtmlMouse"]=sb;sb.__name__=["flambe","platform","html","HtmlMouse"];sb.__super__=oa;sb.prototype=x(oa.prototype,{__class__:sb});var eb=function(a){this._disposed=!1;this.audioElement=a};f["flambe.platform.html.HtmlSound"]=eb;eb.__name__=["flambe","platform","html",
"HtmlSound"];eb.__interfaces__=[Ua];eb.__super__=ha;eb.prototype=x(ha.prototype,{play:function(a){null==a&&(a=1);return new fb(this,a,!1)},loop:function(a){null==a&&(a=1);return new fb(this,a,!0)},onDisposed:function(){this.audioElement=null},__class__:eb});var fb=function(a,b,c){var d=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new U(b,function(){d.updateVolume()});
this.updateVolume();this._complete=new ga(!1);this.playAudio();s.hidden._value&&this.set_paused(!0)};f["flambe.platform.html._HtmlSound.HtmlPlayback"]=fb;fb.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];fb.__interfaces__=[Nb,Jb];fb.prototype={set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},update:function(a){this.volume.update(a);this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?
(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(za.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=s.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=s.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},
updateVolume:function(){this._clonedElement.volume=s.volume._value*this.volume._value},__class__:fb};var Fc=function(){};f["flambe.subsystem.StageSystem"]=Fc;Fc.__name__=["flambe","subsystem","StageSystem"];Fc.prototype={__class__:Fc};var Na=function(a){var b=this;this._canvas=a;this.resize=new Q;this.scaleFactor=Na.computeScaleFactor();1!=this.scaleFactor&&(B.setVendorStyle(this._canvas,"transform-origin","top left"),B.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));B.SHOULD_HIDE_MOBILE_BROWSER&&
(window.addEventListener("orientationchange",function(){B.callLater(g(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",g(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new ga(null);null!=window.orientation&&(window.addEventListener("orientationchange",g(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new ga(!1);B.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},
!1);this.updateFullscreen()};f["flambe.platform.html.HtmlStage"]=Na;Na.__name__=["flambe","platform","html","HtmlStage"];Na.__interfaces__=[Fc];Na.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d"),b=B.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);a/=b;b=window.screen.height;return 1136<a*window.screen.width||1136<a*b?1:a};Na.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},
onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c|0;this._canvas.height=d|0;this.resize.emit();return!0},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";B.callLater(function(){B.hideMobileBrowser();
B.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(B.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(!0==B.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value)},__class__:Na};var vb=function(a){this._storage=a};f["flambe.platform.html.HtmlStorage"]=vb;vb.__name__=["flambe","platform","html","HtmlStorage"];vb.__interfaces__=[Kb];vb.prototype=
{set:function(a,b){var c;try{var d=new wa;d.useCache=!0;d.useEnumIndex=!1;d.serialize(b);c=d.toString()}catch(h){return!1}try{this._storage.setItem("flambe:"+a,c)}catch(e){return!1}return!0},get:function(a,b){var c=null;try{c=this._storage.getItem("flambe:"+a)}catch(d){null}if(null!=c)try{return ia.run(c)}catch(h){null}return b},__class__:vb};var B=function(){};f["flambe.platform.html.HtmlUtil"]=B;B.__name__=["flambe","platform","html","HtmlUtil"];B.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,
b)};B.hideMobileBrowser=function(){window.scrollTo(1,0)};B.loadExtension=function(a,b){null==b&&(b=window);var c=ma.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+y.substr(a,1,null),d=0,h=B.VENDOR_PREFIXES;d<h.length;){var e=h[d];++d;var f=e+c,g=ma.field(b,f);if(null!=g)return{prefix:e,field:f,value:g}}return{prefix:null,field:null,value:null}};B.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=B.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,
field:null,value:null}};B.polyfill=function(a,b){null==b&&(b=window);var c=B.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};B.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,h=B.VENDOR_PREFIXES;d<h.length;){var e=h[d];++d;a.setProperty("-"+e+"-"+b,c)}a.setProperty(b,c)};B.addVendorListener=function(a,b,c,d){for(var h=0,e=B.VENDOR_PREFIXES;h<e.length;){var f=e[h];++h;a.addEventListener(f+b,c,d)}a.addEventListener(b,c,d)};B.orientation=function(a){switch(a){case -90:case 90:return Ta.Landscape;
default:return Ta.Portrait}};B.createEmptyCanvas=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=b;return c};B.createCanvas=function(a){var b=B.createEmptyCanvas(a.width,a.height),c=b.getContext("2d");c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};B.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==
a?1:b(a)}}};var I=function(a){this._disposed=!1;this.buffer=a};f["flambe.platform.html.WebAudioSound"]=I;I.__name__=["flambe","platform","html","WebAudioSound"];I.__interfaces__=[Ua];I.get_supported=function(){if(I._detectSupport){I._detectSupport=!1;var a=B.loadExtension("AudioContext").value;null!=a&&(I.ctx=new a,I.gain=I.createGain(),I.gain.connect(I.ctx.destination),s.volume.watch(function(a){I.gain.gain.value=a}))}return null!=I.ctx};I.createGain=function(){return null!=I.ctx.createGain?I.ctx.createGain():
I.ctx.createGainNode()};I.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};I.__super__=ha;I.prototype=x(ha.prototype,{play:function(a){null==a&&(a=1);return new gb(this,a,!1)},loop:function(a){null==a&&(a=1);return new gb(this,a,!0)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:I});var gb=function(a,b,c){var d=this;this._sound=a;this._head=I.gain;this._complete=new ga(!1);this._sourceNode=I.ctx.createBufferSource();this._sourceNode.buffer=
a.buffer;this._sourceNode.loop=c;this._sourceNode.onended=function(){d._complete.set__(!0)};I.start(this._sourceNode,0);this.playAudio();this.volume=new U(b,function(a){d.setVolume(a)});1!=b&&this.setVolume(b);s.hidden._value&&this.set_paused(!0)};f["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=gb;gb.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];gb.__interfaces__=[Nb,Jb];gb.prototype={set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),
this._pausedAt=this.get_position()):this.playAudio());return a},get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(I.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(a){this.volume.update(a);3==this._sourceNode.playbackState&&this._complete.set__(!0);return this._complete._value||0<=this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},
setVolume:function(a){null==this._gainNode&&(this._gainNode=I.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=I.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(za.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=s.hidden.get_changed().connect(function(b){b?
(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},__class__:gb};var Qb=function(){this._transitor=null;F.call(this);this.scenes=[];this.occludedScenes=[];this._root=new i};f["flambe.scene.Director"]=Qb;Qb.__name__=["flambe","scene","Director"];Qb.__super__=F;Qb.prototype=x(F.prototype,{get_name:function(){return"Director_2"},pushScene:function(a,b){var c=this;this.completeTransition();var d=this.get_topScene();null!=d?this.playTransition(d,a,b,function(){c.hide(d)}):(this.add(a),
this.invalidateVisibility())},unwindToScene:function(a,b){var c=this;this.completeTransition();var d=this.get_topScene();if(null!=d){if(d!=a){for(this.scenes.pop();0<this.scenes.length&&this.scenes[this.scenes.length-1]!=a;)this.scenes.pop().dispose();this.playTransition(d,a,b,function(){c.hideAndDispose(d)})}}else this.pushScene(a,b)},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=
[];this.occludedScenes=[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},add:function(a){var b=this.get_topScene();null!=b&&this._root.removeChild(b);y.remove(this.scenes,a);this.scenes.push(a);this._root.addChild(a)},hide:function(a){a=a._compMap.Scene_3;null!=a&&a.hidden.emit()},hideAndDispose:function(a){this.hide(a);a.dispose()},show:function(a){a=
a._compMap.Scene_3;null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_3;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.show(a)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},playTransition:function(a,b,c,d){this.completeTransition();this.add(b);
null!=c?(this.occludedScenes.push(a),this._transitor=new Gc(a,b,c,d),this._transitor.init(this)):(d(),this.invalidateVisibility())},__class__:Qb});var Gc=function(a,b,c,d){this._from=a;this._to=b;this._transition=c;this._onComplete=d};f["flambe.scene._Director.Transitor"]=Gc;Gc.__name__=["flambe","scene","_Director","Transitor"];Gc.prototype={init:function(a){this._transition.init(a,this._from,this._to)},update:function(a){return this._transition.update(a)},complete:function(){this._transition.complete();
this._onComplete()},__class__:Gc};var Hc=function(){};f["flambe.scene.Scene"]=Hc;Hc.__name__=["flambe","scene","Scene"];Hc.__super__=F;Hc.prototype=x(F.prototype,{get_name:function(){return"Scene_3"},__class__:Hc});var pd=function(){};f["flambe.scene.Transition"]=pd;pd.__name__=["flambe","scene","Transition"];pd.prototype={init:function(a,b,c){this._director=a;this._from=b;this._to=c},update:function(){return!0},complete:function(){},__class__:pd};var Ia=function(){};f["flambe.script.Action"]=Ia;
Ia.__name__=["flambe","script","Action"];Ia.prototype={__class__:Ia};var o=function(a,b,c,d){this._value=a;this._to=b;this._seconds=c;this._easing=d};f["flambe.script.AnimateTo"]=o;o.__name__=["flambe","script","AnimateTo"];o.__interfaces__=[Ia];o.prototype={update:function(a){null==this._tween&&(this._tween=new yb(this._value._value,this._to,this._seconds,this._easing),this._value.set_behavior(this._tween),this._value.update(a));if(this._value._behavior!=this._tween){var b=this._tween.elapsed-this._seconds;
this._tween=null;return 0<b?Math.max(0,a-b):0}return-1},__class__:o};var M=function(a){this._fn=a};f["flambe.script.CallFunction"]=M;M.__name__=["flambe","script","CallFunction"];M.__interfaces__=[Ia];M.prototype={update:function(){this._fn();return 0},__class__:M};var Va=function(a){this._duration=a;this._elapsed=0};f["flambe.script.Delay"]=Va;Va.__name__=["flambe","script","Delay"];Va.__interfaces__=[Ia];Va.prototype={update:function(a){this._elapsed+=a;if(this._elapsed>=this._duration){var b=this._elapsed-
this._duration;this._elapsed=0;return a-b}return-1},__class__:Va};var R=function(a){this._completedActions=[];this._runningActions=null!=a?a.slice():[]};f["flambe.script.Parallel"]=R;R.__name__=["flambe","script","Parallel"];R.__interfaces__=[Ia];R.prototype={update:function(a,b){for(var c=!0,d=0,h=0,e=this._runningActions.length;h<e;){var f=h++,g=this._runningActions[f];if(null!=g){var k=g.update(a,b);0<=k?(this._runningActions[f]=null,this._completedActions.push(g),k>d&&(d=k)):c=!1}}return c?(this._runningActions=
this._completedActions,this._completedActions=[],d):-1},__class__:R};var N=function(){F.call(this);this.stopAll()};f["flambe.script.Script"]=N;N.__name__=["flambe","script","Script"];N.__super__=F;N.prototype=x(F.prototype,{get_name:function(){return"Script_6"},run:function(a){a=new Rb(a);this._handles.push(a);return a},stopAll:function(){this._handles=[]},onUpdate:function(a){for(var b=0;b<this._handles.length;){var c=this._handles[b];c.removed||0<=c.action.update(a,this.owner)?this._handles.splice(b,
1):++b}},__class__:N});var Rb=function(a){this.removed=!1;this.action=a};f["flambe.script._Script.Handle"]=Rb;Rb.__name__=["flambe","script","_Script","Handle"];Rb.__interfaces__=[ua];Rb.prototype={dispose:function(){this.removed=!0;this.action=null},__class__:Rb};var O=function(a){this._idx=0;this._runningActions=null!=a?a.slice():[]};f["flambe.script.Sequence"]=O;O.__name__=["flambe","script","Sequence"];O.__interfaces__=[Ia];O.prototype={update:function(a,b){for(var c=0;;){var d=this._runningActions[this._idx];
if(null!=d)if(d=d.update(a-c,b),0<=d)c+=d;else return-1;++this._idx;if(this._idx>=this._runningActions.length){this._idx=0;break}else if(c>a)return-1}return c},__class__:O};var Ca=f["flambe.subsystem.RendererType"]={__ename__:["flambe","subsystem","RendererType"],__constructs__:["Stage3D","WebGL","Canvas"]};Ca.Stage3D=["Stage3D",0];Ca.Stage3D.__enum__=Ca;Ca.WebGL=["WebGL",1];Ca.WebGL.__enum__=Ca;Ca.Canvas=["Canvas",2];Ca.Canvas.__enum__=Ca;var Sb=function(){};f["flambe.swf.Symbol"]=Sb;Sb.__name__=
["flambe","swf","Symbol"];Sb.prototype={__class__:Sb};var Tb=function(a,b){this._name=a.symbol;var c=a.rect;this.texture=b.subTexture(c[0],c[1],c[2],c[3]);c=a.origin;null!=c?(this.anchorX=c[0],this.anchorY=c[1]):this.anchorY=this.anchorX=0};f["flambe.swf.BitmapSymbol"]=Tb;Tb.__name__=["flambe","swf","BitmapSymbol"];Tb.__interfaces__=[Sb];Tb.prototype={createSprite:function(){var a=new u(this.texture);a.setAnchor(this.anchorX,this.anchorY);return a},__class__:Tb};var W=function(a,b){this._file=a.getFile(b+
"/library.json");var c=JSON.parse(this._file.toString());this._symbols=new ca;this.frameRate=c.frameRate;for(var d=[],h=0,e=c.movies;h<e.length;){var f=e[h];++h;f=new Ub(this,f);d.push(f);this._symbols.set(f._name,f)}c=c.textureGroups;(1!=c[0].scaleFactor||1<c.length)&&null;c=c[0].atlases;for(h=0;h<c.length;){var g=c[h];++h;e=a.getTexture(b+"/"+aa.removeFileExtension(g.file));f=0;for(g=g.textures;f<g.length;){var k=g[f];++f;k=new Tb(k,e);this._symbols.set(k._name,k)}}for(c=0;c<d.length;){e=d[c];++c;
h=0;for(e=e.layers;h<e.length;){f=e[h];++h;f=f.keyframes;g=f.length;for(k=0;k<g;){var j=k++,i=f[j];if(null!=i.symbolName){var m=this._symbols.get(i.symbolName);i.symbol=m}if(i.tweened&&1==i.duration&&j+1<g&&(j=f[j+1],!j.visible||null==j.symbolName))i.visible=!1}}}};f["flambe.swf.Library"]=W;W.__name__=["flambe","swf","Library"];W.prototype={createSprite:function(a,b){null==b&&(b=!0);var c=this._symbols.get(a);if(null==c){if(b)throw aa.withFields("Missing symbol",["name",a]);return null}return c.createSprite()},
__class__:W};var S=function(a){this._oneshotSprite=this._loopingSprite=null;F.call(this);this._lib=a;this._root=new i;this.movie=new ga(null);this.setCache(!0)};f["flambe.swf.MoviePlayer"]=S;S.__name__=["flambe","swf","MoviePlayer"];S.__super__=F;S.prototype=x(F.prototype,{get_name:function(){return"MoviePlayer_0"},setCache:function(a){this._cache=a?new ca:null;return this},play:function(a,b){null==b&&(b=!0);if(b||null==this._oneshotSprite||this._oneshotSprite.symbol._name!=a)this._oneshotSprite=
this.playFromCache(a);return this},loop:function(a,b){null==b&&(b=!0);if(b||null==this._loopingSprite||this._loopingSprite.symbol._name!=a)this._oneshotSprite=null,this._loopingSprite=this.playFromCache(a);return this},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this._root.dispose();this._oneshotSprite=this._loopingSprite=null;this.movie.set__(null)},onUpdate:function(a){null!=this._oneshotSprite&&this._oneshotSprite._position+a>this._oneshotSprite.symbol.duration&&(this._oneshotSprite=
null,this.setCurrent(this._loopingSprite))},playFromCache:function(a){var b;null!=this._cache?(b=this._cache.get(a),null!=b?b.set_position(0):(b=this.createMovie(a),this._cache.set(a,b))):b=this.createMovie(a);return this.setCurrent(b)},createMovie:function(a){a=this._lib.createSprite(a,!0);null!=this._decorator&&this._decorator(a);return a},setCurrent:function(a){this._root.add(a);return this.movie.set__(a)},__class__:S});var hb=function(a){this._looped=null;q.call(this);this.symbol=a;this.speed=
new U(1);this._animators=Array(a.layers.length);for(var b=0,c=this._animators.length;b<c;){var d=b++;this._animators[d]=new Ic(a.layers[d])}this._position=this._frame=0;this["goto"](1)};f["flambe.swf.MovieSprite"]=hb;hb.__name__=["flambe","swf","MovieSprite"];hb.__super__=q;hb.prototype=x(q.prototype,{onAdded:function(){q.prototype.onAdded.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.addChild(c.content)}},onRemoved:function(){q.prototype.onRemoved.call(this);for(var a=
0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.removeChild(c.content)}},onUpdate:function(a){q.prototype.onUpdate.call(this,a);this.speed.update(a);switch(this._flags&384){case 0:this._position+=this.speed._value*a;this._position>this.symbol.duration&&(this._position%=this.symbol.duration,null!=this._looped&&this._looped.emit());break;case 256:this._flags&=-257}this["goto"](this._position*this.symbol.frameRate)},"goto":function(a){if(this._frame!=a){if(a<this._frame)for(var b=0,c=this._animators;b<
c.length;){var d=c[b];++b;d.needsKeyframeUpdate=!0;d.keyframeIdx=0}b=0;for(c=this._animators;b<c.length;)d=c[b],++b,d.composeFrame(a);this._frame=a}},set_position:function(a){return this._position=Sa.clamp(a,0,this.symbol.duration)},set_paused:function(a){this._flags=Bb.set(this._flags,128,a);return a},get_looped:function(){null==this._looped&&(this._looped=new Q);return this._looped},rewind:function(){this._position=0;this._flags|=256},__class__:hb});var Ic=function(a){this.keyframeIdx=0;this.needsKeyframeUpdate=
!1;this.layer=a;this.content=new i;if(a.empty)this._sprites=null;else{this._sprites=Array(a.keyframes.length);for(var b=0,c=this._sprites.length;b<c;){var d=b++,h=a.keyframes[d];this._sprites[d]=0<d&&a.keyframes[d-1].symbol==h.symbol?this._sprites[d-1]:null==h.symbol?new q:h.symbol.createSprite()}this.content.add(this._sprites[0])}};f["flambe.swf._MovieSprite.LayerAnimator"]=Ic;Ic.__name__=["flambe","swf","_MovieSprite","LayerAnimator"];Ic.prototype={composeFrame:function(a){if(null!=this._sprites){var b=
this.layer.keyframes,c=b.length-1;if(a>this.layer.frames)this.content._compMap.Sprite_1.set_visible(!1),this.keyframeIdx=c,this.needsKeyframeUpdate=!0;else{for(;this.keyframeIdx<c&&b[this.keyframeIdx+1].index<=a;)++this.keyframeIdx,this.needsKeyframeUpdate=!0;var d;this.needsKeyframeUpdate?(this.needsKeyframeUpdate=!1,d=this._sprites[this.keyframeIdx],d!=this.content._compMap.Sprite_1&&(X.getClass(d)==hb&&d.rewind(),this.content.add(d))):d=this.content._compMap.Sprite_1;var h=b[this.keyframeIdx],
e=h.visible&&null!=h.symbol;d.set_visible(e);if(e){var e=h.x,f=h.y,g=h.scaleX,k=h.scaleY,j=h.skewX,i=h.skewY,m=h.alpha;if(h.tweened&&this.keyframeIdx<c){a=(a-h.index)/h.duration;c=h.ease;if(0!=c){var n;0>c?(n=1-a,n=1-n*n,c=-c):n=a*a;a=c*n+(1-c)*a}b=b[this.keyframeIdx+1];e+=(b.x-e)*a;f+=(b.y-f)*a;g+=(b.scaleX-g)*a;k+=(b.scaleY-k)*a;j+=(b.skewX-j)*a;i+=(b.skewY-i)*a;m+=(b.alpha-m)*a}b=d.getLocalMatrix();a=Math.sin(j);j=Math.cos(j);c=Math.sin(i);i=Math.cos(i);b.set(i*g,c*g,-a*k,j*k,e,f);b.translate(-h.pivotX,
-h.pivotY);d.alpha.set__(m)}}}},__class__:Ic};var Ub=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,d=this.layers.length;c<d;){var h=c++,e=new Jc(b.layers[h]);this.frames=Math.max(e.frames,this.frames);this.layers[h]=e}this.duration=this.frames/this.frameRate};f["flambe.swf.MovieSymbol"]=Ub;Ub.__name__=["flambe","swf","MovieSymbol"];Ub.__interfaces__=[Sb];Ub.prototype={createSprite:function(){return new hb(this)},__class__:Ub};
var Jc=function(a){this.empty=!0;this.name=a.name;var b=null;this.keyframes=Array(a.keyframes.length);for(var c=0,d=this.keyframes.length;c<d;){var h=c++,b=new Kc(a.keyframes[h],b);this.keyframes[h]=b;this.empty=this.empty&&null==b.symbolName}this.frames=null!=b?b.index+b.duration:0};f["flambe.swf.MovieLayer"]=Jc;Jc.__name__=["flambe","swf","MovieLayer"];Jc.prototype={__class__:Jc};var Kc=function(a,b){this.ease=0;this.visible=this.tweened=!0;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=
0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=null;this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;this.label=a.label;this.symbolName=a.ref;var c=a.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=a.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=a.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=a.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=a.visible);null!=a.tweened&&(this.tweened=a.tweened);null!=
a.ease&&(this.ease=a.ease)};f["flambe.swf.MovieKeyframe"]=Kc;Kc.__name__=["flambe","swf","MovieKeyframe"];Kc.prototype={__class__:Kc};var nd=function(){};f["flambe.util.Assert"]=nd;nd.__name__=["flambe","util","Assert"];nd.that=function(){};var Bb=function(){};f["flambe.util.BitSets"]=Bb;Bb.__name__=["flambe","util","BitSets"];Bb.set=function(a,b,c){return c?a|b:a&~b};var Fb=function(){this.success=new z;this.error=new z;this.progressChanged=new Q;this.hasResult=!1;this._total=this._progress=0};f["flambe.util.Promise"]=
Fb;Fb.__name__=["flambe","util","Promise"];Fb.prototype={set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){this._progress!=a&&(this._progress=a,this.progressChanged.emit());return a},set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:Fb};
var Q=function(a){$.call(this,a)};f["flambe.util.Signal0"]=Q;Q.__name__=["flambe","util","Signal0"];Q.__super__=$;Q.prototype=x($.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==$.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:Q});var oc=function(a){this.next=null;this.fn=
a};f["flambe.util._SignalBase.Task"]=oc;oc.__name__=["flambe","util","_SignalBase","Task"];oc.prototype={__class__:oc};var aa=function(){};f["flambe.util.Strings"]=aa;aa.__name__=["flambe","util","Strings"];aa.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?y.substr(a,b+1,null):null};aa.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?y.substr(a,0,b):a};aa.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=y.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&
(a=y.substr(a,b+1,null));return aa.getFileExtension(a)};aa.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};aa.withFields=function(a,b){var c=b.length;if(0<c){for(var a=0<a.length?a+" [":a+"[",d=0;d<c;){0<d&&(a+=", ");var h=b[d],e=b[d+1];if(r.is(e,Error)){var f=e.stack;null!=f&&(e=f)}a+=h+"="+r.string(e);d+=2}a+="]"}return a};var wa=function(){this.buf=new Ma;this.cache=[];this.useCache=wa.USE_CACHE;this.useEnumIndex=wa.USE_ENUM_INDEX;this.shash=new ca;this.scount=
0};f["haxe.Serializer"]=wa;wa.__name__=["haxe","Serializer"];wa.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,
c=0,d=this.cache.length;c<d;){var h=c++,e=this.cache[h];if(typeof e==b&&e==a)return this.buf.b+="r",this.buf.b=null==h?this.buf.b+"null":this.buf.b+(""+h),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=ma.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(ma.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=X["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+
"null":this.buf.b+(""+a);break;case 2:Math.isNaN(a)?this.buf.b+="k":Math.isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=a.length,d=0;d<c;){var h=d++;null==a[h]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+=
"u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[h]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case $a:this.buf.b+="l";for(a=a.iterator();a.hasNext();)this.serialize(a.next());this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.add(y.dateStr(a));break;case ca:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(a.get(c));this.buf.b+="h";break;
case ra:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.get(c));this.buf.b+="h";break;case Ja:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=b.next(),d=ma.field(c,"__id__"),ma.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case Wa:d=0;h=a.length-2;b=new Ma;for(c=wa.BASE64;d<h;){var e=a.get(d++),f=a.get(d++),g=a.get(d++);b.add(c.charAt(e>>2));b.add(c.charAt((e<<
4|f>>4)&63));b.add(c.charAt((f<<2|g>>6)&63));b.add(c.charAt(g&63))}d==h?(h=a.get(d++),a=a.get(d++),b.add(c.charAt(h>>2)),b.add(c.charAt((h<<4|a>>4)&63)),b.add(c.charAt(a<<2&63))):d==h+1&&(a=a.get(d++),b.add(c.charAt(a>>2)),b.add(c.charAt(a<<4&63)));a=b.b;this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(X.getClassName(b)),
this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(X.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a);break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(X.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",
this.buf.b+=r.string(a[1])):this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=r.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+r.string(a);}},__class__:wa};var pa=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};f["haxe.Timer"]=pa;pa.__name__=["haxe","Timer"];pa.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},
__class__:pa};var ia=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=ia.DEFAULT_RESOLVER;null==a&&(a=X,ia.DEFAULT_RESOLVER=a);this.setResolver(a)};f["haxe.Unserializer"]=ia;ia.__name__=["haxe","Unserializer"];ia.initCodes=function(){for(var a=[],b=0,c=ia.BASE64.length;b<c;){var d=b++;a[ia.BASE64.charCodeAt(d)]=d}return a};ia.run=function(a){return(new ia(a)).unserialize()};ia.prototype={setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},
resolveEnum:function(){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw"Invalid object key";var c=
this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return X.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return X.createEnum(a,b,d)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==
b||69==b)this.pos++;else break}return r.parseFloat(y.substr(this.buf,a,this.pos-a));case 121:a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid string length";b=y.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;
break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw"Invalid reference";return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw"Invalid string reference";return this.scache[a];case 120:throw this.unserialize();case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+
a;a=X.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw"Enum not found "+a;this.pos++;var c=this.readDigits(),d=X.getEnumConstructs(b)[c];if(null==d)throw"Unknown enum index "+a+"@"+c;a=this.unserializeEnum(b,d);this.cache.push(a);
return a;case 108:a=new $a;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;return a;case 98:a=new ca;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new ra;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw"Invalid IntMap format";return a;case 77:a=new Ja;for(this.cache.push(a);104!=
this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return a=y.substr(this.buf,this.pos,19),a=y.strDate(a),this.cache.push(a),this.pos+=19,a;case 115:a=this.readDigits();d=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<a)throw"Invalid bytes length";var h=ia.CODES;null==h&&(h=ia.initCodes(),ia.CODES=h);for(var e=this.pos,f=a&3,g=e+(a-f),b=Wa.alloc(3*(a>>2)+(2<=f?f-1:0)),c=0;e<g;){var k=h[T.fastCodeAt(d,e++)],j=h[T.fastCodeAt(d,e++)];
b.set(c++,k<<2|j>>4);k=h[T.fastCodeAt(d,e++)];b.set(c++,j<<4|k>>2);j=h[T.fastCodeAt(d,e++)];b.set(c++,k<<6|j)}2<=f&&(j=h[T.fastCodeAt(d,e++)],g=h[T.fastCodeAt(d,e++)],b.set(c++,j<<2|g>>4),3==f&&(d=h[T.fastCodeAt(d,e++)],b.set(c++,g<<4|d>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw"Class not found "+a;a=X.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw"Invalid custom data";
return a}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},__class__:ia};var ra=function(){this.h={}};f["haxe.ds.IntMap"]=ra;ra.__name__=["haxe","ds","IntMap"];ra.__interfaces__=[mc];ra.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b|0);return y.iter(a)},__class__:ra};var Ja=function(){this.h={};this.h.__keys__={}};f["haxe.ds.ObjectMap"]=Ja;Ja.__name__=["haxe","ds","ObjectMap"];Ja.__interfaces__=[mc];Ja.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Ja.count);this.h[c]=b;this.h.__keys__[c]=a},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return y.iter(a)},__class__:Ja};var ca=function(){this.h={}};f["haxe.ds.StringMap"]=ca;ca.__name__=["haxe","ds","StringMap"];
ca.__interfaces__=[mc];ca.prototype={set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+a)},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return y.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},__class__:ca};var Wa=function(a,b){this.length=a;this.b=b};f["haxe.io.Bytes"]=
Wa;Wa.__name__=["haxe","io","Bytes"];Wa.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new Wa(a,b)};Wa.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},__class__:Wa};var qd=function(){};f["haxe.io.Eof"]=qd;qd.__name__=["haxe","io","Eof"];qd.prototype={toString:function(){return"Eof"},__class__:qd};var md=function(){};f["haxe.rtti.Meta"]=md;md.__name__=["haxe","rtti","Meta"];md.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};var Lc=
function(a){this.__x=a};f["haxe.xml._Fast.NodeAccess"]=Lc;Lc.__name__=["haxe","xml","_Fast","NodeAccess"];Lc.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw(this.__x.nodeType==l.Document?"Document":this.__x.get_nodeName())+" is missing element "+a;return new ja(b)},__class__:Lc};var Mc=function(a){this.__x=a};f["haxe.xml._Fast.AttribAccess"]=Mc;Mc.__name__=["haxe","xml","_Fast","AttribAccess"];Mc.prototype={resolve:function(a){if(this.__x.nodeType==l.Document)throw"Cannot access document attribute "+
a;var b=this.__x.get(a);if(null==b)throw this.__x.get_nodeName()+" is missing attribute "+a;return b},__class__:Mc};var Nc=function(a){this.__x=a};f["haxe.xml._Fast.HasAttribAccess"]=Nc;Nc.__name__=["haxe","xml","_Fast","HasAttribAccess"];Nc.prototype={resolve:function(a){if(this.__x.nodeType==l.Document)throw"Cannot access document attribute "+a;return this.__x.exists(a)},__class__:Nc};var Oc=function(a){this.__x=a};f["haxe.xml._Fast.HasNodeAccess"]=Oc;Oc.__name__=["haxe","xml","_Fast","HasNodeAccess"];
Oc.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:Oc};var Pc=function(a){this.__x=a};f["haxe.xml._Fast.NodeListAccess"]=Pc;Pc.__name__=["haxe","xml","_Fast","NodeListAccess"];Pc.prototype={resolve:function(a){for(var b=new $a,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new ja(c))}return b},__class__:Pc};var ja=function(a){if(a.nodeType!=l.Document&&a.nodeType!=l.Element)throw"Invalid nodeType "+r.string(a.nodeType);this.x=a;this.node=new Lc(a);
this.nodes=new Pc(a);this.att=new Mc(a);this.has=new Nc(a);this.hasNode=new Oc(a)};f["haxe.xml.Fast"]=ja;ja.__name__=["haxe","xml","Fast"];ja.prototype={get_name:function(){return this.x.nodeType==l.Document?"Document":this.x.get_nodeName()},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.get_name()+" does not have data";var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==l.PCData&&c.nodeType==l.CData&&""==T.trim(b.get_nodeValue())&&(b=a.next(),null==b||b.nodeType==l.PCData&&
""==T.trim(b.get_nodeValue())&&null==a.next()))return c.get_nodeValue();throw this.get_name()+" does not only have data";}if(b.nodeType!=l.PCData&&b.nodeType!=l.CData)throw this.get_name()+" does not have data";return b.get_nodeValue()},__class__:ja};var ya=function(){};f["haxe.xml.Parser"]=ya;ya.__name__=["haxe","xml","Parser"];ya.parse=function(a){var b=l.createDocument();ya.doParse(a,0,b);return b};ya.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,h=1,e=1,f=null,g=0,k=0,j=0,i=a.charCodeAt(b),
m=new Ma;i==i;){switch(h){case 0:switch(i){case 10:case 13:case 9:case 32:break;default:h=e;continue}break;case 1:switch(i){case 60:h=0;e=2;break;default:g=b;h=13;continue}break;case 13:60==i?(e=l.createPCData(m.b+y.substr(a,g,b-g)),m=new Ma,c.addChild(e),k++,h=0,e=2):38==i&&(m.addSub(a,g,b-g),h=18,e=13,g=b+1);break;case 17:93==i&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(h=l.createCData(y.substr(a,g,b-g)),c.addChild(h),k++,b+=2,h=1);break;case 2:switch(i){case 33:if(91==a.charCodeAt(b+1)){b+=
2;if("CDATA["!=y.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;h=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=y.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;h=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;h=15}g=b+1;break;case 63:h=14;g=b;break;case 47:if(null==c)throw"Expected node name";g=b+1;h=0;e=10;break;default:h=3;g=b;continue}break;case 3:if(!(97<=i&&122>=i||65<=i&&90>=i||48<=i&&57>=i||58==i||46==i||
95==i||45==i)){if(b==g)throw"Expected node name";d=l.createElement(y.substr(a,g,b-g));c.addChild(d);h=0;e=4;continue}break;case 4:switch(i){case 47:h=11;k++;break;case 62:h=9;k++;break;default:h=5;g=b;continue}break;case 5:if(!(97<=i&&122>=i||65<=i&&90>=i||48<=i&&57>=i||58==i||46==i||95==i||45==i)){if(g==b)throw"Expected attribute name";f=y.substr(a,g,b-g);if(d.exists(f))throw"Duplicate attribute";h=0;e=6;continue}break;case 6:switch(i){case 61:h=0;e=7;break;default:throw"Expected =";}break;case 7:switch(i){case 34:case 39:h=
8;g=b;break;default:throw'Expected "';}break;case 8:i==a.charCodeAt(g)&&(e=y.substr(a,g+1,b-g-1),d.set(f,e),h=0,e=4);break;case 9:g=b=ya.doParse(a,b,d);h=1;break;case 11:switch(i){case 62:h=1;break;default:throw"Expected >";}break;case 12:switch(i){case 62:return 0==k&&c.addChild(l.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=i&&122>=i||65<=i&&90>=i||48<=i&&57>=i||58==i||46==i||95==i||45==i)){if(g==b)throw"Expected node name";if(y.substr(a,g,b-g)!=c.get_nodeName())throw"Expected </"+
c.get_nodeName()+">";h=0;e=12;continue}break;case 15:45==i&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(l.createComment(y.substr(a,g,b-g))),b+=2,h=1);break;case 16:91==i?j++:93==i?j--:62==i&&0==j&&(c.addChild(l.createDocType(y.substr(a,g,b-g))),h=1);break;case 14:63==i&&62==a.charCodeAt(b+1)&&(b++,h=y.substr(a,g+1,b-g-2),c.addChild(l.createProcessingInstruction(h)),h=1);break;case 18:59==i&&(g=y.substr(a,g,b-g),35==g.charCodeAt(0)?(g=120==g.charCodeAt(1)?r.parseInt("0"+y.substr(g,1,
g.length-1)):r.parseInt(y.substr(g,1,g.length-1)),m.add(String.fromCharCode(g))):ya.escapes.exists(g)?m.add(ya.escapes.get(g)):m.b+=r.string("&"+g+";"),g=b+1,h=e)}i=T.fastCodeAt(a,++b)}1==h&&(g=b,h=13);if(13==h)return(b!=g||0==k)&&c.addChild(l.createPCData(m.b+y.substr(a,g,b-g))),b;throw"Unexpected end";};var K=function(){};f["js.Boot"]=K;K.__name__=["js","Boot"];K.getClass=function(a){return a instanceof Array&&null==a.__enum__?Array:a.__class__};K.__string_rec=function(a,b){if(null==a)return"null";
if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,h=a.length;d<h;)var e=d++,c=2!=e?c+(","+K.__string_rec(a[e],b)):c+K.__string_rec(a[e],b);return c+")"}c=a.length;d="[";b+="\t";for(h=0;h<c;)e=h++,d+=(0<e?",":"")+K.__string_rec(a[e],b);return d+"]"}try{d=a.toString}catch(f){return"???"}if(null!=d&&d!=Object.toString&&(c=a.toString(),
"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";h=null!=a.hasOwnProperty;for(c in a)if(!h||a.hasOwnProperty(c))"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+K.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};K.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,h=
c.length;d<h;){var e=d++,e=c[e];if(e==b||K.__interfLoop(e,b))return!0}return K.__interfLoop(a.__super__,b)};K.__instanceof=function(a,b){if(null==b)return!1;switch(b){case xd:return(a|0)===a;case ud:return"number"==typeof a;case vd:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case yd:return!0;default:if(null!=a){if("function"==typeof b&&(a instanceof b||K.__interfLoop(K.getClass(a),b)))return!0}else return!1;return b==zd&&null!=
a.__name__||b==Ad&&null!=a.__ename__?!0:a.__enum__==b}};K.__cast=function(a,b){if(K.__instanceof(a,b))return a;throw"Cannot cast "+r.string(a)+" to "+r.string(b);};var ld=function(){};f["js.Browser"]=ld;ld.__name__=["js","Browser"];ld.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return null}};var G=function(a,b,c,d,e){null==e&&(e="audio/glossy_click_31");null==d&&(d="");this._scale=1;this.isOver=this.isDown=!1;this.pointerEnabled=!0;this._assets=a;this._sfx=
e;this.entity=new i;this.id=d;this.down=new z;this.sprite=new u(a.getTexture(b));this.sprite.setAnchor(this.sprite.getNaturalWidth()/2,this.sprite.getNaturalHeight()/2);this.sprite.get_pointerIn().connect(g(this,this.onButtonOver));this.sprite.get_pointerOut().connect(g(this,this.onButtonOut));this.sprite.get_pointerDown().connect(g(this,this.onButtonDown));this.sprite.get_pointerUp().connect(g(this,this.onButtonUp));this.entity.addChild((new i).add(this.sprite))};f["spongebob.Button"]=G;G.__name__=
["spongebob","Button"];G.prototype={enable:function(){this.pointerEnabled=!0;if(this.isOver)this.onButtonOver()},disable:function(){if(this.isOver)this.onButtonOut();this.pointerEnabled=!1},setXY:function(a,b){this.sprite.x.set__(a);this.sprite.y.set__(b)},setScale:function(a){this._scale=this.sprite.scaleX.set__(this.sprite.scaleY.set__(a))},onButtonDown:function(){this.pointerEnabled&&(this.isDown=!0)},onButtonUp:function(){this.isDown&&this.pointerEnabled&&(this._assets.getSound(this._sfx).play(),
this.down.emit(this.id))},onButtonOver:function(){this.isOver=!0;if(this.pointerEnabled){var a=[];a.push(new o(this.sprite.scaleX,1.1*this._scale,0.2,p.quadOut));a.push(new o(this.sprite.scaleY,1.1*this._scale,0.2,p.quadOut));var b=new N;b.run(new O([new R(a)]));this.entity.add(b)}},onButtonOut:function(){this.isOver=!1;if(this.pointerEnabled){var a=[];a.push(new o(this.sprite.scaleX,this._scale,0.1,p.quadIn));a.push(new o(this.sprite.scaleY,this._scale,0.1,p.quadIn));var b=new N;b.run(new O([new R(a)]));
this.entity.add(b)}},cleanUp:function(){},__class__:G};var Qc=function(a,b,c){null==c&&(c=1);null==b&&(b=560);null==a&&(a=960);this._halfWidth=a/2|0;this._halfHeight=b/2|0;this._damping=c;this._lookAt=new L};f["spongebob.Camera"]=Qc;Qc.__name__=["spongebob","Camera"];Qc.prototype={lookAt:function(a,b){null==b&&(b=0);null==a&&(a=0);this._lookAt.x=a;this._lookAt.y=b},isVisible:function(a,b){null==b&&(b=!1);if(b){if(a.x._value>this._lookAt.x-1E3&&a.x._value<this._lookAt.x+1E3&&a.y._value>this._lookAt.y-
500&&a.y._value<this._lookAt.y+1E3)return!0}else if(a.x._value>this._lookAt.x-768&&a.x._value<this._lookAt.x+640&&a.y._value>this._lookAt.y-512&&a.y._value<this._lookAt.y+384)return!0;return!1},snapTo:function(a,b,c){null==c&&(c=0);null==b&&(b=0);this._lookAt.x=b;this._lookAt.y=c;a.sprite.x.set__(this._halfWidth-this._lookAt.x);a.sprite.y.set__(this._halfHeight-this._lookAt.y)},update:function(a){a.sprite.x.set__(this._halfWidth-this._lookAt.x);a.sprite.y.set__(this._halfHeight-this._lookAt.y)},__class__:Qc};
var w=function(){this.isRemoveOffscreen=!1;this.entity=new i;this.type="none";this.id=0;this.col=new Z;this.isSolid=!1;this.contents=""};f["spongebob.SceneObject"]=w;w.__name__=["spongebob","SceneObject"];w.prototype={setCollisionArea:function(a){this.col=new Z(a.x,a.y,a.width,a.height)},activate:function(){return!1},setContents:function(a){this.contents=a},cleanUp:function(){null!=this.sprite&&this.entity.remove(this.sprite);this.sprite=null;this.entity.dispose();this.entity=null},__class__:w};var Xa=
function(a,b,c){null==c&&(c=1);w.call(this,a);this.moviePlayer=new S(new W(a.assets,"characters"));this.moviePlayer.loop(b);this.sprite=new q;this.sprite.setScaleXY(0.85,0.85);this.entity.add(this.moviePlayer).add(this.sprite);this.state=1;this.type="character";this.id=c};f["spongebob.Character"]=Xa;Xa.__name__=["spongebob","Character"];Xa.__super__=w;Xa.prototype=x(w.prototype,{__class__:Xa});var Ka=function(a,b,c){null==c&&(c="chest");null==b&&(b=1);w.call(this,a);this.variation=c;this.moviePlayer=
new S(new W(a.assets,"objects"));this.moviePlayer.loop(this.variation+"_closed");this.isSolid=!0;this.sprite=new q;this.sprite.set_pointerEnabled(!1);this.entity.add(this.moviePlayer).add(this.sprite);this.state=!1;this.type="chest";this.id=b;this.open=new z};f["spongebob.Chest"]=Ka;Ka.__name__=["spongebob","Chest"];Ka.__super__=w;Ka.prototype=x(w.prototype,{setAlreadyUsed:function(){this.state=!0;this.moviePlayer.loop(this.variation+"_open")},activate:function(){return!this.state?(this.state=!0,
this.moviePlayer.loop(this.variation+"_open"),this.moviePlayer.play(this.variation+"_opening"),this.open.emit(this),!0):!1},__class__:Ka});var Rc=function(a,b){null==b&&(b="intro");this._ctx=a;this.entity=new i;this.sprite=new q;this.anim=new S(new W(this._ctx.nis,b));this.anim.loop(b+"_frame1");this.entity.add(this.sprite).add(this.anim);this._frameList=[];this._loopFrame=[];this._messageList=[];this._nameList=[];this._imageList=[];this._printout=new pb("");this.box=new u(a.nis.getTexture("dialogue_box"));
this.box.setScaleXY(0.96,1);this.box.x.set__(84);this.box.y.set__(374);this.entity.addChild((new i).add(this.box));this.characterImage=new u(this._ctx.nis.getTexture("characters/profile_mrkrabs"));this.characterImage.setScaleXY(0.9,0.9);this.characterImage.setXY(12,358);this.characterImage.set_visible(!1);this.entity.addChild((new i).add(this.characterImage));var c=new Y(a.nis,"bikini_bottom_48");this.text=new P(c,"");this.text.x.set__(155);this.text.y.set__(75);this.text.letterSpacing.set__(-2);
this.text.wrapWidth.set__(660);this.text.set_align(D.Left);this.box.owner.addChild((new i).add(this.text));c=new Y(a.nis,"tiki_island_56");this.nameText=new P(c,"");this.nameText.x.set__(110);this.nameText.y.set__(9);this.nameText.wrapWidth.set__(328);this.nameText.set_align(D.Center);this.box.owner.addChild((new i).add(this.nameText));this.complete=new Q;this._data=new ja(l.parse(a.nis.getFile(b+".xml").toString()).firstElement());for(c=this._data.nodes.resolve("frame").iterator();c.hasNext();){var d=
c.next();this._frameList.push(d.node.resolve("asset").get_innerData());"true"==d.att.resolve("loop")?this._loopFrame.push(!0):this._loopFrame.push(!1)}this._currentMessage=0;this._currentFrame=-1;this.nextFrame();this.skipButton=new G(a.nis,"skip_button");this.skipButton.setXY(840,100);this.skipButton.down.connect(g(this,this.skip));this.entity.addChild(this.skipButton.entity);this._music=this._ctx.nis.getSound("audio/mischievous_elves").loop()};f["spongebob.Cinematic"]=Rc;Rc.__name__=["spongebob",
"Cinematic"];Rc.prototype={getMessageList:function(a){this._messageList.splice(0,this._messageList.length);this._nameList.splice(0,this._nameList.length);this._imageList.splice(0,this._imageList.length);for(var b=this._data.nodes.resolve("frame").iterator();b.hasNext();){var c=b.next();if(c.att.resolve("id")==r.string(a+1)){for(a=c.node.resolve("messages").nodes.resolve("message").iterator();a.hasNext();)b=a.next(),this._messageList.push(b.get_innerData()),this._nameList.push(b.att.resolve("character")),
this._imageList.push(b.att.resolve("asset"));break}}},next:function(){null!=this._timer&&(this._timer.stop(),this._timer=null);this._currentMessage++;this._currentMessage>=this._messageList.length?this.nextFrame():(this.text.set_text(""),this._printout.setText(this._messageList[this._currentMessage]),this.nameText.set_text(this._nameList[this._currentMessage].toUpperCase()),this.characterImage.texture=this._ctx.nis.getTexture("characters/profile_"+this._imageList[this._currentMessage]),this.characterImage.set_visible(!0))},
nextFrame:function(){this._currentFrame++;if(this._currentFrame>=this._frameList.length)null!=this._timer&&(this._timer.stop(),this._timer=null),null!=this._music&&this._music.dispose(),this.complete.emit(),this.entity.dispose();else{this.anim.loop(this._frameList[this._currentFrame]);var a=this.anim.movie._value;a.set_paused(!1);if(!this._loopFrame[this._currentFrame])a.get_looped().connect(g(this,this.onFrameComplete)).once();this.getMessageList(this._currentFrame);this._currentMessage=-1;this.next();
this.text.set_text("");this._printout.setText(this._messageList[this._currentMessage])}},onFrameComplete:function(){var a=this.anim.movie._value;a.set_paused(!0);a.set_position(a.symbol.duration)},update:function(){this._printout.update();this.text.set_text(this._printout.getText());this.text._text.length==this._messageList[this._currentMessage].length-1&&(this._timer=new pa(3E3),this._timer.run=g(this,this.next))},skip:function(){null!=this._timer&&(this._timer.stop(),this._timer=null);null!=this._music&&
this._music.dispose();this.complete.emit();this.entity.dispose()},__class__:Rc};var Vb=function(a,b,c){F.call(this);this._ctx=a;this._slot=b;this._file=c};f["spongebob.CinematicMenu"]=Vb;Vb.__name__=["spongebob","CinematicMenu"];Vb.__super__=F;Vb.prototype=x(F.prototype,{get_name:function(){return"CinematicMenu_7"},onAdded:function(){this._holder=new ka;this.owner.addChild(this._holder.entity);this._nis=new Rc(this._ctx,this._file);qa=this._nis.complete.connect(g(this,this.onComplete));g(qa,qa.once);
this._holder.entity.addChild(this._nis.entity)},onComplete:function(){"intro"==this._file?J.startGame(this._ctx,this._slot):J.exitGame(this._ctx)},onUpdate:function(a){null!=this._nis&&this._nis.update(a)},__class__:Vb});var Sc=function(){};f["spongebob.CinematicScene"]=Sc;Sc.__name__=["spongebob","CinematicScene"];Sc.create=function(a,b,c){var d=new i,a=new Vb(a,b,c);d.add(a);Sc.complete=new Q;return d};var Wb=function(a,b,c){null==c&&(c=!1);null==b&&(b=1);w.call(this,a);this.moviePlayer=new S(new W(a.assets,
"objects"));c?(this.moviePlayer.loop("door_open"),this.isSolid=!1):(this.moviePlayer.loop("door_closed"),this.isSolid=!0);this.sprite=new q;this.sprite.set_pointerEnabled(!1);this.entity.add(this.moviePlayer).add(this.sprite);this.state=c;this.type="door";this.id=b};f["spongebob.Door"]=Wb;Wb.__name__=["spongebob","Door"];Wb.__super__=w;Wb.prototype=x(w.prototype,{activate:function(){(this.state=!this.state)?(this.moviePlayer.loop("door_open"),this.moviePlayer.play("door_opening"),this.isSolid=!1):
(this.moviePlayer.loop("door_closed"),this.moviePlayer.play("door_closing"),this.isSolid=!0);return this.state},__class__:Wb});var Xb=function(a,b){null==b&&(b=1);w.call(this,a);this.sprite=new q;this.entity.add(this.sprite);this.type="dummy";this.id=b;this.isSolid=!1};f["spongebob.DummyObject"]=Xb;Xb.__name__=["spongebob","DummyObject"];Xb.__super__=w;Xb.prototype=x(w.prototype,{activate:function(){return!0},__class__:Xb});var Yb=function(a,b){null==b&&(b=0);this._delayedAction="";this._touchCount=
0;this._fixedCamera=this._isActionKeyPressed=!1;this._isRunning=!0;this.CONTROL_TOUCH=1;this.CONTROL_KEYBOARD=0;F.call(this);this._ctx=a;this._saveSlot=b};f["spongebob.Game"]=Yb;Yb.__name__=["spongebob","Game"];Yb.__super__=F;Yb.prototype=x(F.prototype,{get_name:function(){return"Game_8"},onAdded:function(){960!=s._platform.getStage().get_width()&&560!=s._platform.getStage().get_height()&&s._platform.getTouch().get_supported()&&(this._controlMethod=this.CONTROL_TOUCH);this.loadGame(this._saveSlot);
this._gameState.isGameStarted=!0;this.saveGame(this._saveSlot);this._buildingData=new ja(l.parse(this._ctx.assets.getFile("buildings.xml").toString()).firstElement());this._characterData=new ja(l.parse(this._ctx.assets.getFile("characters.xml").toString()).firstElement());this._locationData=new ja(l.parse(this._ctx.assets.getFile("locations.xml").toString()).firstElement());this._itemData=new ja(l.parse(this._ctx.assets.getFile("items.xml").toString()).firstElement());this._tileData=[new m(0,"tile_00"),
new m(1,""),new m(2,"block",!0),new m(3,"blank",!0),new m(4,"tile_01",!0),new m(5,"tile_02",!0),new m(6,"tile_03",!0),new m(7,"tile_04",!0),new m(8,"tile_05",!0),new m(9,"tile_06",!0),new m(10,"tile_07",!1),new m(11,"tile_08",!0),new m(12,"tile_09",!0),new m(13,"tile_10",!0),new m(14,"tile_11",!1),new m(15,"tile_12",!1),new m(16,"tile_13",!0),new m(17,"tile_14",!1),new m(18,"tile_15",!1),new m(19,"tile_16",!1),new m(20,"tile_17",!1),new m(21,"tile_18",!0),new m(22,"tile_19",!1),new m(23,"tile_20",
!1),new m(24,"tile_21",!0),new m(25,"tile_22",!1),new m(26,"tile_23",!0),new m(27,"tile_24",!0),new m(28,"tile_25",!1),new m(29,"tile_26",!0),new m(30,"tile_27",!0),new m(31,"tile_28",!1),new m(32,"tile_29",!1),new m(33,"tile_30",!0),new m(34,"tile_31",!1),new m(35,"tile_32",!0),new m(36,"tile_33",!0),new m(37,"tile_34",!0),new m(38,"tile_35",!0),new m(39,"tile_36",!1),new m(40,"tile_37",!1),new m(41,"tile_38",!1),new m(42,"tile_39",!1),new m(43,"tile_40",!0),new m(44,"tile_41",!1),new m(45,"tile_42",
!1),new m(46,"tile_43",!1),new m(47,"tile_44",!0),new m(48,"tile_45",!0),new m(49,"tile_46",!0),new m(50,"tile_47",!0),new m(51,"tile_48",!0),new m(52,"tile_49",!0),new m(53,"tile_50",!0),new m(54,"tile_51",!0),new m(55,"tile_52",!1),new m(56,"tile_53",!0),new m(57,"tile_54",!0),new m(58,"tile_55",!1),new m(59,"tile_56",!0),new m(60,"tile_57",!1),new m(61,"tile_58",!0),new m(62,"tile_59",!1),new m(63,"tile_60",!0),new m(64,"tile_61",!1),new m(65,"tile_62",!0),new m(66,"tile_63",!0),new m(67,"tile_64",
!0),new m(68,"tile_65",!1),new m(69,"hole_04",!1),new m(70,"hole_06",!1),new m(71,"hole_08",!1),new m(72,"hole_10",!1),new m(73,"hole_12",!1),new m(74,"hole_15",!1),new m(75,"xtra_01",!1),new m(76,"xtra_02",!1),new m(77,"xtra_03",!1),new m(78,"xtra_04",!1),new m(79,"xtra_05",!0),new m(80,"xtra_06",!0),new m(81,"xtra_07",!0),new m(82,"xtra_08",!1),new m(83,"xtra_09",!0),new m(84,"lagoon_00",!0),new m(85,"lagoon_01",!0),new m(86,"lagoon_02",!0),new m(87,"xtra_10",!1),new m(88,"xtra_11",!1),new m(89,
"xtra_12",!1),new m(90,"lagoon_03",!0),new m(91,"lagoon_04",!0),new m(92,"lagoon_05",!1),new m(93,"lagoon_06",!1),new m(94,"lagoon_07",!1),new m(95,"hole_01",!1),new m(96,"hole_02",!1),new m(97,"hole_03",!1),new m(98,"hole_05",!1),new m(99,"hole_07",!1),new m(100,"hole_09",!1),new m(101,"hole_11",!1),new m(102,"hole_13",!1),new m(103,"hole_14",!1)];this._collectionItems="anchor,formula,gas,glovey,jelly,license,newspaper,pearl,snailfood,squidward_picture,trophy,tulips".split(",");this._tutorial=new Tc(this._ctx,
this._gameState,"tutorial.xml",this._controlMethod);this._holder=new ka;this.owner.addChild(this._holder.entity);this._world=new Uc(this._ctx,this._holder);this._world.hazardHit.connect(g(this,this.onHazardHit));this._world.dummyHit.connect(g(this,this.onDummyHit)).once();this._world.switchHit.connect(g(this,this.onSwitchHit));this._hud=new Vc(this._ctx,this._controlMethod==this.CONTROL_TOUCH);this._hud.pause.connect(g(this,this.pause));this._hud.menu.connect(g(this,this.openBrain));this._hud.map.connect(g(this,
this.showMap));this._hud.messageHide.connect(g(this,this.onMessageHide));this._hud.nextWeapon.connect(g(this,this.equipNext));0<this._gameState.newProfiles.length&&this._hud.showNewLabel();this._hud.health.setMax(this._gameState.maxHealth);this._hud.health.setHealth(this._gameState.maxHealth);this._hud.setProfilesMax(28);this._hud.setProfilesUnlocked(this._gameState.profiles.length);this._hud.setCollectionItemsMax(12);this._hud.setCollectionItemsFound(this._gameState.collection.length);this._holder.entity.addChild(this._hud.entity);
this._transition=new Wc;this._holder.entity.addChild(this._transition.entity);this._enemies=[];this._projectiles=[];this._pickups=[];this._player=new Zb(this._ctx);this._player.killed.connect(g(this,this.onPlayerKilled));this._player.fallen.connect(g(this,this.onPlayerFallen));this._player.brainOpen.connect(g(this,this.showBrainMenu));this._player.setHealth(this._gameState.maxHealth);this._currentPortal=0;var a;a=1<this._gameState.currentLocation?1:0;this._transition.start(0,!0);this._transition.show.connect(g(this,
this.onLocationTransitionComplete)).once();this.goToLocation(this._gameState.currentLocation,a);this._world.scene.entity.addChild(this._player.entity);this._world.objects.push(this._player);this._camera=new Qc;this._camera.snapTo(this._world.scene,this._player.sprite.x._value,this._player.sprite.y._value-64);this._cinematicCamera=!1;this._cinematic=new A;this.keys=new Xc;this.keys.addKey("Left");this.keys.addKey("Right");this.keys.addKey("Up");this.keys.addKey("Down");this.keys.addKey("Space");this._worldPointer=
new L;this._pointerVector=new L;this._shootVector=new L;s._platform.getTouch().up.connect(g(this,this.onPointerUp));s._platform.getTouch().down.connect(g(this,this.onPointerDown));s._platform.getTouch().move.connect(g(this,this.onPointerMove));s._platform.getKeyboard().down.connect(g(this,this.onKeyDown));this._inactivityCount=0},saveGame:function(a){null==a&&(a=0);var a=r.string("save_game_"+a),b=s._platform.getStorage();b.set(a,this._gameState);a=b.get(a,new ib(this._ctx));r.string(a)},loadGame:function(a){null==
a&&(a=0);a=r.string("save_game_"+a);this._gameState=s._platform.getStorage().get(a,new ib(this._ctx));r.string(this._gameState)},exitGame:function(){this.cleanUp();J.exitGame(this._ctx)},gameComplete:function(){this.cleanUp();J.startNIS(this._ctx,this._saveSlot,"outro")},onLocationTransitionOut:function(){0<this._currentPortal&&(this.goToLocation(this.getPortalDestination(this._gameState.currentLocation,this._currentPortal)),this._currentPortal=0,this._isRunning=!0)},onLocationTransitionComplete:function(){this.showTutorial(0);
1==this._gameState.currentLocation&&this.showTutorial(3)},pause:function(){this._world.pause();this._isRunning=!1;null==this._pauseMenu&&(this._pauseMenu=new Yc(this._ctx),this._pauseMenu.hidden.connect(g(this,this.resume)).once(),this._pauseMenu.code.connect(g(this,this.showCodeMenu)),this._pauseMenu.exit.connect(g(this,this.exitGame)).once(),this._holder.entity.addChild(this._pauseMenu.entity))},resume:function(){1>this._gameState.newProfiles.length&&this._hud.hideNewLabel();this._world.resume();
this._isRunning=!0;null!=this._pauseMenu&&(this._holder.entity.removeChild(this._pauseMenu.entity),this._pauseMenu=null);null!=this._brainMenu&&(this._player.isControl=!0,this._holder.entity.removeChild(this._brainMenu.entity),this._brainMenu=null,this._sfxPlayback.dispose());null!=this._map&&(this._holder.entity.removeChild(this._map.entity),this._map=null)},closePauseMenu:function(){null!=this._pauseMenu&&this._pauseMenu.isReady&&(this._pauseMenu.hidden.connect(g(this,this.resume)).once(),this._pauseMenu.hide())},
showMap:function(){this._world.pause();this._isRunning=!1;null==this._map&&(this._map=new Zc(this._ctx,new A(this._player.pos.x,this._player.pos.z),this.getMapOffset(this._gameState.currentLocation),this.getMapScale(this._gameState.currentLocation),this.getMapObjective(this._gameState.currentLocation)),qa=this._map.hidden.connect(g(this,this.resume)),g(qa,qa.once),this._holder.entity.addChild(this._map.entity),this._sfxPlayback=this._ctx.assets.getSound("audio/paper01").play())},openBrain:function(){this._isRunning=
!1;this._player.openBrain()},showWorld:function(){this._world.show()},showBrainMenu:function(){this._world.hide();this._world.pause();this._isRunning=!1;null==this._brainMenu&&(this._brainMenu=new $c(this._ctx,this._player.equipped,this._gameState),qa=this._brainMenu.hiding.connect(g(this,this.showWorld)),g(qa,qa.once),qa=this._brainMenu.hidden.connect(g(this,this.resume)),g(qa,qa.once),this._brainMenu.equip.connect(g(this,this.onEquip)),this._holder.entity.addChild(this._brainMenu.entity),this._sfxPlayback=
this._ctx.assets.getSound("audio/bubbling_goop03").play(),this._player.stop())},showCodeMenu:function(){this._world.hide();this._world.pause();this._isRunning=!1;null==this._codeMenu&&(this._codeMenu=new ad(this._ctx),qa=this._codeMenu.hidden.connect(g(this,this.closeCodeMenu)),g(qa,qa.once),this._codeMenu.submit.connect(g(this,this.onCodeEntered)),this._holder.entity.addChild(this._codeMenu.entity))},onCodeEntered:function(a){var b="";switch(a.toLowerCase()){case "gold":this._gameState.hasEquipment("golden_spatula")||
(b="golden_spatula",this._gameState.unlockEquipment(b),this._player.equipped=b,this._hud.setCurrentWeapon(b),this.saveGame(this._saveSlot));break;case "gulch":this._gameState.hasEquipment("foam_hand")||(b="foam_hand",this._gameState.unlockEquipment(b),this._player.equipped=b,this._hud.setCurrentWeapon(b),this.saveGame(this._saveSlot))}""!=b?this._codeMenu.unlock(b):this._codeMenu.clearCode()},closeCodeMenu:function(){null!=this._pauseMenu&&this._pauseMenu.sprite.set_visible(!0);this._codeMenu=null;
this._world.show()},updateKeys:function(){this._isRunning&&this._player.isControl&&(this.keys.state("Left")?(this._player.vel.x=-1,this._player.dir.x=-1,!this.keys.state("Up")&&!this.keys.state("Down")&&(this._player.dir.z=0)):this.keys.state("Right")?(this._player.vel.x=1,this._player.dir.x=1,!this.keys.state("Up")&&!this.keys.state("Down")&&(this._player.dir.z=0)):this._player.vel.x=0,this.keys.state("Up")?(this._player.vel.z=-1,this._player.dir.z=-1,!this.keys.state("Right")&&!this.keys.state("Left")&&
(this._player.dir.x=0)):this.keys.state("Down")?(this._player.vel.z=1,this._player.dir.z=1,!this.keys.state("Right")&&!this.keys.state("Left")&&(this._player.dir.x=0)):this._player.vel.z=0,0!=this._player.vel.x&&0!=this._player.vel.z&&(this._player.vel.x*=0.7,this._player.vel.z*=0.7));this.keys.state("Space")?this._isActionKeyPressed||(this.action(),this._isActionKeyPressed=!0):this._isActionKeyPressed=!1},updateTouch:function(){this._isRunning&&this._player.isControl&&0==this._touchCount&&(this._player.vel.x=
0,this._player.vel.z=0)},onPointerDown:function(a){C.circleCollision(a.viewX/J.scale,a.viewY/J.scale,10,this._hud.touchControls.actionButtonPos.x,this._hud.touchControls.actionButtonPos.y,this._hud.touchControls.actionButtonRadius)&&(this._hud.touchControls.actionOn(),this.action());this._touchCount++;20<this._inactivityCount&&(1>=this._hud.health.getHealth()?this._hud.setSpongeBobState("low_health"):this._hud.setSpongeBobState("default"));this._inactivityCount=0},onPointerMove:function(a){0<this._touchCount&&
(this.touchControlMovement(a.viewX,a.viewY),C.circleCollision(a.viewX/J.scale,a.viewY/J.scale,10,this._hud.touchControls.actionButtonPos.x,this._hud.touchControls.actionButtonPos.y,this._hud.touchControls.actionButtonRadius)||this._hud.touchControls.actionOff())},touchControlMovement:function(a,b){this._hud.touchControls.allArrowsOff();if(C.circleCollision(a/J.scale,b/J.scale,10,this._hud.touchControls.thumbstickPos.x,this._hud.touchControls.thumbstickPos.y,this._hud.touchControls.thumbstickRadius)){var c=
new L(a/J.scale-this._hud.touchControls.thumbstickPos.x,b/J.scale-this._hud.touchControls.thumbstickPos.y);c.normalize();this._player.dir.x=Math.round(c.x);this._player.dir.z=Math.round(c.y);0.5<c.x?(this._hud.touchControls.arrowOn("right"),this._player.vel.x=1):-0.5>c.x?(this._hud.touchControls.arrowOn("left"),this._player.vel.x=-1):this._player.vel.x=0;0.5<c.y?(this._hud.touchControls.arrowOn("down"),this._player.vel.z=1):-0.5>c.y?(this._hud.touchControls.arrowOn("up"),this._player.vel.z=-1):this._player.vel.z=
0;0!=this._player.vel.x&&0!=this._player.vel.z&&(this._player.vel.x*=0.7,this._player.vel.z*=0.7)}},onPointerUp:function(){this._touchCount--;this._hud.touchControls.actionOff();this._hud.touchControls.allArrowsOff();0>this._touchCount&&(this._touchCount=0)},shoot:function(){var a=this._player.dir.x,b=this._player.dir.z;if(this._player.shoot()){var c=new La(this._ctx,a,b,"player");c.pos.x=this._player.pos.x;c.pos.z=this._player.pos.z;c.sprite.rotation.set__((new L(a,b)).angle()-90);c.remove.connect(g(this,
this.onProjectileHit)).once();this._world.scene.entity.addChild(c.entity);this._projectiles.push(c)}},onEnemyShoot:function(a,b){var c=new La(this._ctx,b.x,b.y,"enemy");c.pos.x=a.sprite.x._value+a.shootOffset.x;c.pos.z=a.sprite.y._value+a.shootOffset.y+80;c.sprite.rotation.set__(b.angle()-90);c.remove.connect(g(this,this.onProjectileHit)).once();this._world.scene.entity.addChild(c.entity);this._projectiles.push(c)},onEnemyMallet:function(a){C.circleCollision(this._player.pos.x+this._player.collisonOffset.x,
this._player.pos.z+this._player.collisonOffset.y,this._player.collisionRadius,a.sprite.x._value+a.col.x,a.sprite.y._value+a.col.y,80)&&this.playerHit(a.sprite.x._value,a.sprite.y._value,a.attackPower)},onProjectileHit:function(a){this._world.scene.entity.removeChild(a.entity);for(var b=this._projectiles.length,c=0;c<b;){var d=c++;if(this._projectiles[d]==a){this._projectiles.splice(d,1);break}}a.cleanUp()},onBossActivate:function(){for(var a=0,b=this._world.objects;a<b.length;){var c=b[a];++a;"switch"==
c.type&&K.__cast(c,Ya).state&&c.activate()}},updateContext:function(){var a="weapon";if(this._hud.isMessage())a="skip";else{var b=0,c=this._world.objects;try{for(;b<c.length;){var d=c[b];++b;if(0!=(d.sprite._flags&2))switch(d.type){case "portal":if(C.circleCollision(this._player.pos.x,this._player.pos.z,1,d.sprite.x._value,d.sprite.y._value,50)){a="door";if(this._tutorial.isDone(2)&&this.showTutorial(7))return;throw"__break__";}break;case "switch":if(C.circleCollision(this._player.pos.x,this._player.pos.z,
1,d.sprite.x._value,d.sprite.y._value,100)){a="switch";if(this.showTutorial(6))return;throw"__break__";}break;case "character":if(C.circleCollision(this._player.pos.x,this._player.pos.z,1,d.sprite.x._value,d.sprite.y._value,130)){a="speak";if(this.showTutorial(1))return;throw"__break__";}break;case "chest":if(C.circleCollision(this._player.pos.x,this._player.pos.z,1,d.sprite.x._value,d.sprite.y._value,100)&&!K.__cast(d,Ka).state){"treasure"!=a&&1<this._hud.health.getHealth()&&this._hud.setSpongeBobState("item");
a="treasure";if(this.showTutorial(5))return;throw"__break__";}}}}catch(e){if("__break__"!=e)throw e;}}"treasure"!=a&&1<this._hud.health.getHealth()&&this._hud.setSpongeBobState("default");this._controlMethod==this.CONTROL_TOUCH&&this._hud.touchControls.setActionButton(a,this._player.equipped)},showTutorial:function(a){return!this._tutorial.isDone(a)?(a=this._tutorial.get(a),""!=a.imageFile&&(this._tutorialImage=new u(this._ctx.assets.getTexture(a.imageFile)),this._tutorialImage.setXY(a.imagePosition.x,
a.imagePosition.y),this._hud.entity.addChild((new i).add(this._tutorialImage))),this.showMessage(a.text,"","",a.delay),this.saveGame(this._saveSlot),this._controlMethod==this.CONTROL_TOUCH&&(this._hud.touchControls.setActionButton("skip",this._player.equipped),null!=this._hud.touchControls&&this._hud.touchControls.showThumbstick(!1)),!0):!1},action:function(){var a=!1;if(this._hud.isMessage())return this._hud.nextMessage(),!1;if(!this._player.isControl)return!1;if(!a){var b=0,c=this._world.objects;
try{for(;b<c.length;){var d=c[b];++b;if(0!=(d.sprite._flags&2))switch(d.type){case "portal":if(C.circleCollision(this._player.pos.x,this._player.pos.z,1,d.sprite.x._value,d.sprite.y._value,50))throw this._currentPortal=d.id,5==this._currentPortal&&1==this._gameState.currentLocation&&!this._gameState.hasItem("boat_keys")&&!this._gameState.usedItem("boat_keys")&&(this._currentPortal=0,this.showMessage("I'm not going in there")),0!=this._currentPortal&&(this._player.isControl=!1,this._player.stop(),
this._touchCount=0,this._transition.hide.connect(g(this,this.onLocationTransitionOut)).once(),this._transition.show.connect(g(this,this.onLocationTransitionComplete)).once(),this._transition.start()),this._isRunning=!1,a=!0,"__break__";break;case "switch":if(C.circleCollision(this._player.pos.x,this._player.pos.z,1,d.sprite.x._value,d.sprite.y._value,100))throw this.onSwitchHit(d),a=!0,"__break__";break;case "character":if(C.circleCollision(this._player.pos.x,this._player.pos.z,1,d.sprite.x._value,
d.sprite.y._value,130))throw d.activate(),this.activateCharacter(K.__cast(d,Xa)),a=!0,"__break__";break;case "sandpile":if("reef_blower"==this._player.equipped&&!K.__cast(d,jb).state&&C.circleCollision(this._player.pos.x,this._player.pos.z,1,d.sprite.x._value,d.sprite.y._value,130))throw b=1,this._player.sprite.x._value>d.sprite.x._value&&(b=-1),d.activate(),this._gameState.setLevelObjectUsed(Math.floor(d.sprite.x._value/j.WIDTH),Math.floor(d.sprite.y._value/j.HEIGHT)),this._player.dig(b),a=!0,"__break__";
break;case "chest":if(C.circleCollision(this._player.pos.x,this._player.pos.z,1,d.sprite.x._value,d.sprite.y._value,100)&&!K.__cast(d,Ka).state)throw d.activate(),this._gameState.setLevelObjectUsed(Math.floor(d.sprite.x._value/j.WIDTH),Math.floor(d.sprite.y._value/j.HEIGHT)),a=!0,"__break__";}}}catch(e){if("__break__"!=e)throw e;}}a||("reef_blower"==this._player.equipped?this.attack():"pattypult"==this._player.equipped?this.shoot():this.attack());return a},onSwitchHit:function(a){a.activate();this._world.activateObject("door",
a.id);this._gameState.setLevelObjectUsed(Math.floor(a.sprite.x._value/j.WIDTH),Math.floor(a.sprite.y._value/j.HEIGHT),!0);this._sfxPlayback=this._ctx.assets.getSound("audio/drawbridge_gate_open_02").play();11==this._gameState.currentLocation&&null!=this._boss&&this._boss.updateSwitches(a.id,K.__cast(a,Ya).state)},attack:function(){"reef_blower"==this._player.equipped?this._player.spadeAttack():this._player.attack()},spawnPickup:function(a,b,c,d,e){null==e&&(e=1);if(this._gameState.hasEquipment(d))return!1;
return Math.random()<e?(c=new $b(this._ctx,c,d),c.sprite.x.set__(a),c.sprite.y.set__(b),c.collected.connect(g(this,this.onPickupCollected)).once(),c.remove.connect(g(this,this.onPickupRemoved)).once(),this._world.scene.entity.addChild(c.entity),this._pickups.push(c),!0):!1},onPickupRemoved:function(a){this._world.scene.entity.removeChild(a.entity);for(var b=this._pickups.length,c=0;c<b;){var d=c++;if(this._pickups[d]==a){this._pickups.splice(d,1);break}}a.cleanUp()},pickupExists:function(a){for(var b=
0,c=this._pickups;b<c.length;){var d=c[b];++b;if(d.type==a)return!0}return!1},activateCharacter:function(a){for(var b="",c=this._characterData.nodes.resolve("character").iterator();c.hasNext();){var d=c.next();if(d.att.resolve("id")==(null==a.id?"null":""+a.id)){this.characterFound(d.node.resolve("asset").get_innerData());for(a=d.node.resolve("responses").nodes.resolve("response").iterator();a.hasNext();){c=a.next();if(""==b)if(c.has.resolve("item"))for(var e=0,f=this._gameState.questItems.length;e<
f;){var g=e++;if(c.att.resolve("item")==this._gameState.questItems[g]){b=r.string(c.get_innerData());this.showMessage(b,d.node.resolve("name").get_innerData(),d.node.resolve("asset").get_innerData());c.has.resolve("action")&&(this._delayedAction=c.att.resolve("action"));this._gameState.itemsUsed.push(this._gameState.questItems.splice(g,1).pop());break}}else if(c.has.resolve("after")&&(this._gameState.hasItem(c.att.resolve("after"))||this.pickupExists(c.att.resolve("after"))))b=r.string(c.get_innerData()),
this.showMessage(b,d.node.resolve("name").get_innerData(),d.node.resolve("asset").get_innerData()),c.has.resolve("action")&&(this._delayedAction=c.att.resolve("action"));""==b&&c.has.resolve("used_item")&&this._gameState.usedItem(c.att.resolve("used_item"))&&(b=r.string(c.get_innerData()),this.showMessage(b,d.node.resolve("name").get_innerData(),d.node.resolve("asset").get_innerData()),c.has.resolve("action")&&(this._delayedAction=c.att.resolve("action")))}for(a=d.node.resolve("responses").nodes.resolve("response").iterator();a.hasNext();)c=
a.next(),""==b&&"1"==c.att.resolve("id")&&(b=r.string(c.get_innerData()),this.showMessage(b,d.node.resolve("name").get_innerData(),d.node.resolve("asset").get_innerData()),c.has.resolve("action")&&(this._delayedAction=c.att.resolve("action")));break}}},triggerAction:function(a){switch(a){case "add_krabby_patty":this.pickupExists("krabby_patty")||this.spawnPickup(520,520,"items","krabby_patty");break;case "brain_tutorial":this.showTutorial(2);break;case "equipment_tutorial":this.showTutorial(4);break;
case "remove_patrick":this._world.removeCharacter(2);this._world.removeCharacter(32);this._world.getObstacle(3).changeSprite(this._ctx,"buildings/patricks_stone_open");this.spawnPickup(4420,2600,"items","magazine");this.addSpotEffect("zzz",4420,2400);break;case "add_reef_blower":this._world.removeCharacter(33);this.spawnPickup(5325,3075,"items","reef_blower");break;case "remove_mrspuff":this._player.isControl=!1;a=this._world.getCharacter(13);a.moviePlayer.play("npc_mrspuff_drive");a.moviePlayer.movie.get_changed().connect(g(this,
this.onRemoveMrsPuff)).once();this.spawnPickup(3050,3975,"items","washer");break;case "add_mailbag":this._world.getObstacle(9).changeSprite(this._ctx,"buildings/krusty_krab_sign");this.spawnPickup(2775,2675,"items","mailbag");this._gameState.isMailbagMoved=!0;break;case "add_donut":this.spawnPickup(1725,2700,"items","donut");break;case "add_soda":this.spawnPickup(2625,1275,"items","soda");break;case "add_coupon":this.spawnPickup(3080,2740,"items","coupon");this._world.getCharacter(12).moviePlayer.loop("npc_mailfish_bag");
break;case "lift_boulder":this._world.getCharacter(7).moviePlayer.loop("npc_larryboulder");this._world.removeCharacter(30);this._gameState.isBoulderMoved=!0;break;case "plankton_1":this.activateCharacter(this.addCharacter(10,4975,2120));break;case "close_door_1":this._world.activateObject("door",3);break;case "plankton_2":this.activateCharacter(this.addCharacter(10,6300,945));break;case "close_door_2":this._world.activateObject("door",1);break;case "open_mine":this.addPortal(4,3525,6175);break;case "game_complete":this._gameState.currentLocation=
1,this.saveGame(this._saveSlot),this.gameComplete()}},onRemoveMrsPuff:function(){this._world.removeCharacter(13);this._player.isControl=!0},goToLocation:function(a,b){null==b&&(b=-1);var c=this;this.clearLevel();this._boss=null;var d=!0,e=this.getLocationStyle(this._gameState.currentLocation),f=this.getLocationStyle(a);f==e&&(d=!1);"town"==e&&"interior"==f&&(d=!1);"town"==f&&"interior"==e&&(d=!1);"dungeon"==e&&"fields"==f&&(d=!1);"dungeon"==f&&"fields"==e&&(d=!1);null==this._musicPlayback&&(d=!0);
null!=this._musicPlayback&&(d&&this._musicPlayback.dispose(),("fields"==f||"fields"==e)&&this._musicPlayback.dispose());var g=0;if(0>b)for(var i=0;8>i;){var k=i++;if(this.getPortalDestination(a,k+1)==this._gameState.currentLocation){g=k+1;break}}else g=b;var j="town";if("dungeon"==f||"fields"==f)j="dungeon";null!=this._ctx.map&&this._ctx.map.dispose();s.loadAssetPack(V.fromAssets(this.getLocationMapFile(a))).get(function(b){c._ctx.map=b;c._gameState.currentLocation=a;c.saveGame(c._saveSlot);if(d){var i=
new bd(c._ctx);c._holder.entity.addChild(i.entity);null!=c._ctx.level&&c._ctx.level.dispose();s.loadAssetPack(V.fromAssets(j)).get(function(b){c._ctx.level=b;i.cleanUp();c._holder.entity.removeChild(i.entity);i.entity.dispose();i=null;c._transition.reveal();c.buildLevel(c.getLocationMap(a),f,g);c._player.pos.x=c._playerStart.x;c._player.pos.z=c._playerStart.y;c._player.dir.z=1;c._player.isControl=!0;c._musicPlayback="town"==j||"fields"==f?c._ctx.level.getSound("audio/calypso_beach").loop():c._ctx.level.getSound("audio/temple_of_the_tribes").loop();
11==a&&(c._bossCinematic=!1,c.onBossActivate())})}else"fields"==f?c._musicPlayback=c._ctx.level.getSound("audio/calypso_beach").loop():"fields"==e&&(c._musicPlayback="town"==j?c._ctx.level.getSound("audio/calypso_beach").loop():c._ctx.level.getSound("audio/temple_of_the_tribes").loop()),c._transition.reveal(),c.buildLevel(c.getLocationMap(a),f,g),c._player.pos.x=c._playerStart.x,c._player.pos.z=c._playerStart.y,c._player.dir.z=1,c._player.isControl=!0,11==a&&(c._bossCinematic=!1,c.onBossActivate())})},
onEquip:function(a){this._player.equipped=a;this._hud.setCurrentWeapon(a)},equipNext:function(){for(var a=0,b=this._gameState.equipment.length,c=0;c<b;){var d=c++;if(this._gameState.equipment[d]==this._player.equipped){a=d+1;break}}a>=this._gameState.equipment.length&&(a=0);this.onEquip(this._gameState.equipment[a])},onKeyDown:function(a){this._controlMethod=this.CONTROL_KEYBOARD;20<this._inactivityCount&&(1>=this._hud.health.getHealth()?this._hud.setSpongeBobState("low_health"):this._hud.setSpongeBobState("default"));
this._inactivityCount=0;this._player.isControl&&"P"==r.string(a.key)+""&&(this._isRunning?this.pause():this.closePauseMenu())},getMapScale:function(a){for(var b=1,c=this._locationData.nodes.resolve("location").iterator();c.hasNext();){var d=c.next();if(d.att.resolve("id")==(null==a?"null":""+a)){b=r.parseFloat(d.node.resolve("map_file").att.resolve("scale"));break}}return b},getMapOffset:function(a){for(var b=new A,c=this._locationData.nodes.resolve("location").iterator();c.hasNext();){var d=c.next();
if(d.att.resolve("id")==(null==a?"null":""+a)){b.x=r.parseFloat(d.node.resolve("map_file").att.resolve("left"));b.y=r.parseFloat(d.node.resolve("map_file").att.resolve("top"));break}}return b},getMapObjective:function(a){for(var b=null,c=this._locationData.nodes.resolve("location").iterator();c.hasNext();){var d=c.next();if(d.att.resolve("id")==(null==a?"null":""+a)){d.hasNode.resolve("objective")&&(d.node.resolve("objective").has.resolve("not_item")?this._gameState.hasItem(d.node.resolve("objective").att.resolve("not_item"))||
(b=new A,b.x=r.parseFloat(d.node.resolve("objective").att.resolve("x")),b.y=r.parseFloat(d.node.resolve("objective").att.resolve("y"))):(b=new A,b.x=r.parseFloat(d.node.resolve("objective").att.resolve("x")),b.y=r.parseFloat(d.node.resolve("objective").att.resolve("y"))));break}}return b},getLocationMap:function(a){for(var b="",c=this._locationData.nodes.resolve("location").iterator();c.hasNext();){var d=c.next();if(d.att.resolve("id")==(null==a?"null":""+a)){b=d.node.resolve("map").get_innerData();
break}}return b},getLocationMapFile:function(a){for(var b="",c=this._locationData.nodes.resolve("location").iterator();c.hasNext();){var d=c.next();if(d.att.resolve("id")==(null==a?"null":""+a)){b=d.node.resolve("map_file").get_innerData();break}}return b},getLocationStyle:function(a){for(var b="",c=this._locationData.nodes.resolve("location").iterator();c.hasNext();){var d=c.next();if(d.att.resolve("id")==(null==a?"null":""+a)){b=d.node.resolve("style").get_innerData();break}}return b},getLocationBackground:function(a){for(var b=
"",c=this._locationData.nodes.resolve("location").iterator();c.hasNext();){var d=c.next();if(d.att.resolve("id")==(null==a?"null":""+a)){d.hasNode.resolve("background")&&(b=d.node.resolve("background").get_innerData());break}}return b},getLocationForeground:function(a){for(var b="",c=this._locationData.nodes.resolve("location").iterator();c.hasNext();){var d=c.next();if(d.att.resolve("id")==(null==a?"null":""+a)){d.hasNode.resolve("background")&&d.node.resolve("background").has.resolve("front")&&
(b=d.node.resolve("background").att.resolve("front"));break}}return b},getFixedLocationOffset:function(a){for(var b=new A,c=this._locationData.nodes.resolve("location").iterator();c.hasNext();){var d=c.next();if(d.att.resolve("id")==(null==a?"null":""+a)){d.hasNode.resolve("background")&&(d.node.resolve("background").has.resolve("offset_x")&&(b.x=r.parseFloat(d.node.resolve("background").att.resolve("offset_x"))),d.node.resolve("background").has.resolve("offset_y")&&(b.y=r.parseFloat(d.node.resolve("background").att.resolve("offset_y"))));
break}}return b},getItemDialogue:function(a){for(var b="",c=this._itemData.nodes.resolve("item").iterator();c.hasNext();){var d=c.next();if(d.node.resolve("asset").get_innerData()==(null==a?"null":""+a)){b=d.node.resolve("dialogue").get_innerData();break}}return b},getItemAction:function(a){for(var b="",c=this._itemData.nodes.resolve("item").iterator();c.hasNext();){var d=c.next();if(d.node.resolve("asset").get_innerData()==(null==a?"null":""+a)){d.node.resolve("dialogue").has.resolve("action")&&
(b=d.node.resolve("dialogue").att.resolve("action"));break}}return b},characterHasProfile:function(a){for(var b=this._characterData.nodes.resolve("character").iterator();b.hasNext();){var c=b.next();if(c.node.resolve("asset").get_innerData()==a&&c.hasNode.resolve("profile"))return!0}return!1},getPortalDestination:function(a,b){for(var c=0,d=this._locationData.nodes.resolve("location").iterator();d.hasNext();){var e=d.next();if(e.att.resolve("id")==(null==a?"null":""+a)){for(d=e.node.resolve("portals").nodes.resolve("portal").iterator();d.hasNext();)if(e=
d.next(),e.att.resolve("id")==(null==b?"null":""+b)){c=r.parseInt(e.att.resolve("location"));break}break}}return c},getPortalOffset:function(a,b){for(var c=new A,d=this._locationData.nodes.resolve("location").iterator();d.hasNext();){var e=d.next();if(e.att.resolve("id")==(null==a?"null":""+a))for(e=e.node.resolve("portals").nodes.resolve("portal").iterator();e.hasNext();){var f=e.next();if(f.att.resolve("id")==(null==b?"null":""+b))return f.has.resolve("offset_x")&&(c.x=r.parseFloat(f.att.resolve("offset_x"))),
f.has.resolve("offset_y")&&(c.y=r.parseFloat(f.att.resolve("offset_y"))),c}}return c},buildLevel:function(a,b,c){null==c&&(c=0);null==b&&(b="town");this._playerStart=new L;this.currMap=[];this._fixedCamera="interior"==b;var d="",e=!1,f=!1,m=0,d=a.split(","),e=r.parseInt(d.shift()),a=r.parseInt(d.shift());this.currMap=[];for(var v=0;v<a;){var k=v++;this.currMap[k]=[];for(var o=0;o<e;){var p=o++;this.currMap[k][p]=r.parseInt(d[k*e+p])}}d=this.getLocationBackground(this._gameState.currentLocation);this._fixedCameraPosition=
this.getFixedLocationOffset(this._gameState.currentLocation);""!=d&&(this._world.bg=new u(this._ctx.level.getTexture(d)),this._world.bg.setXY(-this._fixedCameraPosition.x,-this._fixedCameraPosition.y),this._world.floor.entity.addChild((new i).add(this._world.bg)),d=this.getLocationForeground(this._gameState.currentLocation),""!=d&&(this._world.fg=new u(this._ctx.level.getTexture(d)),this._world.fg.y.set__(560-this._world.fg.getNaturalHeight()),this._holder.entity.addChild((new i).add(this._world.fg)),
this._holder.entity.addChild(this._hud.entity),this._holder.entity.addChild(this._transition.entity)));a=0;for(v=this.currMap[0].length;a<v;){k=a++;o=0;for(p=this.currMap.length;o<p;){var l=o++,d="",f=e=!1;if(0<=this.currMap[l][k]&&94>=this.currMap[l][k])for(var n=0,q=this._tileData;n<q.length;){var s=q[n];++n;if(s.id==this.currMap[l][k]){d="tiles/"+b+"/"+s.asset;e=s.isSolid;break}}else switch(d="tiles/"+b+"/tile_00",this.currMap[l][k]){case 95:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:f=
0;for(n=this._tileData;f<n.length;)if(q=n[f],++f,q.id==this.currMap[l][k]){d="tiles/"+b+"/"+q.asset;e=q.isSolid;break}f=!0;break;case 104:0==c&&(this._playerStart.x=k*j.WIDTH+j.WIDTH/2,this._playerStart.y=l*j.HEIGHT+j.HEIGHT/2);d="tiles/"+b+"/tile_00";break;case 105:case 106:case 107:case 108:case 109:n=new Ya(this._ctx,this.currMap[l][k]-104);n.sprite.x.set__(k*j.WIDTH+j.WIDTH/2);n.sprite.y.set__(l*j.HEIGHT+j.HEIGHT/2);n.setCollisionArea(new Z(0,-25,80,80));this._world.scene.entity.addChild(n.entity);
this._world.objects.push(n);this._gameState.getLevelObjectUsed(k,l)&&(n.activate(),this._world.activateObject("door",n.id));break;case 110:case 111:case 112:case 113:case 114:n=new Wb(this._ctx,this.currMap[l][k]-109);n.sprite.x.set__(k*j.WIDTH+j.WIDTH/2);n.sprite.y.set__(l*j.HEIGHT+j.HEIGHT/2);this._world.scene.entity.addChild(n.entity);this._world.objects.push(n);n.setCollisionArea(new Z(0,0,j.WIDTH,75));this._gameState.getLevelObjectUsed(k,l)&&n.activate();break;case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:case 124:case 125:case 126:for(var n=
this.currMap[l][k]-114,t,q=this._buildingData.nodes.resolve("building").iterator();q.hasNext();)if(t=q.next(),t.att.resolve("id")==(null==n?"null":""+n)){q=t.node.resolve("asset").get_innerData();"krusty_krab_sign"==q&&!this._gameState.isMailbagMoved&&(q="krusty_krab_sign_with_mailbag",s=new Xb(this._ctx),s.sprite.x.set__(k*j.WIDTH+j.WIDTH/2),s.sprite.y.set__((l-1)*j.HEIGHT+j.HEIGHT/2),s.setCollisionArea(new Z(0,50,150,250)),this._world.scene.entity.addChild(s.entity),this._world.objects.push(s));
"patricks_stone"==q&&this._gameState.usedItem("krabby_patty")&&(q="patricks_stone_open",this.addSpotEffect("zzz",4420,2400));"statue"==q&&this._gameState.isBossDefeated&&(q="gold_statue");s=new Z(r.parseFloat(t.node.resolve("hit_area").att.resolve("x")),r.parseFloat(t.node.resolve("hit_area").att.resolve("y")),r.parseFloat(t.node.resolve("hit_area").att.resolve("w")),r.parseFloat(t.node.resolve("hit_area").att.resolve("h")));t=new A(r.parseFloat(t.node.resolve("anchor").att.resolve("x")),r.parseFloat(t.node.resolve("anchor").att.resolve("y")));
n=new Za(this._ctx,"buildings/"+q,t.x,t.y,!0,n);n.sprite.x.set__(k*j.WIDTH+j.WIDTH/2);n.sprite.y.set__(l*j.HEIGHT+j.HEIGHT/2);n.setCollisionArea(s);this._world.scene.entity.addChild(n.entity);this._world.objects.push(n);break}break;case 127:case 128:case 129:case 130:case 131:case 132:case 133:case 134:case 135:case 136:case 137:case 138:case 139:case 140:case 141:case 142:case 143:case 144:case 145:case 146:case 147:case 148:case 149:case 150:case 151:this.addCharacter(this.currMap[l][k]-126,k*j.WIDTH+
j.WIDTH/2,l*j.HEIGHT+j.HEIGHT/2);break;case 152:case 153:case 154:case 155:case 156:case 157:case 158:case 159:case 160:case 161:case 162:case 163:case 164:n=this.currMap[l][k]-151;for(q=this._itemData.nodes.resolve("item").iterator();q.hasNext();)if(s=q.next(),s.att.resolve("id")==(null==n?"null":""+n)){n=s.node.resolve("asset").get_innerData();!this._gameState.hasItem(n)&&!this._gameState.usedItem(n)&&this.spawnPickup(k*j.WIDTH+j.WIDTH/2,l*j.HEIGHT+j.HEIGHT/2,"items",n);break}break;case 165:case 166:case 167:n=
new jb(this._ctx,1,b);n.sprite.x.set__(k*j.WIDTH+j.WIDTH/2);n.sprite.y.set__(l*j.HEIGHT+j.HEIGHT/2);n.destroy.connect(g(this,this.removeObject)).once();this._world.scene.entity.addChild(n.entity);this._world.objects.push(n);166==this.currMap[l][k]&&n.setContents("health");n.setCollisionArea(new Z(0,0,120,120));this._gameState.getLevelObjectUsed(k,l)&&n.setDestroyed();break;case 168:case 169:n=new Ka(this._ctx,1,"clamshell");n.sprite.x.set__(k*j.WIDTH+j.WIDTH/2);n.sprite.y.set__(l*j.HEIGHT+j.HEIGHT/
2);this._world.scene.entity.addChild(n.entity);this._world.objects.push(n);168==this.currMap[l][k]&&n.setContents("health");n.open.connect(g(this,this.onChestOpen));n.setCollisionArea(new Z(0,0,100,80));this._gameState.getLevelObjectUsed(k,l)&&n.setAlreadyUsed();break;case 170:case 171:case 172:case 173:case 174:case 175:case 176:case 177:n=this.getPortalOffset(this._gameState.currentLocation,this.currMap[l][k]-169);n=this.addPortal(this.currMap[l][k]-169,k*j.WIDTH+j.WIDTH/2+n.x,l*j.HEIGHT+n.y);c==
n.id&&(this._playerStart.x=k*j.WIDTH+j.WIDTH/2,this._playerStart.y=l*j.HEIGHT+j.HEIGHT/2);1==this._gameState.currentLocation&&3==n.id&&!this._gameState.isBoulderMoved&&this.addCharacter(30,k*j.WIDTH+j.WIDTH/2,l*j.HEIGHT+j.HEIGHT/2);break;case 178:m++;n=new ac(this._ctx,"jellyfish",1,5,40);n.sprite.x.set__(k*j.WIDTH+j.WIDTH/2);n.sprite.y.set__(l*j.HEIGHT+j.HEIGHT/2);n.setCollisionArea(new Z(0,-20,60,70));n.setContents("health");this._world.scene.entity.addChild(n.entity);this._enemies.push(n);n.signalDisposer.add(n.killed.connect(g(this,
this.removeEnemy)).once());n.signalDisposer.add(n.findPath.connect(g(this,this.findEnemyPath)));break;case 179:m++;n=new bc(this._ctx,"mallet_robot",1,8,40);n.sprite.x.set__(k*j.WIDTH+j.WIDTH/2);n.sprite.y.set__(l*j.HEIGHT+j.HEIGHT/2);n.setCollisionArea(new Z(0,-55,60,80));this._world.scene.entity.addChild(n.entity);this._enemies.push(n);n.signalDisposer.add(n.shoot.connect(g(this,this.onEnemyMallet)));n.signalDisposer.add(n.killed.connect(g(this,this.removeEnemy)).once());n.signalDisposer.add(n.findPath.connect(g(this,
this.findEnemyPath)));break;case 180:m++;n=new cc(this._ctx,"projectile_robot",1,8,40);n.sprite.x.set__(k*j.WIDTH+j.WIDTH/2);n.sprite.y.set__(l*j.HEIGHT+j.HEIGHT/2);n.setCollisionArea(new Z(0,-55,60,80));this._world.scene.entity.addChild(n.entity);this._enemies.push(n);n.signalDisposer.add(n.shoot.connect(g(this,this.onEnemyShoot)));n.signalDisposer.add(n.killed.connect(g(this,this.removeEnemy)).once());n.signalDisposer.add(n.findPath.connect(g(this,this.findEnemyPath)));break;case 181:this._gameState.isBossDefeated||
(this._boss=new dc(this._ctx,"boss",1,50,50),this._boss.sprite.x.set__(k*j.WIDTH+j.WIDTH/2),this._boss.sprite.y.set__(l*j.HEIGHT+j.HEIGHT/2),this._boss.setCollisionArea(new Z(0,-40,70,70)),this._world.scene.entity.addChild(this._boss.entity),this._enemies.push(this._boss),this._boss.signalDisposer.add(this._boss.shoot.connect(g(this,this.onEnemyShoot))),this._boss.signalDisposer.add(this._boss.activation.connect(g(this,this.onBossActivate))),this._boss.signalDisposer.add(this._boss.killed.connect(g(this,
this.removeEnemy)).once()));break;case 182:n=new ec(this._ctx,"spikes");n.sprite.x.set__(k*j.WIDTH+j.WIDTH/2);n.sprite.y.set__(l*j.HEIGHT+j.HEIGHT/2);this._world.scene.entity.addChild(n.entity);this._world.objects.push(n);break;case 183:case 184:case 185:case 186:case 187:case 188:case 189:case 190:case 191:case 192:case 193:case 194:case 195:case 196:case 197:n=new Ka(this._ctx,1,"chest");n.sprite.x.set__(k*j.WIDTH+j.WIDTH/2);n.sprite.y.set__(l*j.HEIGHT+j.HEIGHT/2);this._world.scene.entity.addChild(n.entity);
this._world.objects.push(n);183==this.currMap[l][k]?n.setContents("health"):184==this.currMap[l][k]?n.setContents("foam_hand"):185==this.currMap[l][k]?n.setContents("increase_max_health"):n.setContents(this._collectionItems[this.currMap[l][k]-186]);n.open.connect(g(this,this.onChestOpen));n.setCollisionArea(new Z(0,0,100,100));this._gameState.getLevelObjectUsed(k,l)&&n.setAlreadyUsed();break;case 198:case 199:case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:case 208:case 209:case 210:case 211:case 212:case 213:case 214:case 215:case 216:case 217:this.addObstacle(this.currMap[l][k]-
197,k*j.WIDTH+j.WIDTH/2,l*j.HEIGHT+j.HEIGHT/2);break;case 218:this.addCharacter(26,k*j.WIDTH+j.WIDTH/2,l*j.HEIGHT+j.HEIGHT/2);break;case 219:case 220:case 221:this.addCharacter(this.currMap[l][k]-188,k*j.WIDTH+j.WIDTH/2,l*j.HEIGHT+j.HEIGHT/2);break;case 222:case 223:case 224:case 225:case 226:this.addObstacle(this.currMap[l][k]-201,k*j.WIDTH+j.WIDTH/2,l*j.HEIGHT+j.HEIGHT/2)}0<l&&0<k&&(5==this.currMap[l-1][k]?d="tiles/"+b+"/"+this._tileData[17].asset:53==this.currMap[l-1][k]?d="tiles/"+b+"/"+this._tileData[60].asset:
21==this.currMap[l][k-1]?d=49==this.currMap[l+1][k]?"tiles/"+b+"/"+this._tileData[14].asset:"tiles/"+b+"/"+this._tileData[22].asset:61==this.currMap[l][k+1]&&(d=50==this.currMap[l+1][k]?"tiles/"+b+"/"+this._tileData[34].asset:"tiles/"+b+"/"+this._tileData[62].asset),9==this.currMap[l][k-1]&&94!=this.currMap[l][k]&&40!=this.currMap[l][k]?d="tiles/"+b+"/"+this._tileData[10].asset:54==this.currMap[l][k+1]&&(d="tiles/"+b+"/"+this._tileData[55].asset),30==this.currMap[l][k-1]?d="tiles/"+b+"/"+this._tileData[31].asset:
65==this.currMap[l][k+1]&&(d="tiles/"+b+"/"+this._tileData[32].asset),43==this.currMap[l][k-1]?d="tiles/"+b+"/"+this._tileData[44].asset:67==this.currMap[l][k+1]&&(d="tiles/"+b+"/"+this._tileData[68].asset));d!="tiles/"+b+"/"&&this._world.addTile(d,j.WIDTH*k,j.HEIGHT*l,e,f)}}this.nodes=[];if(0<m){m=2*this.currMap[0].length;d=2*this.currMap.length;for(e=0;e<m;){a=e++;for(v=0;v<d;)k=v++,b=new qb(a,k),b.x=j.WIDTH/2*a+0.25*j.WIDTH,b.y=j.HEIGHT/2*k+0.25*j.HEIGHT,this.nodes.push(b),b.isWalkable=this._world.walkable(b.x,
b.y)}}1==this._gameState.currentLocation&&(this._gameState.usedItem("krabby_patty")&&!this._gameState.hasItem("magazine")&&!this._gameState.usedItem("magazine")&&this.spawnPickup(4420,2700,"items","magazine"),this._gameState.usedItem("boat_keys")&&!this._gameState.hasItem("washer")&&!this._gameState.usedItem("washer")&&this.spawnPickup(3050,3975,"items","washer"),this._gameState.isMailbagMoved&&!this._gameState.hasItem("mailbag")&&!this._gameState.usedItem("mailbag")&&this.spawnPickup(2775,2675,"items",
"mailbag"),this._gameState.usedItem("donut")&&(b=this.addPortal(4,3525,6175),c==b.id&&(this._playerStart.x=(b.sprite.x._value-j.WIDTH/2)/j.WIDTH,this._playerStart.y=(b.sprite.y._value-j.HEIGHT/2)/j.HEIGHT)))},clearLevel:function(){this._world.removeAllTiles();null!=this._world.bg&&this._world.bg.dispose();null!=this._world.fg&&this._world.fg.dispose();for(var a=0,b=this._enemies;a<b.length;){var c=b[a];++a;this._world.scene.entity.removeChild(c.entity);c.cleanUp()}this._enemies.splice(0,this._enemies.length);
a=0;for(b=this._world.objects;a<b.length;)c=b[a],++a,c!=this._player&&null!=c&&(this._world.scene.entity.removeChild(c.entity),c.cleanUp());this._world.objects.splice(0,this._world.objects.length);this._world.objects.push(this._player);a=0;for(b=this._projectiles;a<b.length;)c=b[a],++a,this._world.scene.entity.removeChild(c.entity),c.cleanUp();this._projectiles.splice(0,this._projectiles.length);a=0;for(b=this._pickups;a<b.length;)c=b[a],++a,this._world.scene.entity.removeChild(c.entity),c.cleanUp();
this._pickups.splice(0,this._pickups.length)},findNode:function(a,b){for(var c=null,d=99999,e,f,g=0,i=this.nodes;g<i.length;){var k=i[g];++g;k.isWalkable&&(e=a-k.x,f=b-k.y,e=e*e+f*f,e<d&&(c=k,d=e))}return c},findEnemyPath:function(a){var b=fa.findPath(this.findNode(a.sprite.x._value,a.sprite.y._value),this.findNode(this._player.pos.x+this._player.collisonOffset.x,this._player.pos.z+this._player.collisonOffset.y),this.nodes);null!=b&&a.updatePath(b)},removeEnemy:function(a){if(a==this._boss){this._gameState.isBossDefeated=
!0;for(var a=0,b=this._world.objects;a<b.length;){var c=b[a];++a;"door"==c.type&&5==c.id&&(c.activate(),this._gameState.setLevelObjectUsed(Math.floor(c.sprite.x._value/j.WIDTH),Math.floor(c.sprite.y._value/j.HEIGHT),!0))}this.saveGame(this._saveSlot)}else{""!=a.contents&&this.spawnPickup(a.sprite.x._value,a.sprite.y._value,"items",a.contents,0.5);this._world.scene.entity.removeChild(a.entity);b=this._enemies.length;for(c=0;c<b;){var d=c++;if(this._enemies[d]==a){this._enemies.splice(d,1);break}}a.cleanUp()}},
removeObject:function(a){""!=a.contents&&this.spawnPickup(a.sprite.x._value,a.sprite.y._value,"effects",a.contents);this._world.scene.entity.removeChild(a.entity);for(var b=this._world.objects.length,c=0;c<b;){var d=c++;if(this._world.objects[d]==a){this._world.objects.splice(d,1);break}}a.cleanUp()},addObstacle:function(a,b,c){var d,e,f;for(f=(new ja(l.parse(this._ctx.assets.getFile("objects.xml").toString()).firstElement())).nodes.resolve("object").iterator();f.hasNext();)if(e=f.next(),e.att.resolve("id")==
(null==a?"null":""+a))return d=e.node.resolve("asset").get_innerData(),f=new Z(r.parseFloat(e.node.resolve("hit_area").att.resolve("x")),r.parseFloat(e.node.resolve("hit_area").att.resolve("y")),r.parseFloat(e.node.resolve("hit_area").att.resolve("w")),r.parseFloat(e.node.resolve("hit_area").att.resolve("h"))),e=new A(r.parseFloat(e.node.resolve("anchor").att.resolve("x")),r.parseFloat(e.node.resolve("anchor").att.resolve("y"))),a=new Za(this._ctx,"static_objects/"+d,e.x,e.y,!0,a+100),a.sprite.x.set__(b),
a.sprite.y.set__(c),a.setCollisionArea(f),this._world.scene.entity.addChild(a.entity),this._world.objects.push(a),a;return null},addCharacter:function(a,b,c){var d,e,f=new A,g=!1;for(e=this._characterData.nodes.resolve("character").iterator();e.hasNext();){var i=e.next();if(i.att.resolve("id")==(null==a?"null":""+a)){d=i.node.resolve("asset").get_innerData();e=new Z(r.parseFloat(i.node.resolve("hit_area").att.resolve("x")),r.parseFloat(i.node.resolve("hit_area").att.resolve("y")),r.parseFloat(i.node.resolve("hit_area").att.resolve("w")),
r.parseFloat(i.node.resolve("hit_area").att.resolve("h")));i.hasNode.resolve("offset")&&(f.x=r.parseFloat(i.node.resolve("offset").att.resolve("x")),f.y=r.parseFloat(i.node.resolve("offset").att.resolve("y")));switch(d){case "plankton":g=!0;break;case "patrick":if(this._gameState.usedItem("krabby_patty"))return null;break;case "mrspuff":if(this._gameState.usedItem("boat_keys"))return null;break;case "larry":this._gameState.usedItem("soda")&&(d="larryboulder");break;case "mailfish":this._gameState.usedItem("mailbag")&&
(d="mailfish_bag");break;case "magazine":if(this._gameState.usedItem("magazine")||this._gameState.hasItem("magazine"))return null;break;case "reef_blower":if(this._gameState.hasEquipment("reef_blower"))return null}a=new Xa(this._ctx,"npc_"+d,a);a.sprite.x.set__(b+f.x);a.sprite.y.set__(c+f.y);a.setCollisionArea(e);a.isSolid=!0;a.isRemoveOffscreen=g;this._world.scene.entity.addChild(a.entity);this._world.objects.push(a);return a}}return null},addSpotEffect:function(a,b,c){a=new fc(this._ctx,a,0);a.sprite.x.set__(b);
a.sprite.y.set__(c);this._world.scene.entity.addChild(a.entity);this._world.objects.push(a);return a},addPortal:function(a,b,c){a=new gc(this._ctx,"portal_indicator",a,55,120);a.sprite.x.set__(b);a.sprite.y.set__(c);this._world.scene.entity.addChild(a.entity);this._world.objects.push(a);return a},onChestOpen:function(a){this._sfxPlayback="clamshell"==a.variation?this._ctx.assets.getSound("audio/glossy_click_16").play():this._ctx.assets.getSound("audio/lock_treasure_chest_handling_04").play();""!=
a.contents&&(this.spawnPickup(a.sprite.x._value,a.sprite.y._value,"items",a.contents),a.contents="")},onDummyHit:function(){this.triggerAction("add_mailbag")},onHazardHit:function(a,b){this.playerHit(a,b)},playerHit:function(a,b,c){null==c&&(c=1);a=new L(this._player.pos.x-a,this._player.pos.z-b);this._player.hit(c,a)&&(this._hud.health.remove(c),1>=this._hud.health.getHealth()&&this._hud.setSpongeBobState("low_health"))},onPlayerKilled:function(){this._player.setHealth(this._gameState.maxHealth);
this._hud.health.setHealth(this._gameState.maxHealth);this._hud.setSpongeBobState("default");this._player.pos.x=this._playerStart.x;this._player.pos.z=this._playerStart.y;this._player.stop()},onPlayerFallen:function(){this._hud.health.remove(1);1>=this._hud.health.getHealth()&&this._hud.setSpongeBobState("low_health")},addHitEffect:function(a,b){var c=new hc(this._ctx,"spatula_hit");c.sprite.x.set__(a);c.sprite.y.set__(b);c.complete.connect(g(this,this.onHitEffectComplete)).once();this._world.scene.entity.addChild(c.entity);
this._world.objects.push(c)},onHitEffectComplete:function(a){for(var b=0,c=this._world.objects.length;b<c;){var d=b++;if(this._world.objects[d]==a){this._world.scene.entity.removeChild(this._world.objects[d].entity);this._world.objects[d].cleanUp();this._world.objects[d]=null;this._world.objects.splice(d,1);break}}},onPickupCollected:function(a){switch(a){case "health":this._hud.health.add(1);this._hud.setSpongeBobState("default");this._player.addHealth(1,this._gameState.maxHealth);this._ctx.assets.getSound("audio/magicwand").play();
break;case "increase_max_health":this._gameState.maxHealth++;this._hud.health.setMax(this._gameState.maxHealth);this._ctx.assets.getSound("audio/magicwand").play();this.showMessage("You found an extra heart!/SpongeBob's maximum health is increased by one.");break;case "krabby_patty":case "magazine":case "boat_keys":case "washer":case "soda":case "mailbag":case "coupon":case "donut":case "journal_1":case "journal_2":case "treasure":this.showMessage(this.getItemDialogue(a));this._player.itemFound();
this._delayedAction=this.getItemAction(a);this._gameState.questItems.push(a);break;case "reef_blower":case "pattypult":case "foam_hand":this.showMessage(this.getItemDialogue(a));this._player.itemFound();this._gameState.unlockEquipment(a);this._player.equipped=a;this._hud.setCurrentWeapon(a);this._delayedAction=this.getItemAction(a);break;case "anchor":case "formula":case "gas":case "glovey":case "jelly":case "license":case "newspaper":case "pearl":case "snailfood":case "squidward_picture":case "trophy":case "tulips":4>
this._gameState.collection.length&&this.showMessage("New Booty Found!/Check it out on the Bikini Booty Screen."),this.collectionItemFound(a)}this.saveGame(this._saveSlot)},collectionItemFound:function(a){for(var b=0,c=this._gameState.collection;b<c.length;){var d=c[b];++b;if(d==a)return!1}this._gameState.collection.push(a);this._gameState.newCollection.push(a);this._hud.setCollectionItemsFound(this._gameState.collection.length);this.saveGame(this._saveSlot);return!0},characterFound:function(a){if(!this.characterHasProfile(a))return!1;
for(var b=0,c=this._gameState.profiles;b<c.length;){var d=c[b];++b;if(d==a)return!1}this._gameState.profiles.push(a);this._gameState.newProfiles.push(a);this._hud.setProfilesUnlocked(this._gameState.profiles.length);this._hud.showNewLabel();this.saveGame(this._saveSlot);return!0},showMessage:function(a,b,c,d){null==d&&(d=0);null==c&&(c="");null==b&&(b="");this._isRunning=!1;this._player.isControl=!1;this._player.stop();this._touchCount=0;"williamkrabs"==c&&(c=b="");" "==b&&(c="");"reef_blower"==c&&
(c="squidward");this._hud.showMessage(a,b,c,d);this.updateContext();"gary"==c&&(this._sfxPlayback=this._ctx.assets.getSound("audio/menu_bob11").play())},onMessageHide:function(){null!=this._tutorialImage&&(this._tutorialImage.dispose(),this._tutorialImage=null);this._isRunning=this._player.isControl=!0;if(""!=this._delayedAction){var a=this._delayedAction;this._delayedAction="";this.triggerAction(a)}},onUpdate:function(a){this._controlMethod==this.CONTROL_KEYBOARD?this.updateKeys():this.updateTouch();
if(this._isRunning){this.updateContext();this._inactivityCount+=a;20<this._inactivityCount&&1<this._hud.health.getHealth()&&this._hud.setSpongeBobState("bored");this._player.move(a);this._world.updateVisibility(this._camera);this._world.checkCollisions(this._player,this._enemies,this._projectiles);for(var b=!1,c=0,d=this._enemies;c<d.length;){var e=d[c];++c;e.sprite.set_visible(this._camera.isVisible(e.sprite,e==this._boss));e.update(a,this._player);if((0!=(e.sprite._flags&2)||"default"!=e.state)&&
e.isAlive){if("attack"==this._player.state)if(this._player.isMeleeAttack){if(C.circleCollision(this._player.meleePos.x,this._player.meleePos.z,this._player.meleeRange/2,e.sprite.x._value+e.col.x,e.sprite.y._value+e.col.y,e.radius)){var f=new L(e.sprite.x._value-this._player.pos.x,e.sprite.y._value-this._player.pos.z);e.hit(this._player.attackPower,f);this._player.isMeleeAttack=!1;this.addHitEffect(this._player.meleePos.x,this._player.meleePos.z,e.sprite.x._value+e.col.x,e.sprite.y._value+e.col.y)}}else this._player.isSurroundAttack&&
C.circleCollision(this._player.pos.x+this._player.collisonOffset.x,this._player.pos.z+this._player.collisonOffset.y,130,e.sprite.x._value+e.col.x,e.sprite.y._value+e.col.y,e.radius)&&(b=new L(e.sprite.x._value-this._player.pos.x,e.sprite.y._value-this._player.pos.z),e.hit(this._player.attackPower,b,8),b=!0);for(var f=0,g=this._projectiles;f<g.length;){var i=g[f];++f;if("player"==i.owner&&C.circleCollision(i.sprite.x._value,i.sprite.y._value,10,e.sprite.x._value+e.col.x,e.sprite.y._value+e.col.y,e.radius)){var k=
new L(e.sprite.x._value-i.sprite.x._value,e.sprite.y._value-i.sprite.y._value);i.hit();e.hit(this._player.attackPower,k)}}"dead"!=this._player.state&&C.circleCollision(this._player.pos.x+this._player.collisonOffset.x,this._player.pos.z+this._player.collisonOffset.y,this._player.collisionRadius,e.sprite.x._value+e.col.x,e.sprite.y._value+e.col.y,e.radius)&&"deactivated"!=e.state&&e.contact(this._player.pos.x,this._player.pos.z)&&this.playerHit(e.sprite.x._value,e.sprite.y._value,e.attackPower)}}b&&
(this._player.isSurroundAttack=!1);c=0;for(d=this._projectiles;c<d.length;)e=d[c],++c,"enemy"==e.owner&&C.circleCollision(e.sprite.x._value,e.sprite.y._value,10,this._player.pos.x+this._player.collisonOffset.x,this._player.pos.z+this._player.collisonOffset.y,this._player.collisionRadius)&&(e.hit(),this.playerHit(e.sprite.x._value,e.sprite.y._value)),e.update(a);this._player.update(a);this._fixedCamera?this._camera.lookAt(480-this._fixedCameraPosition.x,280-this._fixedCameraPosition.y):this._cinematicCamera?
this._camera.lookAt(this._cinematic.x,this._cinematic.y):"falling"!=this._player.state&&this._camera.lookAt(this._player.sprite.x._value-20,this._player.sprite.y._value-50);this._camera.update(this._world.scene);this._world.depthSort(this._enemies,this._projectiles);c=0;for(d=this._pickups;c<d.length;)e=d[c],++c,e.update(a,this._player.pos.x+this._player.collisonOffset.x,this._player.pos.z+this._player.collisonOffset.y,this._player.collisionRadius),this._world.scene.entity.addChild(e.entity)}this.updateBoss();
this._hud.update(a)},updateBoss:function(){null!=this._boss&&(!this._bossCinematic&&C.circleCollision(this._player.sprite.x._value,this._player.sprite.y._value,0,this._boss.sprite.x._value,this._boss.sprite.y._value,550)&&(this.showMessage("The treasure is mine SpongeBob!/The Krusty Krab is doomed!/HAVE AT YOU, SPONGE!","PLANKTON","plankton"),this._boss.setActive(),this._bossCinematic=!0,this._camera.lookAt(this._boss.sprite.x._value,this._boss.sprite.y._value-100),this._camera.update(this._world.scene),
this._world.updateVisibility(this._camera)),this._boss.sprite.set_visible(!0))},cleanUp:function(){this._holder.entity.dispose();null!=this._sfxPlayback&&this._sfxPlayback.dispose();null!=this._musicPlayback&&this._musicPlayback.dispose()},__class__:Yb});var cd=function(a){this.director=a};f["spongebob.GameContext"]=cd;cd.__name__=["spongebob","GameContext"];cd.prototype={__class__:cd};var rd=function(){};f["spongebob.GameScene"]=rd;rd.__name__=["spongebob","GameScene"];rd.create=function(a,b){var c=
new i,d=new Yb(a,b);c.add(d);return c};var ib=function(){this.isGameStarted=this.isBoulderMoved=this.isMailbagMoved=this.isBossDefeated=!1;this.maxHealth=3;this.currentLocation=4;this.questItems=[];this.itemsUsed=[];this.profiles=[];this.profiles.push("spongebob");this.profiles.push("deadeyeplankton");this.collection=[];this._tutorial=[];this.equipment=[];this.equipment.push("spatula");this.levelObjectsUsed=[];for(var a=0;14>a;)a++,this.levelObjectsUsed.push([]);this.newProfiles=[];this.newCollection=
[]};f["spongebob.GameState"]=ib;ib.__name__=["spongebob","GameState"];ib.prototype={isTutorialDone:function(a){for(var b=!1,c=0,d=this._tutorial;c<d.length;){var e=d[c];++c;if(a==e){b=!0;break}}return b},tutorialDone:function(a){this._tutorial.push(a)},hasItem:function(a){for(var b=!1,c=0,d=this.questItems;c<d.length;){var e=d[c];++c;if(a==e){b=!0;break}}return b},usedItem:function(a){for(var b=!1,c=0,d=this.itemsUsed;c<d.length;){var e=d[c];++c;if(a==e){b=!0;break}}return b},hasEquipment:function(a){for(var b=
!1,c=0,d=this.equipment;c<d.length;){var e=d[c];++c;if(a==e){b=!0;break}}return b},unlockEquipment:function(a){this.equipment.push(a)},getLevelObjectUsed:function(a,b){for(var c=0,d=this.levelObjectsUsed[this.currentLocation];c<d.length;){var e=d[c];++c;if(e.x==a&&e.y==b)return!0}return!1},setLevelObjectUsed:function(a,b,c){null==c&&(c=!1);var d=this.levelObjectsUsed[this.currentLocation].length;if(c){for(var c=!1,e=0,f=0;f<d;){var g=f++;if(this.levelObjectsUsed[this.currentLocation][g].x==a&&this.levelObjectsUsed[this.currentLocation][g].y==
b){c=!0;e=g;break}}c?this.levelObjectsUsed[this.currentLocation].splice(e,1):this.levelObjectsUsed[this.currentLocation].push(new A(a,b))}else{d=0;for(c=this.levelObjectsUsed[this.currentLocation];d<c.length;)if(e=c[d],++d,e.x==a&&e.y==b)return;this.levelObjectsUsed[this.currentLocation].push(new A(a,b))}},__class__:ib};var ec=function(a,b){w.call(this,a);this.sprite=new u(a.assets.getTexture(b));this.sprite.setAnchor(this.sprite.getNaturalWidth()/2,this.sprite.getNaturalHeight()/2);this.entity.add(this.sprite);
this.type=b};f["spongebob.Hazard"]=ec;ec.__name__=["spongebob","Hazard"];ec.__super__=w;ec.prototype=x(w.prototype,{__class__:ec});var hc=function(a,b){null==b&&(b="spatuala_hit");w.call(this,a);this.complete=new z;this.moviePlayer=new S(new W(a.assets,"effects"));this.moviePlayer.loop(b);this.moviePlayer.movie._value.get_looped().connect(g(this,this.onEffectComplete)).once();this.sprite=new q;this.sprite.set_pointerEnabled(!1);this.entity.add(this.moviePlayer).add(this.sprite);this.type="effect";
this.id=1};f["spongebob.HitEffect"]=hc;hc.__name__=["spongebob","HitEffect"];hc.__super__=w;hc.prototype=x(w.prototype,{onEffectComplete:function(){this.moviePlayer.dispose();this.entity.dispose();this.complete.emit(this)},__class__:hc});var Xc=function(){this._keys=[];this._states=[];s._platform.getKeyboard().up.connect(g(this,this.onKeyUp));s._platform.getKeyboard().down.connect(g(this,this.onKeyDown))};f["spongebob.KeyboardManager"]=Xc;Xc.__name__=["spongebob","KeyboardManager"];Xc.prototype={addKey:function(a){this._keys.push(a);
this._states.push(!1)},state:function(a){for(var b=this._keys.length,c=!1,d=0;d<b;){var e=d++;if(this._keys[e]==a){c=this._states[e];break}}return c},onKeyUp:function(a){for(var b=this._keys.length,c=0;c<b;){var d=c++;if(this._keys[d]==""+r.string(a.key)){this._states[d]=!1;break}}},onKeyDown:function(a){for(var b=this._keys.length,c=0;c<b;){var d=c++;if(this._keys[d]==""+r.string(a.key)){this._states[d]=!0;break}}},__class__:Xc};var J=function(){};f["spongebob.Main"]=J;J.__name__=["spongebob","Main"];
J.main=function(){s.init();J.holder=new ka;s.root.addChild(J.holder.entity);var a=new Qb;J.holder.entity.add(a);var b=V.fromAssets("bootstrap");s._platform.loadAssetPack(b).get(function(b){s.loadAssetPack(V.fromAssetsLocalized("locale")).get(function(){var d=s.loadAssetPack(V.fromAssets("menu"));d.get(function(d){var e=new cd(a);e.menu=d;e.bootstrap=b;d=kb.create(e);a.unwindToScene(d,null)});d=lb.create(b,d);a.unwindToScene(d)})});b=function(){J.scale=s._platform.getStage().get_width()/960<s._platform.getStage().get_height()/
560?J.holder.sprite.scaleX.set__(J.holder.sprite.scaleY.set__(s._platform.getStage().get_width()/960)):J.holder.sprite.scaleX.set__(J.holder.sprite.scaleY.set__(s._platform.getStage().get_height()/560))};s._platform.getStage().resize.connect(b);b()};J.startGame=function(a,b){null==b&&(b=0);null!=a.menu&&a.menu.dispose();null!=a.nis&&a.nis.dispose();var c=J.holder.entity._compMap.Director_2,d=s.loadAssetPack(V.fromAssets("main"));d.get(function(d){a.assets=d;d=rd.create(a,b);c.unwindToScene(d,null)});
d=lb.create(a.bootstrap,d);c.unwindToScene(d)};J.startNIS=function(a,b,c){null==c&&(c="");null==b&&(b=0);null!=a.menu&&a.menu.dispose();null!=a.assets&&a.assets.dispose();var d=J.holder.entity._compMap.Director_2,e=s.loadAssetPack(V.fromAssets(c));e.get(function(e){a.nis=e;e=Sc.create(a,b,c);d.unwindToScene(e,null)});e=lb.create(a.bootstrap,e);d.unwindToScene(e,null)};J.exitGame=function(a){null!=a.assets&&a.assets.dispose();null!=a.nis&&a.nis.dispose();var b=J.holder.entity._compMap.Director_2,c=
s.loadAssetPack(V.fromAssets("menu"));c.get(function(c){a.menu=c;c=kb.create(a);b.unwindToScene(c,null)});c=lb.create(a.bootstrap,c);b.unwindToScene(c)};var ic=function(a){F.call(this);this._ctx=a};f["spongebob.MainMenu"]=ic;ic.__name__=["spongebob","MainMenu"];ic.__super__=F;ic.prototype=x(F.prototype,{get_name:function(){return"MainMenu_5"},onAdded:function(){this._holder=new ka;this.owner.addChild(this._holder.entity);this._titleMenu=new dd(this._ctx);this._titleMenu.clicked.connect(g(this,this.onTitleMenuClicked)).once();
this._holder.entity.addChild(this._titleMenu.entity);this._music=this._ctx.menu.getSound("audio/lost_treasure").loop()},onTitleMenuClicked:function(){this._holder.entity.disposeChildren();this._titleMenu=null;this._loadMenu=new ed(this._ctx);this._loadMenu.selected.connect(g(this,this.onSaveSlotSelected)).once();this._holder.entity.addChild(this._loadMenu.entity)},onSaveSlotSelected:function(a,b){null!=this._music&&this._music.dispose();b?J.startNIS(this._ctx,a,"intro"):J.startGame(this._ctx,a)},
__class__:ic});var kb=function(){};f["spongebob.MainMenuScene"]=kb;kb.__name__=["spongebob","MainMenuScene"];kb.create=function(a){var b=new i,a=new ic(a);b.add(a);kb.slotSelected=new z;kb.slotSelected.emit(0);return b};var Za=function(a,b,c,d,e,f){null==f&&(f=1);null==e&&(e=!0);w.call(this,a);this.sprite=new u(a.level.getTexture(b));this.sprite.setAnchor(c,d);this.entity.add(this.sprite);this.type="obstacle";this.isSolid=e;this.id=f};f["spongebob.Obstacle"]=Za;Za.__name__=["spongebob","Obstacle"];
Za.__super__=w;Za.prototype=x(w.prototype,{changeSprite:function(a,b){var c=this.sprite.x._value,d=this.sprite.y._value,e=this.sprite.anchorX._value,f=this.sprite.anchorY._value;this.sprite.dispose();this.sprite=new u(a.level.getTexture(b));this.sprite.setAnchor(e,f);this.sprite.setXY(c,d);this.entity.add(this.sprite)},__class__:Za});var $b=function(a,b,c){w.call(this,a);this.type=c;this.moviePlayer=new S(new W(a.assets,b));this.sprite=new q;this.entity.add(this.moviePlayer).add(this.sprite);this.collected=
new z;this.remove=new z;this._isCollected=!1;this.moviePlayer.loop(this.type+"_idle")};f["spongebob.Pickup"]=$b;$b.__name__=["spongebob","Pickup"];$b.__super__=w;$b.prototype=x(w.prototype,{collect:function(){if(this._isCollected)return!1;this._isCollected=!0;this.moviePlayer.play(this.type+"_collect");this.moviePlayer.movie.get_changed().connect(g(this,this.onCollectComplete)).once();this.collected.emit(this.type);return!0},onCollectComplete:function(){this.remove.emit(this)},update:function(a,b,
c,d){if(C.circleCollision(b,c,d,this.sprite.x._value,this.sprite.y._value-20,10))this.collect();else if("health"==this.type||"increase_max_health"==this.type||"foam_hand"==this.type)C.circleCollision(b,c,d,this.sprite.x._value,this.sprite.y._value,150)&&(b=new L(b-this.sprite.x._value,c-this.sprite.y._value),b.normalize(),c=this.sprite.x,c.set__(c._value+400*b.x*a),c=this.sprite.y,c.set__(c._value+400*b.y*a));else if("anchor"==this.type||"formula"==this.type||"gas"==this.type||"glovey"==this.type||
"jelly"==this.type||"license"==this.type||"newspaper"==this.type||"pearl"==this.type||"snailfood"==this.type||"squidward_picture"==this.type||"trophy"==this.type||"tulips"==this.type)b=new L(b-this.sprite.x._value,c-this.sprite.y._value),b.normalize(),c=this.sprite.x,c.set__(c._value+400*b.x*a),c=this.sprite.y,c.set__(c._value+400*b.y*a)},__class__:$b});var Zb=function(a){this.equipped="spatula";this.attackPower=2;this.meleeRange=50;this.safeCount=0;this.isControl=!0;this.SPEED=280;w.call(this,a);
this._ctx=a;this.pos=new va;this.vel=new va;this.dir=new va(0,0,1);this.col=new Z(0,0,80,30);this.safePosition=new va;this.safeCount=0;this.meleePos=new va;this.entity.addChild((new i).add((new u(a.assets.getTexture("shadow"))).setAnchor(48,24)));this.moviePlayer=new S(new W(this._ctx.assets,"spongebob"));this.setAnimation("idle");this.sprite=new q;this.sprite.x.set__(0);this.sprite.y.set__(0);this.sprite.scaleX.set__(this.sprite.scaleY.set__(0.6));this.entity.add(this.moviePlayer).add(this.sprite);
this.type="player";this.state="default";this.isMeleeAttack=!1;this.collisonOffset=new L(0,-30);this.collisionRadius=40;this.killed=new z;this.fallen=new Q;this.brainOpen=new Q};f["spongebob.Player"]=Zb;Zb.__name__=["spongebob","Player"];Zb.__super__=w;Zb.prototype=x(w.prototype,{incapacitated:function(){return"hit"==this.state||"attack"==this.state||"falling"==this.state||"dead"==this.state?!0:!1},setHealth:function(a){this._health=a},addHealth:function(a,b){this._health+=a;this._health>b&&(this._health=
b)},setAnimation:function(a,b){null==b&&(b=!0);this._currentAnim!=a&&(this._currentAnim=a,b?this.moviePlayer.loop(this._currentAnim):this.moviePlayer.play(this._currentAnim,!0))},attack:function(){if(this.incapacitated())return!1;this.attackPower=3;var a="audio/whip_whoosh_01_fast_02";"golden_spatula"==this.equipped?this.attackPower=5:"foam_hand"==this.equipped&&(this.attackPower=4,a="audio/bwv_impact_punch_face_11");this._sfx=this._ctx.assets.getSound(a).play();0.5>Math.abs(this.dir.z)?"golden_spatula"==
this.equipped?this.setAnimation("attack_side_gold",!1):"foam_hand"==this.equipped?this.setAnimation("attack_side_hand",!1):this.setAnimation("attack_side",!1):0>this.dir.z?"golden_spatula"==this.equipped?this.setAnimation("attack_up_gold",!1):"foam_hand"==this.equipped?this.setAnimation("attack_up_hand",!1):this.setAnimation("attack_up",!1):"golden_spatula"==this.equipped?this.setAnimation("attack_down_gold",!1):"foam_hand"==this.equipped?this.setAnimation("attack_down_hand",!1):this.setAnimation("attack_down",
!1);null!=this._timer&&(this._timer.stop(),this._timer=null);this._timer=new pa(200);this._timer.run=g(this,this.onAttackComplete);"attack"!=this.state&&(this.isMeleeAttack=!0);this.state="attack";return!0},spadeAttack:function(){if(this.incapacitated())return!1;this.state="attack";this.attackPower=2;this.setAnimation("dig_attack",!1);null!=this._timer&&this._timer.stop();this._timer=new pa(700);this._timer.run=g(this,this.onSpadeAttack);this._sfx=this._ctx.assets.getSound("audio/vacuum_cleaner_on_off_01").play();
return!0},onSpadeAttack:function(){this.isSurroundAttack=!0;this._timer.stop();this._timer=new pa(200);this._timer.run=g(this,this.onSpadeAttackComplete)},onSpadeAttackComplete:function(){this.isSurroundAttack=!1;this._timer.stop();this._timer=new pa(100);this._timer.run=g(this,this.onAttackComplete)},dig:function(a){this.incapacitated()||(-1==a?(this.sprite.scaleX.set__(-0.65),this.dir.x=-1):(this.sprite.scaleX.set__(0.65),this.dir.x=1),this.state="dig",this.setAnimation("dig",!1),null!=this._timer&&
this._timer.stop(),this._timer=new pa(500),this._timer.run=g(this,this.onDigComplete),this._sfx=this._ctx.assets.getSound("audio/vacuum_cleaner_on_off_01").play())},onDigComplete:function(){null!=this._timer&&(this._timer.stop(),this._timer=null);this.state="default"},shoot:function(){if("shoot"==this.state||this.incapacitated())return!1;this.state="shoot";0.5>Math.abs(this.dir.z)?this.setAnimation("shoot",!1):0>this.dir.z?this.setAnimation("shoot_up",!1):this.setAnimation("shoot_down",!1);this.attackPower=
2;null!=this._timer&&(this._timer.stop(),this._timer=null);this._timer=new pa(100);this._timer.run=g(this,this.onAttackComplete);this._sfx=this._ctx.assets.getSound("audio/combat_whoosh_02").play();return!0},onAttackComplete:function(){null!=this._timer&&(this._timer.stop(),this._timer=null);this.isSurroundAttack=this.isMeleeAttack=!1;this.state="default"},hit:function(a,b){if(this.incapacitated())return!1;this.state="hit";this.setAnimation("hit");this.isControl=!1;null!=b&&(b.normalize(),this.vel.x=
b.x,this.vel.z=b.y);null!=this._timer&&(this._timer.stop(),this._timer=null);this._timer=new pa(300);this._timer.run=g(this,this.onHitComplete);this._health--;this._sfx=this._ctx.assets.getSound("audio/electricity_sparking_bursts_10").play();return!0},onHitComplete:function(){null!=this._timer&&(this._timer.stop(),this._timer=null);0<this._health?(this.state="default",this.isControl=!0):this.kill()},fall:function(a,b){if(!this.incapacitated()){this.stop();this.isControl=!1;this.state="falling";this.setAnimation("fall");
this._health--;this.fallen.emit();var c=0.1;0>this.sprite.scaleX._value&&(c=-0.1);var d=[];d.push(new o(this.sprite.scaleX,c,0.4,p.quadIn));d.push(new o(this.sprite.scaleY,0.1,0.4,p.quadIn));d.push(new o(this.sprite.x,a,0.4,p.quadIn));d.push(new o(this.sprite.y,b,0.4,p.quadIn));c=new N;c.run(new O([new R(d),new M(g(this,this.onFallen)),new Va(0.8),new M(g(this,this.onFallComplete))]));this.entity.add(c)}},onFallen:function(){this.sprite.alpha.set__(0)},onFallComplete:function(){this.sprite.alpha.set__(1);
this.stop();this.state="default";this.isControl=!0;this.sprite.scaleX.set__(0.6);this.sprite.scaleY.set__(0.6);this.pos.x=this.safePosition.x;this.pos.z=this.safePosition.z;0>=this._health&&this.kill()},itemFound:function(){this.isControl=!1;this.state="item";this.setAnimation("find_item",!1);this.moviePlayer.movie.get_changed().connect(g(this,this.onItemFoundComplete)).once()},onItemFoundComplete:function(){this.isControl=!0;this.state="default"},kill:function(){this.isControl=!1;this.state="dead";
this.setAnimation("faint",!1);this.moviePlayer.movie.get_changed().connect(g(this,this.onKillComplete)).once()},onKillComplete:function(){this.isControl=!0;this.state="default";this.killed.emit(this)},stop:function(){this.state="default";this.vel.x=this.vel.z=0;0<Math.abs(this.dir.x)?this.setAnimation("idle"):0>this.dir.z?this.setAnimation("idle_up"):this.setAnimation("idle_down")},openBrain:function(){this.isControl=!1;this.state="brain";this.setAnimation("brain",!1);null!=this._timer&&(this._timer.stop(),
this._timer=null);this._timer=new pa(600);this._timer.run=g(this,this.onOpenBrainComplete)},onOpenBrainComplete:function(){this._timer.stop();this._timer=null;this.brainOpen.emit()},move:function(a){null==a&&(a=0.02);switch(this.state){case "item":case "brain":break;case "dead":case "falling":break;case "hit":this.pos.x+=this.vel.x*this.SPEED*a;this.pos.z+=this.vel.z*this.SPEED*a;break;case "attack":case "dig":break;case "shoot":0<this.dir.x&&0.5>Math.abs(this.vel.z)?this.sprite.scaleX.set__(0.6):
this.sprite.scaleX.set__(-0.6);break;default:this.pos.x+=this.vel.x*this.SPEED*a,this.pos.z+=this.vel.z*this.SPEED*a,0!=this.vel.x?(this.setAnimation("run_side"),0<this.vel.x?(this.sprite.scaleX.set__(0.6),this.meleePos.x=this.pos.x+this.meleeRange):(this.sprite.scaleX.set__(-0.6),this.meleePos.x=this.pos.x-this.meleeRange),this.meleePos.z=this.pos.z+this.collisonOffset.y):-0.5>this.vel.z?(this.setAnimation("run_up"),this.meleePos.x=this.pos.x,this.meleePos.z=this.pos.z+this.collisonOffset.y-this.meleeRange):
0.5<this.vel.z?(this.setAnimation("run_down"),this.meleePos.x=this.pos.x,this.meleePos.z=this.pos.z+this.collisonOffset.y+this.meleeRange):0<Math.abs(this.dir.x)?this.setAnimation("idle"):0>this.dir.z?(this.setAnimation("idle_up"),this.meleePos.x=this.pos.x,this.meleePos.z=this.pos.z+this.collisonOffset.y-this.meleeRange):(this.setAnimation("idle_down"),this.meleePos.x=this.pos.x,this.meleePos.z=this.pos.z+this.collisonOffset.y+this.meleeRange),this.safeCount+=a,1<this.safeCount&&(this.safeCount=
0,this.safePosition.x=this.pos.x,this.safePosition.z=this.pos.z)}},update:function(){"falling"!=this.state&&(this.sprite.x.set__(this.pos.x),this.sprite.y.set__(this.pos.z))},__class__:Zb});var gc=function(a,b,c,d,e){w.call(this,a);a.assets.getTexture(b);this.sprite=new u(a.assets.getTexture(b));this.sprite.setAnchor(d,e);this.entity.add(this.sprite);this.type="portal";this.isSolid=!1;this.id=c};f["spongebob.Portal"]=gc;gc.__name__=["spongebob","Portal"];gc.__super__=w;gc.prototype=x(w.prototype,
{__class__:gc});var bd=function(a){this.entity=new i;this.sprite=new q;this.entity.add(this.sprite);var b=new u(a.bootstrap.getTexture("title_bg"));this.entity.addChild((new i).add(b));this._panel=new u(a.bootstrap.getTexture("preloader_panel"));this._panel.setXY(228,52);this.entity.addChild((new i).add(this._panel));this._spongebob=(new q).setXY(500,320).setScaleXY(0.8,0.8);this._spongebobAnim=new S(new W(a.bootstrap,"preloader"));this._spongebobAnim.loop("spongebob");this.entity.addChild((new i).add(this._spongebob).add(this._spongebobAnim));
this._loading=(new q).setXY(491,363);this._loadingAnim=new S(new W(a.bootstrap,"preloader"));this._loadingAnim.loop("loading_text");this.entity.addChild((new i).add(this._loading).add(this._loadingAnim))};f["spongebob.Preloader"]=bd;bd.__name__=["spongebob","Preloader"];bd.prototype={cleanUp:function(){this.entity.disposeChildren()},__class__:bd};var lb=function(){};f["spongebob.PreloaderScene"]=lb;lb.__name__=["spongebob","PreloaderScene"];lb.create=function(a){var b=new i,c=new u(a.getTexture("title_bg"));
b.addChild((new i).add(c));c=new u(a.getTexture("preloader_panel"));c.setXY(228,52);b.addChild((new i).add(c));var c=(new q).setXY(500,320).setScaleXY(0.8,0.8),d=new S(new W(a,"preloader"));d.loop("spongebob");b.addChild((new i).add(c).add(d));c=(new q).setXY(491,363);a=new S(new W(a,"preloader"));a.loop("loading_text");b.addChild((new i).add(c).add(a));return b};var La=function(a,b,c,d){null==d&&(d="");this.SPEED=800;w.call(this,a);this.owner=d;this.moviePlayer=new S(new W(a.assets,"effects"));"player"==
this.owner?this.moviePlayer.loop("patty_shot"):this.moviePlayer.loop("robot_bullet");this.sprite=new q;this.entity.add(this.moviePlayer).add(this.sprite);this.pos=new va(0,0,0);this.vel=new va(b,0,c);0!=this.vel.x&&0!=this.vel.z&&(this.vel.x*=0.7,this.vel.z*=0.7);this.remove=new z;this.isHit=!1;this.type="projectile"};f["spongebob.Projectile"]=La;La.__name__=["spongebob","Projectile"];La.__super__=w;La.prototype=x(w.prototype,{hit:function(){return!this.isHit?(this.isHit=!0,this.vel.x=this.vel.y=
this.vel.z=0,"player"==this.owner?this.moviePlayer.play("patty_splat"):this.moviePlayer.play("robot_splat"),this.moviePlayer.movie.get_changed().connect(g(this,this.onHitComplete)).once(),!0):!1},onHitComplete:function(){this.remove.emit(this)},update:function(a){this.pos.x+=this.vel.x*this.SPEED*a;this.pos.z+=this.vel.z*this.SPEED*a;this.sprite.x.set__(this.pos.x);this.sprite.y.set__(this.pos.z-80)},__class__:La});var jb=function(a,b,c){null==c&&(c="town");null==b&&(b=1);w.call(this,a);this._style=
c;this.moviePlayer=new S(new W(a.assets,"objects"));this.moviePlayer.loop(this._style+"_pile_idle");this.isSolid=!0;this.sprite=new q;this.sprite.set_pointerEnabled(!1);this.entity.add(this.moviePlayer).add(this.sprite);this.state=!1;this.type="sandpile";this.id=b;this.destroy=new z};f["spongebob.SandPile"]=jb;jb.__name__=["spongebob","SandPile"];jb.__super__=w;jb.prototype=x(w.prototype,{activate:function(){return!this.state?(this.state=!0,this.isSolid=!1,this.moviePlayer.play(this._style+"_pile_destroy"),
this.moviePlayer.movie.get_changed().connect(g(this,this.onDestroyComplete)).once(),!0):!1},onDestroyComplete:function(){this.moviePlayer.loop(this._style+"_pile_destroyed")},setDestroyed:function(){this.state=!0;this.isSolid=!1;this.moviePlayer.loop(this._style+"_pile_destroyed")},__class__:jb});var ka=function(){this.entity=new i;this.sprite=new q;this.entity.add(this.sprite)};f["spongebob.Scene"]=ka;ka.__name__=["spongebob","Scene"];ka.prototype={__class__:ka};var fc=function(a,b,c){null==c&&(c=
1);w.call(this,a);this.moviePlayer=new S(new W(a.assets,"spot_effects"));this.moviePlayer.loop(b);this.sprite=new q;this.entity.add(this.moviePlayer).add(this.sprite);this.type="effect";this.id=c};f["spongebob.SpotEffect"]=fc;fc.__name__=["spongebob","SpotEffect"];fc.__super__=w;fc.prototype=x(w.prototype,{__class__:fc});var Ya=function(a,b,c){null==c&&(c=!1);null==b&&(b=1);w.call(this,a);this.moviePlayer=new S(new W(a.assets,"objects"));c?this.moviePlayer.loop("switch_on"):this.moviePlayer.loop("switch_off");
this.sprite=new q;this.entity.add(this.moviePlayer).add(this.sprite);this.state=c;this.type="switch";this.id=b};f["spongebob.Switch"]=Ya;Ya.__name__=["spongebob","Switch"];Ya.__super__=w;Ya.prototype=x(w.prototype,{activate:function(){(this.state=!this.state)?(this.moviePlayer.loop("switch_on"),this.moviePlayer.play("switch_to_on")):(this.moviePlayer.loop("switch_off"),this.moviePlayer.play("switch_to_off"));return this.state},__class__:Ya});var j=function(a,b){w.call(this,a);this.pos=new L;this.sprite=
new u(a.level.getTexture(b));this.sprite.set_pointerEnabled(!1);this.sprite.scaleX.set__(this.sprite.scaleY.set__(1.01));this.entity.add(this.sprite)};f["spongebob.Tile"]=j;j.__name__=["spongebob","Tile"];j.__super__=w;j.prototype=x(w.prototype,{__class__:j});var m=function(a,b,c){null==c&&(c=!1);this.id=a;this.asset=b;this.isSolid=c};f["spongebob.TileData"]=m;m.__name__=["spongebob","TileData"];m.prototype={__class__:m};var Wc=function(){this._isHidden=!1;this.entity=new i;this.sprite=new q;this.entity.add(this.sprite);
this._part1=new Ea(0,1E3,280);this._part1.setXY(0,-280);this.entity.addChild((new i).add(this._part1));this._part2=new Ea(0,1E3,280);this._part2.setXY(0,560);this.entity.addChild((new i).add(this._part2));this._part1.set_visible(!1);this._part2.set_visible(!1);this.hide=new z;this.show=new z;this._isHidden=!1};f["spongebob.Transition"]=Wc;Wc.__name__=["spongebob","Transition"];Wc.prototype={delayedStart:function(){this.start()},start:function(a,b){null==b&&(b=!1);null==a&&(a=0);null!=this._timer&&
(this._timer.stop(),this._timer=null);if(0<a)this._timer=new pa(a),this._timer.run=g(this,this.delayedStart);else if(this._part1.set_visible(!0),this._part2.set_visible(!0),b)this._part1.setXY(0,0),this._part2.setXY(0,280),this._isHidden=!0;else{var c=[];c.push(new o(this._part1.y,0,0.5,p.quadInOut));c.push(new o(this._part2.y,280,0.5,p.quadInOut));var d=new N;d.run(new O([new R(c),new M(g(this,this.onHide))]));this.entity.add(d)}},onHide:function(){this._isHidden=!0;this.hide.emit(this)},reveal:function(){if(this._isHidden){this._isHidden=
!1;var a=[];a.push(new o(this._part1.y,-280,0.5,p.quadInOut));a.push(new o(this._part2.y,560,0.5,p.quadInOut));var b=new N;b.run(new O([new o(this._part1.y,0,1,p.quadInOut),new R(a),new M(g(this,this.onShow))]));this.entity.add(b)}},onShow:function(){this.show.emit(this);this._part1.set_visible(!1);this._part2.set_visible(!1)},__class__:Wc};var fd=function(a,b,c,d,e){null==e&&(e=0);null==d&&(d=0);null==c&&(c="");null==b&&(b=0);this.text=a;this.delay=b;this.imageFile=c;this.imagePosition=new A(d,e)};
f["spongebob.Tutorial"]=fd;fd.__name__=["spongebob","Tutorial"];fd.prototype={__class__:fd};var Tc=function(a,b,c,d){this._gameState=b;this._tutorials=[];for(a=(new ja(l.parse(a.assets.getFile(c).toString()).firstElement())).nodes.resolve("tutorial").iterator();a.hasNext();){var b=a.next(),c=r.parseInt(b.att.resolve("id")),e;e=1==d?b.node.resolve("touch").get_innerData():b.node.resolve("keyboard").get_innerData();var f;f=b.has.resolve("delay")?r.parseFloat(b.att.resolve("delay")):0;var g="",i=0,k=
0;b.hasNode.resolve("image")&&(g=b.node.resolve("image").get_innerData(),i=r.parseFloat(b.node.resolve("image").att.resolve("x")),k=r.parseFloat(b.node.resolve("image").att.resolve("y")));this._tutorials[c]=new fd(e,f,g,i,k)}};f["spongebob.TutorialManager"]=Tc;Tc.__name__=["spongebob","TutorialManager"];Tc.prototype={isDone:function(a){return this._gameState.isTutorialDone(a)?!0:!1},get:function(a){var b=null,b=this._tutorials[a];this._gameState.tutorialDone(a);return b},__class__:Tc};var Uc=function(a,
b){this._ctx=a;this.scene=new ka;b.entity.addChild(this.scene.entity);this.floor=new ka;this.scene.entity.addChild(this.floor.entity);this.objects=[];this.tiles=[];this.blocks=[];this.pits=[];this.hazardHit=new Aa;this.dummyHit=new z;this.switchHit=new z;this._paused=new xb(0)};f["spongebob.World"]=Uc;Uc.__name__=["spongebob","World"];Uc.prototype={hide:function(){this.scene.sprite.set_visible(!1)},show:function(){this.scene.sprite.set_visible(!0)},addTile:function(a,b,c,d,e){null==e&&(e=!1);null==
d&&(d=!1);a=new j(this._ctx,a);a.pos.x=b;a.pos.y=c;a.sprite.x.set__(b);a.sprite.y.set__(c);this.tiles.push(a);d&&this.blocks.push(a);e&&this.pits.push(a);this.floor.entity.addChild(a.entity)},removeAllTiles:function(){for(var a=0,b=this.tiles;a<b.length;){var c=b[a];++a;this.floor.entity.removeChild(c.entity);c.cleanUp()}this.tiles.splice(0,this.tiles.length);this.blocks.splice(0,this.blocks.length);this.pits.splice(0,this.pits.length)},removeCharacter:function(a){for(var b=0,c=this.objects.length;b<
c;){var d=b++;if("character"==this.objects[d].type&&this.objects[d].id==a){this.scene.entity.removeChild(this.objects[d].entity);this.objects[d].cleanUp();this.objects[d]=null;this.objects.splice(d,1);break}}},getCharacter:function(a){for(var b=0,c=this.objects.length;b<c;){var d=b++;if("character"==this.objects[d].type&&this.objects[d].id==a)return K.__cast(this.objects[d],Xa)}return null},getObstacle:function(a){for(var b=0,c=this.objects.length;b<c;){var d=b++;if("obstacle"==this.objects[d].type&&
this.objects[d].id==a)return K.__cast(this.objects[d],Za)}return null},depthSort:function(a,b){for(var c=[],d=0,e=this.objects;d<e.length;){var f=e[d];++d;c.push(f)}for(d=0;d<a.length;)e=a[d],++d,c.push(K.__cast(e,w));for(d=0;d<b.length;)e=b[d],++d,c.push(K.__cast(e,w));c.sort(g(this,this.sortOnY));for(d=0;d<c.length;)e=c[d],++d,this.scene.entity.addChild(e.entity)},sortOnY:function(a,b){var c=a.sprite.y._value,d=b.sprite.y._value;"projectile"==a.type&&(c=K.__cast(a,La).pos.z);"projectile"==b.type&&
(d=K.__cast(b,La).pos.z);return c<d?-1:c>d?1:0},updateVisibility:function(a){for(var b=0,c=this.tiles;b<c.length;){var d=c[b];++b;d.sprite.set_visible(a.isVisible(d.sprite))}b=0;for(c=this.objects;b<c.length;){d=c[b];++b;var e=!1;"character"==d.type&&10==d.id&&(e=!0);d.sprite.set_visible(a.isVisible(d.sprite,!e));d.isRemoveOffscreen&&0==(d.sprite._flags&2)&&"character"==d.type&&this.removeCharacter(d.id)}},pause:function(){this.scene.entity.add(this._paused)},resume:function(){this.scene.entity.remove(this._paused)},
activateObject:function(a,b){for(var c=!1,d=0,e=this.objects;d<e.length;){var f=e[d];++d;f.type==a&&f.id==b&&(f.activate(),c=!0)}return c},onDummyHit:function(a){this.dummyHit.emit(a);for(var b=0,c=this.objects.length;b<c;){var d=b++;if("dummy"==this.objects[d].type&&this.objects[d].id==a){this.scene.entity.removeChild(this.objects[d].entity);this.objects[d].cleanUp();this.objects[d]=null;this.objects.splice(d,1);break}}},walkable:function(a,b){for(var c=!1,d=0,e=this.blocks;d<e.length;)if(c=e[d],
++d,c=C.circleCollision(a,b,75,c.pos.x+j.WIDTH/2,c.pos.y+j.HEIGHT/2,j.HEIGHT/2))return!1;d=0;for(e=this.pits;d<e.length;)if(c=e[d],++d,c=C.circleCollision(a,b,75,c.pos.x+j.WIDTH/2,c.pos.y+j.HEIGHT/2,j.HEIGHT/2))return!1;d=0;for(e=this.objects;d<e.length;)if(c=e[d],++d,c.isSolid&&(c=C.isAABBCollision(a,b,10,10,c.sprite.x._value+c.col.x,c.sprite.y._value+c.col.y,c.col.width,c.col.height)))return!1;return!0},checkCollisions:function(a,b,c){for(var d,e=0,f=this.blocks;e<f.length;){var g=f[e];++e;if(0!=
(g.sprite._flags&2)){d=C.AABBCollision(a.pos.x,a.pos.z,a.col.width,a.col.height,g.pos.x+j.WIDTH/2,g.pos.y+j.HEIGHT/2,j.WIDTH,j.HEIGHT);0!=d.x&&(a.vel.x=0);0!=d.y&&(a.vel.y=0);a.pos.x+=d.x;a.pos.z+=d.y;for(d=0;d<c.length;){var i=c[d];++d;var k=0;0<i.vel.z&&i.pos.z-80<g.pos.y&&i.pos.x>g.pos.x&&i.pos.x<g.pos.x+j.WIDTH&&(k=-80);C.isAABBCollision(i.pos.x,i.pos.z+k,10,10,g.pos.x+j.WIDTH/2,g.pos.y+j.HEIGHT/2,j.WIDTH,j.HEIGHT)&&i.hit()}}for(i=0;i<b.length;){k=b[i];++i;d=C.AABBCollision(k.sprite.x._value,
k.sprite.y._value,10,10,g.pos.x+j.WIDTH/2,g.pos.y+j.HEIGHT/2,j.WIDTH,j.HEIGHT);var l=k.sprite.x;l.set__(l._value+d.x);k=k.sprite.y;k.set__(k._value+d.y)}}e=0;for(f=this.pits;e<f.length;){g=f[e];++e;if(0!=(g.sprite._flags&2)&&(d=C.AABBCollision(a.pos.x,a.pos.z+10,1,1,g.pos.x+j.WIDTH/2,g.pos.y+j.HEIGHT/2,j.WIDTH,j.HEIGHT),0!=d.x||0!=d.y))d=Math.abs(d.x)>Math.abs(d.y)?g.pos.x+j.WIDTH/2:a.pos.x,a.fall(d,g.pos.y+0.9*j.HEIGHT);for(i=0;i<b.length;)k=b[i],++i,d=C.AABBCollision(k.sprite.x._value,k.sprite.y._value,
10,10,g.pos.x+j.WIDTH/2,g.pos.y+j.HEIGHT/2,j.WIDTH,j.HEIGHT),l=k.sprite.x,l.set__(l._value+d.x),k=k.sprite.y,k.set__(k._value+d.y)}b=0;for(e=this.objects;b<e.length;)if(f=e[b],++b,0!=(f.sprite._flags&2))if(f.isSolid||"switch"==f.type||"dummy"==f.type){if("dummy"!=f.type&&(d=C.AABBCollision(a.pos.x,a.pos.z,a.col.width,a.col.height,f.sprite.x._value+f.col.x,f.sprite.y._value+f.col.y,f.col.width,f.col.height),0!=d.x&&(a.vel.x=0),0!=d.y&&(a.vel.y=0),a.pos.x+=d.x,a.pos.z+=d.y),"door"!=f.type)for(d=0;d<
c.length;)if(g=c[d],++d,C.isAABBCollision(g.pos.x,g.pos.z,10,10,f.sprite.x._value+f.col.x,f.sprite.y._value+f.col.y,f.col.width,f.col.height)&&g.hit()&&"player"==g.owner)if("switch"==f.type)this.switchHit.emit(f);else if("dummy"==f.type)this.onDummyHit(f.id)}else"spikes"==f.type&&C.circleCollision(a.pos.x+a.collisonOffset.x,a.pos.z+a.collisonOffset.y,1,f.sprite.x._value,f.sprite.y._value,75)&&this.hazardHit.emit(f.sprite.x._value,f.sprite.y._value)},__class__:Uc};var la=function(a,b,c,d,e){null==
e&&(e=20);null==d&&(d=10);null==c&&(c=1);this._range=1E3;w.call(this,a);this.moviePlayer=new S(new W(a.level,b));this.moviePlayer.loop("idle");this.sprite=new q;this.entity.add(this.moviePlayer).add(this.sprite);this.state="default";this.type="enemy";this.subType="";this.id=c;this.hp=d;this.radius=e;this.attackPower=1;this.isAlive=!0;this.findPath=new z;this.killed=new z;this.shoot=new Aa;this.activation=new Q;this.signalDisposer=new rb;this.pathfindingCount=this.pathfindingWait=30;this.speed=50;
this.hitVel=new L;this.hitPow=1;this._toPlayer=new L;this.shootOffset=new L};f["spongebob.enemies.Enemy"]=la;la.__name__=["spongebob","enemies","Enemy"];la.__super__=w;la.prototype=x(w.prototype,{hit:function(a,b,c){null==c&&(c=1);"default"==this.state&&(this.hp-=a,null!=b&&(b.normalize(),this.hitVel.x=b.x,this.hitVel.y=b.y,this.hitPow=c,0<b.x?this.sprite.scaleX.set__(-1):this.sprite.scaleX.set__(1)),0>=this.hp?this.kill():(this.state="hit",this.moviePlayer.play("hit"),this.moviePlayer.movie.get_changed().connect(g(this,
this.onHitComplete)).once()))},kill:function(){this.isAlive=!1;this.state="death";this.moviePlayer.play("death");this.moviePlayer.movie.get_changed().connect(g(this,this.onDeathComplete)).once()},onHitComplete:function(){this.state="default"},onDeathComplete:function(){this.killed.emit(this)},contact:function(a){if("attack"==this.state)return!1;this.state="attack";this.moviePlayer.play("attack");this.moviePlayer.movie.get_changed().connect(g(this,this.onAttackComplete)).once();a>this.sprite.x._value?
this.sprite.scaleX.set__(1):this.sprite.scaleX.set__(-1);return!0},onAttackComplete:function(){this.state="default"},updatePath:function(a){this.nodePath=a;this.currentNode=1<this.nodePath.length?1:0},cleanUp:function(){this.moviePlayer.dispose();this.signalDisposer.dispose();w.prototype.cleanUp.call(this)},update:function(){},__class__:la});var dc=function(a,b,c,d,e){null==e&&(e=10);null==d&&(d=10);null==c&&(c=1);this._shootRate=20;la.call(this,a,b,c,d,e);this.sprite.setScaleXY(0.63,0.63);this._switches=
[];for(a=0;4>a;)a++,this._switches.push(!1);this._shootCount=0;this._shootWait=40;this._shootVector=new L;this._deactivatedCount=0;this._deactivatedWait=100;this.state="idle";this.subType="boss"};f["spongebob.enemies.Boss"]=dc;dc.__name__=["spongebob","enemies","Boss"];dc.__super__=la;dc.prototype=x(la.prototype,{hit:function(a){"deactivated"==this.state&&(this.hp-=a,0>=this.hp?this.kill():this.moviePlayer.play("hit"))},kill:function(){this.isAlive=!1;this.state="death";this.moviePlayer.loop("boss_defeated");
this.killed.emit(this)},attack:function(a,b){this._shootVector=new L(a,b);0<a?this.moviePlayer.play("attack_start_right"):this.moviePlayer.play("attack_start_left");this.moviePlayer.movie.get_changed().connect(g(this,this.onAttackStartComplete)).once();this.state="attack"},onAttackStartComplete:function(){if("deactivated"!=this.state){var a=Math.abs(this._shootVector.x),b="left",c=-1;0<this._shootVector.x&&(b="right",c=1);0.5>a?0<this._shootVector.y?(this.shootOffset.x=95*c,this.shootOffset.y=60,
this.moviePlayer.play("attack_"+b+"_down")):(this.shootOffset.x=240*c,this.shootOffset.y=-385,this.moviePlayer.play("attack_"+b+"_up")):0<this._shootVector.y?(this.shootOffset.x=290*c,this.shootOffset.y=-90,this.moviePlayer.play("attack_"+b+"_down_"+b)):(this.shootOffset.x=270*c,this.shootOffset.y=-295,this.moviePlayer.play("attack_"+b+"_up_"+b));this.moviePlayer.movie.get_changed().connect(g(this,this.onAttackComplete)).once();null!=this._timer&&(this._timer.stop(),this._timer=null);this._timer=
new pa(200);this._timer.run=g(this,this.fireBullets)}},onAttackComplete:function(){"deactivated"!=this.state&&(this.state="default")},fireBullets:function(){null!=this._timer&&(this._timer.stop(),this._timer=null);var a=this._shootVector.angle(),b=new L;this.shoot.emit(this,this._shootVector);b.vector(a-8);this.shoot.emit(this,b);b.vector(a+8);this.shoot.emit(this,b)},contact:function(){return"default"==this.state?(this.state="defend",this.moviePlayer.play("electrify"),this.moviePlayer.movie.get_changed().connect(g(this,
this.onElectrifyComplete)).once(),!0):!1},onElectrifyComplete:function(){this.state="default"},updateSwitches:function(a,b){this._switches[a-1]=b;for(var c=0,d=this._switches;c<d.length;){var e=d[c];++c;if(!e)return}this.setInactive()},setInactive:function(){this.state="deactivated";this.moviePlayer.play("vulnerable_1");this.moviePlayer.movie.get_changed().connect(g(this,this.onDeactivateStart)).once()},onDeactivateStart:function(){this.moviePlayer.loop("vulnerable_2")},setActive:function(){this._shootCount=
0;this.moviePlayer.play("vulnerable_3");this.moviePlayer.movie.get_changed().connect(g(this,this.onActivateStart)).once()},onActivateStart:function(){if(this.isAlive){this.moviePlayer.loop("idle");this.state="default";for(var a=0;4>a;)this._switches[a++]=!1;this.activation.emit()}},update:function(a,b){if(this.isAlive)switch(this.state){case "default":this._toPlayer.x=b.sprite.x._value+b.collisonOffset.x-this.sprite.x._value,this._toPlayer.y=b.sprite.y._value+b.collisonOffset.y-this.sprite.y._value,
this._toPlayer.magnitude(),this._shootCount+=a*this._shootRate,this._shootCount>this._shootWait&&(this._toPlayer.normalize(),this.attack(this._toPlayer.x,this._toPlayer.y),this._shootCount=0)}},__class__:dc});var ac=function(a,b,c,d,e){null==e&&(e=20);null==d&&(d=10);null==c&&(c=1);la.call(this,a,b,c,d,e);this.speed=50;this.subType="jellyfish"};f["spongebob.enemies.Jellyfish"]=ac;ac.__name__=["spongebob","enemies","Jellyfish"];ac.__super__=la;ac.prototype=x(la.prototype,{update:function(a,b){if(this.isAlive)switch(this.state){case "default":this._toPlayer.x=
b.sprite.x._value-this.sprite.x._value;this._toPlayer.y=b.sprite.y._value-this.sprite.y._value;var c=this._toPlayer.magnitude();if(c<this._range)if(150>c)this._toPlayer.normalize(),c=this.sprite.x,c.set__(c._value+this._toPlayer.x*this.speed*a),c=this.sprite.y,c.set__(c._value+this._toPlayer.y*this.speed*a);else if(this.pathfindingCount--,0>=this.pathfindingCount&&(this.findPath.emit(this),this.pathfindingCount=this.pathfindingWait),null!=this.nodePath&&0<this.nodePath.length)if(this.currentNode<
this.nodePath.length){var c=this.nodePath[this.currentNode].x,d=this.nodePath[this.currentNode].y,e=new L(c-this.sprite.x._value,d-this.sprite.y._value);e.normalize();if(0<=Math.abs(e.x)&&1>=Math.abs(e.x)){var f=this.sprite.x;f.set__(f._value+e.x*this.speed*a);f=this.sprite.y;f.set__(f._value+e.y*this.speed*a)}0<e.x?this.sprite.scaleX.set__(-1):this.sprite.scaleX.set__(1);C.circleCollision(this.sprite.x._value,this.sprite.y._value,8,c,d,1)&&this.currentNode++}else this.pathfindingCount=0;break;case "hit":case "death":c=
this.sprite.x,c.set__(c._value+this.hitVel.x*this.speed*a*this.hitPow),c=this.sprite.y,c.set__(c._value+this.hitVel.y*this.speed*a*this.hitPow)}},__class__:ac});var bc=function(a,b,c,d,e){null==e&&(e=20);null==d&&(d=10);null==c&&(c=1);this._hitRate=20;la.call(this,a,b,c,d,e);this.speed=100;this._hitCount=0;this._hitWait=20;this.shootOffset.y=-100;this.subType="mallet_robot"};f["spongebob.enemies.MalletRobot"]=bc;bc.__name__=["spongebob","enemies","MalletRobot"];bc.__super__=la;bc.prototype=x(la.prototype,
{attack:function(a){0<a?this.sprite.scaleX.set__(1):this.sprite.scaleX.set__(-1);this.state="attack";this.moviePlayer.play("attack");this.moviePlayer.movie.get_changed().connect(g(this,this.onAttackComplete)).once()},onAttackComplete:function(){"attack"==this.state&&(this.shoot.emit(this,null),this.state="default")},onHitComplete:function(){this.state="default";this._hitCount=0},contact:function(){return!0},update:function(a,b){if(this.isAlive)switch(this.state){case "default":this._toPlayer.x=b.sprite.x._value+
b.collisonOffset.x-this.sprite.x._value;this._toPlayer.y=b.sprite.y._value+b.collisonOffset.y-this.sprite.y._value;var c=this._toPlayer.magnitude();if(c<this._range)if(100>c)this._hitCount+=a*this._hitRate,this._hitCount>this._hitWait&&(this._toPlayer.x=b.sprite.x._value+b.collisonOffset.x-(this.sprite.x._value+this.shootOffset.x),this._toPlayer.y=b.sprite.y._value+b.collisonOffset.y-(this.sprite.y._value+this.shootOffset.y),this._toPlayer.normalize(),this.attack(this._toPlayer.x,this._toPlayer.y),
this._hitCount=0);else{if(200>c)this._toPlayer.normalize(),c=this.sprite.x,c.set__(c._value+this._toPlayer.x*this.speed*a),c=this.sprite.y,c.set__(c._value+this._toPlayer.y*this.speed*a),0<this._toPlayer.x?this.sprite.scaleX.set__(1):this.sprite.scaleX.set__(-1);else if(this.pathfindingCount--,0>=this.pathfindingCount&&(this.findPath.emit(this),this.pathfindingCount=this.pathfindingWait),null!=this.nodePath&&0<this.nodePath.length)if(this.currentNode<this.nodePath.length){var c=this.nodePath[this.currentNode].x,
d=this.nodePath[this.currentNode].y,e=new L(c-this.sprite.x._value,d-this.sprite.y._value);e.normalize();if(0<=Math.abs(e.x)&&1>=Math.abs(e.x)){var f=this.sprite.x;f.set__(f._value+e.x*this.speed*a);f=this.sprite.y;f.set__(f._value+e.y*this.speed*a)}0<e.x?this.sprite.scaleX.set__(1):this.sprite.scaleX.set__(-1);C.circleCollision(this.sprite.x._value,this.sprite.y._value,8,c,d,1)&&this.currentNode++}else this.pathfindingCount=0;this._hitCount=this._hitWait}break;case "hit":case "death":c=this.sprite.x,
c.set__(c._value+this.hitVel.x*this.speed*a*this.hitPow),c=this.sprite.y,c.set__(c._value+this.hitVel.y*this.speed*a*this.hitPow)}},__class__:bc});var cc=function(a,b,c,d,e){null==e&&(e=20);null==d&&(d=10);null==c&&(c=1);this._shootRate=20;la.call(this,a,b,c,d,e);this.speed=100;this._shootCount=0;this._shootWait=50;this._shootVector=new L;this.shootOffset.y=-100;this.subType="projectile_robot"};f["spongebob.enemies.ProjectileRobot"]=cc;cc.__name__=["spongebob","enemies","ProjectileRobot"];cc.__super__=
la;cc.prototype=x(la.prototype,{attack:function(a,b){0<a?this.sprite.scaleX.set__(1):this.sprite.scaleX.set__(-1);this._shootVector=new L(a,b);this.state="attack";this.moviePlayer.play("attack");this.moviePlayer.movie.get_changed().connect(g(this,this.onAttackComplete)).once()},onAttackComplete:function(){"attack"==this.state&&(this.state="default",this.shoot.emit(this,this._shootVector))},onHitComplete:function(){this.state="default";this._shootCount=0},contact:function(){return!0},update:function(a,
b){if(this.isAlive)switch(this.state){case "default":this._toPlayer.x=b.sprite.x._value+b.collisonOffset.x-this.sprite.x._value;this._toPlayer.y=b.sprite.y._value+b.collisonOffset.y-this.sprite.y._value;var c=this._toPlayer.magnitude();if(c<this._range)if(300<c){if(this.pathfindingCount--,0>=this.pathfindingCount&&(this.findPath.emit(this),this.pathfindingCount=this.pathfindingWait),null!=this.nodePath&&0<this.nodePath.length)if(this.currentNode<this.nodePath.length){var c=this.nodePath[this.currentNode].x,
d=this.nodePath[this.currentNode].y,e=new L(c-this.sprite.x._value,d-this.sprite.y._value);e.normalize();if(0<=Math.abs(e.x)&&1>=Math.abs(e.x)){var f=this.sprite.x;f.set__(f._value+e.x*this.speed*a);f=this.sprite.y;f.set__(f._value+e.y*this.speed*a)}0<e.x?this.sprite.scaleX.set__(1):this.sprite.scaleX.set__(-1);C.circleCollision(this.sprite.x._value,this.sprite.y._value,8,c,d,1)&&this.currentNode++}else this.pathfindingCount=0}else this._shootCount+=a*this._shootRate,this._shootCount>this._shootWait&&
(this._toPlayer.x=b.sprite.x._value+b.collisonOffset.x-(this.sprite.x._value+this.shootOffset.x),this._toPlayer.y=b.sprite.y._value+b.collisonOffset.y-(this.sprite.y._value+this.shootOffset.y),this._toPlayer.normalize(),this.attack(this._toPlayer.x,this._toPlayer.y),this._shootCount=0);break;case "hit":case "death":c=this.sprite.x,c.set__(c._value+this.hitVel.x*this.speed*a*this.hitPow),c=this.sprite.y,c.set__(c._value+this.hitVel.y*this.speed*a*this.hitPow)}},__class__:cc});var gd=function(a){this._ctx=
a;this.entity=new i;this.sprite=new q;this.entity.add(this.sprite);this._messageList=[];this._printout=new pb("");this.box=new u(a.assets.getTexture("hud/dialogue_box"));this.box.x.set__(25);this.box.y.set__(800);this.entity.addChild((new i).add(this.box));var b=new Y(a.assets,"bikini_bottom_48");this.text=new P(b,"");this.text.x.set__(105);this.text.y.set__(75);this.text.letterSpacing.set__(-2);this.text.wrapWidth.set__(735);this.text.set_align(D.Left);this.box.owner.addChild((new i).add(this.text));
this.name=new u(a.assets.getTexture("hud/character_name_box"));this.name.x.set__(103);this.name.y.set__(1);this.box.owner.addChild((new i).add(this.name));this.characterImage=new u(this._ctx.assets.getTexture("menu/brain/characters/profile_spongebob"));this.characterImage.setScaleXY(0.9,0.9);this.characterImage.setXY(-73,-16);this.characterImage.set_visible(!1);this.box.owner.addChild((new i).add(this.characterImage));a=new Y(a.assets,"tiki_island_56");this.nameText=new P(a,"");this.nameText.x.set__(110);
this.nameText.y.set__(9);this.nameText.wrapWidth.set__(328);this.nameText.set_align(D.Center);this.box.owner.addChild((new i).add(this.nameText));this.complete=new z;this.isActive=!1};f["spongebob.hud.DialogueMessage"]=gd;gd.__name__=["spongebob","hud","DialogueMessage"];gd.prototype={show:function(a,b,c,d){null==d&&(d=0);null==c&&(c="");null==b&&(b="");this.text.set_text("");this._messageList=a.split("/");this._currentMessage=0;""!=b?(this.nameText.set_text(b.toUpperCase()),this.name.set_visible(!0),
this.nameText.set_visible(!0)):(this.name.set_visible(!1),this.nameText.set_visible(!1));""!=c?(this.characterImage.texture=this._ctx.assets.getTexture("menu/brain/characters/profile_"+c),this.characterImage.set_visible(!0),this.box.scaleX.set__(0.96),this.box.x.set__(84),this.text.x.set__(155),this.text.wrapWidth.set__(660)):(this.characterImage.set_visible(!1),this.box.scaleX.set__(1),this.box.x.set__(25),this.text.x.set__(105),this.text.wrapWidth.set__(735));this._printout.setText(this._messageList[this._currentMessage]);
this.sprite.set_visible(!0);a=new N;a.run(new O([new Va(d),new M(g(this,this.playSound)),new o(this.box.y,374,0.5,p.quadInOut)]));this.entity.add(a);this.isActive=!0},playSound:function(){this._ctx.assets.getSound("audio/pop_09").play()},next:function(){this.text._text!=this._messageList[this._currentMessage]?(this._printout.showAll(),null):(this._currentMessage++,this._currentMessage>=this._messageList.length?this.hide():(this.text.set_text(""),this._printout.setText(this._messageList[this._currentMessage])))},
hide:function(){this.isActive=!1;var a=new N;a.run(new O([new o(this.box.y,800,0.5,p.quadInOut),new M(g(this,this.onHide))]));this.entity.add(a)},onHide:function(){this.characterImage.set_visible(!1);this.sprite.set_visible(!1);this.complete.emit(!0)},update:function(){this.isActive&&374==this.box.y._value&&(this._printout.update(),this.text.set_text(this._printout.getText()))},__class__:gd};var Vc=function(a,b){null==b&&(b=!1);this._ctx=a;this.entity=new i;this.sprite=new q;this.entity.add(this.sprite);
var c=new u(a.assets.getTexture("hud/hud_ropes"));c.setXY(-5,-5);this.entity.addChild((new i).add(c));this._bg=new u(a.assets.getTexture("hud/hud_background"));this._bg.setXY(5,5);this.entity.addChild((new i).add(this._bg));this.health=new hd(a);this.entity.addChild(this.health.entity);this.message=new gd(a);this.message.complete.connect(g(this,this.onMessageComplete));this.entity.addChild(this.message.entity);c=new Y(a.assets,"bikini_bottom_18");this._textBooty=new P(c,"99");this._textBooty.setXY(277,
48);this._textBooty.set_align(D.Center);this.entity.addChild((new i).add(this._textBooty));this._textMaxBooty=new P(c,"99");this._textMaxBooty.setXY(307,48);this._textMaxBooty.set_align(D.Center);this.entity.addChild((new i).add(this._textMaxBooty));this._textCharacters=new P(c,"99");this._textCharacters.setXY(277,81);this._textCharacters.set_align(D.Center);this.entity.addChild((new i).add(this._textCharacters));this._textMaxCharacters=new P(c,"99");this._textMaxCharacters.setXY(307,81);this._textMaxCharacters.set_align(D.Center);
this.entity.addChild((new i).add(this._textMaxCharacters));this.setCurrentWeapon("spatula");this.setSpongeBobState("default");this.pause=new Q;this.menu=new Q;this.map=new Q;this.messageHide=new z;this.nextWeapon=new Q;b&&(this.touchControls=new id(a),this.entity.addChild(this.touchControls.entity));this.pauseButton=new G(a.assets,"hud/pause_button");this.pauseButton.setXY(885,60);this.pauseButton.down.connect(g(this,this.onPauseClicked));this.entity.addChild(this.pauseButton.entity);this.menuButton=
new G(a.assets,"hud/menu_button");this.menuButton.setXY(770,60);this.menuButton.down.connect(g(this,this.onMenuClicked));this.entity.addChild(this.menuButton.entity);this.mapButton=new G(a.assets,"hud/map_button");this.mapButton.setXY(655,60);this.mapButton.down.connect(g(this,this.onMapClicked));this.entity.addChild(this.mapButton.entity);this.audioOffButton=new G(a.assets,"hud/button_audio_off");this.audioOffButton.setXY(540,60);this.audioOffButton.down.connect(g(this,this.onAudioOffClicked));this.entity.addChild(this.audioOffButton.entity);
this.audioOnButton=new G(a.assets,"hud/button_audio_on");this.audioOnButton.setXY(540,60);this.audioOnButton.down.connect(g(this,this.onAudioOnClicked));this.entity.addChild(this.audioOnButton.entity);this.newTag=new u(this._ctx.assets.getTexture("menu/icon_new"));this.newTag.setXY(770,60);this.newTag.setScale(0.6);this.newTag.set_pointerEnabled(!1);this.newTag.set_visible(!1);this.entity.addChild((new i).add(this.newTag));0<s.volume._value?(this.audioOnButton.sprite.set_visible(!1),this.audioOnButton.disable()):
(this.audioOffButton.sprite.set_visible(!1),this.audioOffButton.disable())};f["spongebob.hud.HUD"]=Vc;Vc.__name__=["spongebob","hud","HUD"];Vc.prototype={showNewLabel:function(){this.newTag.set_visible(!0)},hideNewLabel:function(){this.newTag.set_visible(!1)},onAudioOnClicked:function(){s.volume.set__(1);this.audioOnButton.sprite.set_visible(!1);this.audioOnButton.disable();this.audioOffButton.sprite.set_visible(!0);this.audioOffButton.enable()},onAudioOffClicked:function(){s.volume.set__(0);this.audioOffButton.sprite.set_visible(!1);
this.audioOffButton.disable();this.audioOnButton.sprite.set_visible(!0);this.audioOnButton.enable()},setCurrentWeapon:function(a){null!=this._currentWeapon&&(this.entity.removeChild(this._currentWeapon.entity),this._currentWeapon=null);this._currentWeapon=new G(this._ctx.assets,"menu/brain/"+a+"_button");this._currentWeapon.setXY(176,66);this._currentWeapon.down.connect(g(this,this.onWeaponClicked)).once();this.entity.addChild(this._currentWeapon.entity)},onWeaponClicked:function(){this.nextWeapon.emit()},
setSpongeBobState:function(a){null==this._spongeBob?(this._spongeBob=new u(this._ctx.assets.getTexture("hud/sb_"+a)),this._spongeBob.setXY(12,7),this.entity.addChild((new i).add(this._spongeBob))):this._spongeBob.texture=this._ctx.assets.getTexture("hud/sb_"+a)},setCollectionItemsFound:function(a){this._textBooty.set_text(null==a?"null":""+a)},setCollectionItemsMax:function(a){this._textMaxBooty.set_text(null==a?"null":""+a)},setProfilesUnlocked:function(a){this._textCharacters.set_text(null==a?"null":
""+a)},setProfilesMax:function(a){this._textMaxCharacters.set_text(null==a?"null":""+a)},onPauseClicked:function(){this.pause.emit()},onMenuClicked:function(){this.menu.emit()},onMapClicked:function(){this.map.emit()},showMessage:function(a,b,c,d){null==d&&(d=0);null==c&&(c="");null==b&&(b="");null!=this.touchControls&&this.touchControls.showThumbstick(!1);this.isMessage()||this.message.show(a,b,c,d)},nextMessage:function(){this.isMessage()&&this.message.next()},isMessage:function(){return this.message.isActive},
onMessageComplete:function(){null!=this.touchControls&&this.touchControls.showThumbstick(!0);this.messageHide.emit(!0)},update:function(a){this.message.update(a)},__class__:Vc};var hd=function(a){this._max=this._health=3;this.entity=new i;this.sprite=new q;this.entity.add(this.sprite);a=new Y(a.assets,"bikini_bottom_18");this._textHealth=new P(a,r.string(this._health));this._textHealth.setXY(277,16);this._textHealth.set_align(D.Center);this.entity.addChild((new i).add(this._textHealth));this._textMaxHealth=
new P(a,r.string(this._max));this._textMaxHealth.setXY(307,16);this._textMaxHealth.set_align(D.Center);this.entity.addChild((new i).add(this._textMaxHealth))};f["spongebob.hud.HealthCounter"]=hd;hd.__name__=["spongebob","hud","HealthCounter"];hd.prototype={setHealth:function(a){this._health=a;this._textHealth.set_text(r.string(this._health))},setMax:function(a){this._max=a;this._textMaxHealth.set_text(r.string(this._max))},getHealth:function(){return this._health},add:function(a){this._health+=a;
this._health>this._max&&(this._health=this._max);this._textHealth.set_text(r.string(this._health))},remove:function(a){this._health-=a;0>this._health&&(this._health=0);this._textHealth.set_text(r.string(this._health))},__class__:hd};var id=function(a){this._ctx=a;this.entity=new i;this.sprite=new q;this.entity.add(this.sprite);this.actionButtonPos=new A(850,400);this.actionButtonRadius=75;this.thumbstickPos=new A(140,370);this.thumbstickRadius=100;this._thumbstickArea=new u(a.assets.getTexture("hud/touch_controls/joystick_base"));
this._thumbstickArea.setXY(40,270);this.entity.addChild((new i).add(this._thumbstickArea));this._actionButton=new u(a.assets.getTexture("hud/touch_controls/action_spatula"));this._actionButton.setXY(775,315);this.entity.addChild((new i).add(this._actionButton));this._actionButtonHit=new u(a.assets.getTexture("hud/touch_controls/action_spatula_hlt"));this._actionButtonHit.setXY(775,315);this._actionButtonHit.set_visible(!1);this.entity.addChild((new i).add(this._actionButtonHit));this._currentButtonContext=
"attack";this._currentWeapon="spatula";this._arrows=[];this._arrowsHit=[];this._directions=["up","down","left","right"];for(var b=[new A(70,4),new A(70,121),new A(6,70),new A(122,70)],c=0;4>c;){var d=c++,e=new u(a.assets.getTexture("hud/touch_controls/arrow_"+this._directions[d]));e.setXY(this._thumbstickArea.x._value+b[d].x,this._thumbstickArea.y._value+b[d].y);this.entity.addChild((new i).add(e));this._arrows.push(e);e=new u(a.assets.getTexture("hud/touch_controls/arrow_"+this._directions[d]+"_hlt"));
e.setXY(this._thumbstickArea.x._value+b[d].x,this._thumbstickArea.y._value+b[d].y);e.set_visible(!1);this.entity.addChild((new i).add(e));this._arrowsHit.push(e)}};f["spongebob.hud.TouchControls"]=id;id.__name__=["spongebob","hud","TouchControls"];id.prototype={arrowOn:function(a){if(0!=(this._thumbstickArea._flags&2))for(var b=0;4>b;){var c=b++;if(a==this._directions[c]){this._arrows[c].set_visible(!1);this._arrowsHit[c].set_visible(!0);break}}},allArrowsOff:function(){if(0!=(this._thumbstickArea._flags&
2)){for(var a=0,b=this._arrows;a<b.length;){var c=b[a];++a;c.set_visible(!0)}a=0;for(b=this._arrowsHit;a<b.length;)c=b[a],++a,c.set_visible(!1)}},actionOn:function(){this._actionButton.set_visible(!1);this._actionButtonHit.set_visible(!0)},actionOff:function(){this._actionButton.set_visible(!0);this._actionButtonHit.set_visible(!1)},setActionButton:function(a,b){"golden_spatula"==b&&(b="spatula");if(a!=this._currentButtonContext||b!=this._currentWeapon)this._currentButtonContext=a,this._currentWeapon=
b,"weapon"==a?(this._actionButton.texture=this._ctx.assets.getTexture("hud/touch_controls/action_"+b),this._actionButtonHit.texture=this._ctx.assets.getTexture("hud/touch_controls/action_"+b)):(this._actionButton.texture=this._ctx.assets.getTexture("hud/touch_controls/action_"+a),this._actionButtonHit.texture=this._ctx.assets.getTexture("hud/touch_controls/action_"+a))},showThumbstick:function(a){null==a&&(a=!0);this._thumbstickArea.set_visible(a);for(var b=0,c=this._arrows;b<c.length;){var d=c[b];
++b;d.set_visible(a)}a=0;for(b=this._arrowsHit;a<b.length;)c=b[a],++a,c.set_visible(!1)},__class__:id};var $c=function(a,b,c){this._currentScreen="";this.isReady=this.isPanelShowing=!1;this._ctx=a;this._equipped=b;this._gameState=c;this.entity=new i;this.sprite=new q;this.entity.add(this.sprite);this._initialView=new ka;this._initialView.sprite.setAnchor(480,280);this._initialView.sprite.setXY(480,280);this.entity.addChild(this._initialView.entity);b=new u(a.assets.getTexture("menu/brain/brain_initial_view"));
this._initialView.entity.addChild((new i).add(b));b=new q;c=new S(new W(a.assets,"menu/brain/anim"));this._initialView.entity.addChild((new i).add(b).add(c));0.5<Math.random()?c.loop("snail_right"):c.loop("snail_left");this._bg=new u(a.assets.getTexture("menu/brain/bg_brain_zoom"));this._bg.alpha.set__(0);this.entity.addChild((new i).add(this._bg));this._tendrils=new u(a.assets.getTexture("menu/brain/tendrils"));this._tendrils.setXY(0,-590);this.entity.addChild((new i).add(this._tendrils));this._menu=
new ka;this._menu.sprite.y.set__(-560);this.entity.addChild(this._menu.entity);this._screen=new mb(a,this._equipped,this._gameState.equipment,this._gameState.questItems);null!=this._screen.equip&&this._screen.equip.connect(g(this,this.onEquip));this._menu.entity.addChild(this._screen.entity);this.inventoryButton=new G(a.assets,"menu/brain/inventory_button");this.inventoryButton.setXY(120,-100);this.inventoryButton.down.connect(g(this,this.gotoInventory));this.inventoryButton.disable();this.entity.addChild(this.inventoryButton.entity);
this.notesButton=new G(a.assets,"menu/brain/notes_button");this.notesButton.setXY(300,-100);this.notesButton.down.connect(g(this,this.gotoNotes));this.notesButton.disable();this.entity.addChild(this.notesButton.entity);this.profilesButton=new G(a.assets,"menu/brain/profiles_button");this.profilesButton.setXY(480,-100);this.profilesButton.down.connect(g(this,this.gotoProfiles));this.profilesButton.disable();this.entity.addChild(this.profilesButton.entity);this._newTag=new u(a.assets.getTexture("menu/icon_new"));
this._newTag.setXY(480,-100);this._newTag.set_pointerEnabled(!1);this.entity.addChild((new i).add(this._newTag));0<this._gameState.newProfiles.length?this._newTag.set_visible(!0):this._newTag.set_visible(!1);this.collectionButton=new G(a.assets,"menu/brain/collection_button");this.collectionButton.setXY(660,-100);this.collectionButton.down.connect(g(this,this.gotoCollection));this.collectionButton.disable();this.entity.addChild(this.collectionButton.entity);this.backButton=new G(a.assets,"menu/brain/back_button");
this.backButton.setXY(840,-100);this.backButton.down.connect(g(this,this.hide));this.backButton.disable();this.entity.addChild(this.backButton.entity);this.hidden=new Q;this.hiding=new Q;this.equip=new z;a=[];a.push(new o(this._initialView.sprite.scaleX,1.5,0.4));a.push(new o(this._initialView.sprite.scaleY,1.5,0.4));a.push(new o(this._bg.alpha,1,0.4));a.push(new o(this._menu.sprite.y,100,0.4,p.quadOut));a.push(new o(this._tendrils.y,0,0.4,p.quadOut));a.push(new o(this._tendrils.scaleY,1.4,0.4,p.quadOut));
a=[];a.push(new o(this._menu.sprite.y,0,0.4,p.quadInOut));a.push(new o(this._tendrils.scaleY,1,0.4,p.quadInOut));a=[];a.push(new o(this.inventoryButton.sprite.y,62,0.5,p.quadOut));a.push(new o(this.notesButton.sprite.y,62,0.5,p.quadOut));a.push(new o(this.profilesButton.sprite.y,62,0.5,p.quadOut));a.push(new o(this.collectionButton.sprite.y,62,0.5,p.quadOut));a.push(new o(this.backButton.sprite.y,62,0.5,p.quadOut));a.push(new o(this._newTag.y,62,0.5,p.quadOut));b=new N;b.run(new O([new R(a),new M(g(this,
this.onShow))]));this.entity.add(b)};f["spongebob.menu.BrainMenu"]=$c;$c.__name__=["spongebob","menu","BrainMenu"];$c.prototype={removeInitial:function(){this._initialView.entity.dispose();this._initialView=null},gotoInventory:function(){"inventory"!=this._currentScreen&&("profiles"==this._currentScreen&&this._gameState.newProfiles.splice(0,this._gameState.newProfiles.length),this._currentScreen="inventory",this.removeScreen())},gotoNotes:function(){"notes"!=this._currentScreen&&("profiles"==this._currentScreen&&
this._gameState.newProfiles.splice(0,this._gameState.newProfiles.length),this._currentScreen="notes",this.removeScreen())},gotoProfiles:function(){"profiles"!=this._currentScreen&&(this._currentScreen="profiles",this.removeScreen())},gotoCollection:function(){"collection"!=this._currentScreen&&("profiles"==this._currentScreen&&this._gameState.newProfiles.splice(0,this._gameState.newProfiles.length),this._currentScreen="collection",this.removeScreen())},removeScreen:function(){this.inventoryButton.disable();
this.notesButton.disable();this.profilesButton.disable();this.collectionButton.disable();this.backButton.disable();if(this.isPanelShowing){var a=[];a.push(new o(this._tendrils.y,-200,0.4,p.quadInOut));a.push(new o(this._tendrils.scaleY,2,0.4,p.quadInOut));var b=[];b.push(new o(this._menu.sprite.y,-560,0.2,p.quadOut));b.push(new o(this._tendrils.y,-590,0.2,p.quadOut));b.push(new o(this._tendrils.scaleY,1,0.2,p.quadOut));var c=new N;c.run(new O([new R(a),new R(b),new M(g(this,this.addScreen))]));this.entity.add(c)}else a=
[],a.push(new o(this._initialView.sprite.scaleX,1.5,0.4)),a.push(new o(this._initialView.sprite.scaleY,1.5,0.4)),a.push(new o(this._bg.alpha,1,0.4)),b=new N,b.run(new O([new R(a),new M(g(this,this.removeInitial)),new M(g(this,this.addScreen))])),this.entity.add(b)},addScreen:function(){this.isPanelShowing=!0;null!=this._screen&&(this._menu.entity.removeChild(this._screen.entity),this._screen.cleanUp(),this._screen=null);switch(this._currentScreen){case "inventory":this._screen=new mb(this._ctx,this._equipped,
this._gameState.equipment,this._gameState.questItems);this._screen.equip.connect(g(this,this.onEquip));break;case "notes":this._screen=new jc(this._ctx,this._gameState);break;case "profiles":this._newTag.set_visible(!1);this._screen=new kc(this._ctx,this._gameState.profiles,this._gameState.newProfiles);break;case "collection":this._screen=new lc(this._ctx,this._gameState.collection,this._gameState.newCollection)}this._menu.entity.addChild(this._screen.entity);var a=[];a.push(new o(this._menu.sprite.y,
100,0.4,p.quadOut));a.push(new o(this._tendrils.y,0,0.4,p.quadOut));a.push(new o(this._tendrils.scaleY,1.4,0.4,p.quadOut));var b=[];b.push(new o(this._menu.sprite.y,0,0.4,p.quadInOut));b.push(new o(this._tendrils.scaleY,1,0.4,p.quadInOut));var c=new N;c.run(new O([new R(a),new R(b),new M(g(this,this.onShow))]));this.entity.add(c)},hide:function(){this.isReady=!1;this.hiding.emit();"profiles"==this._currentScreen&&this._gameState.newProfiles.splice(0,this._gameState.newProfiles.length);this.inventoryButton.disable();
this.notesButton.disable();this.profilesButton.disable();this.collectionButton.disable();this.backButton.disable();var a=[];a.push(new o(this._bg.alpha,0,0.3));a.push(new o(this._menu.sprite.y,-560,0.3,p.quadInOut));a.push(new o(this._tendrils.y,-560,0.3,p.quadInOut));a.push(new o(this.inventoryButton.sprite.y,-100,0.3,p.quadOut));a.push(new o(this.notesButton.sprite.y,-100,0.3,p.quadOut));a.push(new o(this.profilesButton.sprite.y,-100,0.3,p.quadOut));a.push(new o(this.collectionButton.sprite.y,-100,
0.3,p.quadOut));a.push(new o(this.backButton.sprite.y,-100,0.3,p.quadOut));a.push(new o(this._newTag.y,-100,0.3,p.quadOut));var b=new N;b.run(new O([new R(a),new M(g(this,this.onHide))]));this.entity.add(b)},onShow:function(){this.isReady=!0;"inventory"!=this._currentScreen&&this.inventoryButton.enable();"notes"!=this._currentScreen&&this.notesButton.enable();"profiles"!=this._currentScreen&&this.profilesButton.enable();"collection"!=this._currentScreen&&this.collectionButton.enable();this.backButton.enable()},
onHide:function(){this.isReady=!0;this.hidden.emit();this.entity.dispose()},onEquip:function(a){this._equipped=a;this.equip.emit(a)},__class__:$c};var ad=function(a){this._keysTop=220;this._keysLeft=104;this.isReady=!1;this._ctx=a;this.entity=new i;this.sprite=new q;this.entity.add(this.sprite);this._menu=new ka;this._menu.sprite.y.set__(0);this.entity.addChild(this._menu.entity);this._panel=new u(a.assets.getTexture("menu/code/code_menu"));this._panel.setXY(0,0);this._menu.entity.addChild((new i).add(this._panel));
this.backButton=new G(a.assets,"menu/brain/back_button");this.backButton.setXY(840,88);this.backButton.down.connect(g(this,this.hide));this.backButton.disable();this.entity.addChild(this.backButton.entity);var b="a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,delete,enter".split(","),c=b.length,d=0,e=0;this._buttons=[];for(var f=0;f<c;){var j=f++,j=new G(a.assets,"menu/code/button_code_"+b[j],"",b[j]);j.setXY(this._keysLeft+126*d,this._keysTop+89*e);j.down.connect(g(this,this.onLetter));this.entity.addChild(j.entity);
d++;6<d&&(e++,d=0);this._buttons.push(j)}a=new Y(a.assets,"tiki_island_56");this._codeText=new P(a,"");this._codeText.x.set__(374);this._codeText.y.set__(86);this._codeText.wrapWidth.set__(250);this._codeText.set_align(D.Center);this.entity.addChild((new i).add(this._codeText));this.hidden=new Q;this.submit=new z;this._currentCode=[];this.onShow()};f["spongebob.menu.CodeMenu"]=ad;ad.__name__=["spongebob","menu","CodeMenu"];ad.prototype={onLetter:function(a){"delete"==a?0<this._currentCode.length&&
this._currentCode.pop():"enter"==a?this.submitCode():8>this._currentCode.length&&this._currentCode.push(a.toUpperCase());this._codeText.set_text(this._currentCode.join(""))},submitCode:function(){this.submit.emit(this._currentCode.join(""))},clearCode:function(){this._currentCode.splice(0,this._currentCode.length);this._codeText.set_text(this._currentCode.join(""))},unlock:function(a){for(var b=0,c=this._buttons;b<c.length;){var d=c[b];++b;d.disable()}this.backButton.disable();this.clearCode();this._reward=
new ka;this._reward.sprite.setXY(197,560);this.entity.addChild(this._reward.entity);b=new u(this._ctx.assets.getTexture("menu/code/unlocked_item_popup"));this._reward.entity.addChild((new i).add(b));b=new Y(this._ctx.assets,"tiki_island_56");b=new P(b,"");b.x.set__(135);b.y.set__(142);b.wrapWidth.set__(300);b.set_align(D.Center);this._reward.entity.addChild((new i).add(b));switch(a){case "golden_spatula":a=new u(this._ctx.assets.getTexture("menu/brain/equip_golden_spatula"));a.setScaleXY(1.2,1.2);
a.setXY(209,252);this._reward.entity.addChild((new i).add(a));b.set_text("GOLDEN SPATULA");break;case "foam_hand":a=new u(this._ctx.assets.getTexture("menu/brain/equip_foam_hand")),a.setScaleXY(1.2,1.2),a.setXY(209,252),this._reward.entity.addChild((new i).add(a)),b.set_text("FOAM HAND")}a=new N;a.run(new O([new o(this._reward.sprite.y,0,0.5,p.backOut),new Va(2),new o(this._reward.sprite.y,560,0.5,p.backIn),new M(g(this,this.hideUnlock))]));this.entity.add(a)},hideUnlock:function(){for(var a=0,b=
this._buttons;a<b.length;){var c=b[a];++a;c.enable()}this.backButton.enable();this._reward.sprite.dispose();this._reward.entity.dispose();this._reward=null},hide:function(){this.isReady=!1;this.backButton.disable();this.onHide()},onShow:function(){this.isReady=!0;this.backButton.enable()},onHide:function(){this.isReady=!0;this.hidden.emit();this.sprite.dispose();this.entity.dispose()},__class__:ad};var ba=function(a){this._ctx=a;this.entity=new i;this.sprite=new q;this.entity.add(this.sprite)};f["spongebob.menu.MenuScreen"]=
ba;ba.__name__=["spongebob","menu","MenuScreen"];ba.prototype={cleanUp:function(){this.sprite.dispose();this.entity.dispose()},__class__:ba};var lc=function(a,b,c){ba.call(this,a);this._panel=new u(a.assets.getTexture("menu/brain/collection_panel"));this._panel.setXY(10,80);this.entity.addChild((new i).add(this._panel));var d=[];d.push(new A(677,197));d.push(new A(560,207));d.push(new A(794,208));d.push(new A(329,234));d.push(new A(453,226));d.push(new A(190,247));d.push(new A(676,384));d.push(new A(789,
419));d.push(new A(373,394));d.push(new A(235,392));d.push(new A(564,367));d.push(new A(475,376));var e=[];e.push(0.65);e.push(0.6);e.push(0.7);e.push(0.6);e.push(0.6);e.push(0.5);e.push(0.55);e.push(0.75);e.push(0.45);e.push(0.55);e.push(0.75);e.push(0.6);for(var f=[],j=(new ja(l.parse(this._ctx.assets.getFile("collection.xml").toString()).firstElement())).nodes.resolve("item").iterator();j.hasNext();){var m=j.next();f.push(m.node.resolve("asset").get_innerData())}this._items=[];this._unlocked=[];
j=0;for(m=f.length;j<m;){for(var k=j++,o=!1,q=!1,p=0;p<b.length;){var n=b[p];++p;if(n==f[k]){o=!0;break}}for(p=0;p<c.length;)if(n=c[p],++p,n==f[k]){q=!0;break}o?(o=new G(a.assets,"menu/brain/collection/"+f[k],"",f[k]),o.down.connect(g(this,this.showProfile)),q&&null,this._unlocked.push(o)):(o=new G(a.assets,"menu/brain/collection/"+f[k]+"_locked","",f[k]),o.disable());o.setXY(d[k].x,d[k].y);o.setScale(e[k]);this.entity.addChild(o.entity);this._items.push(o);6==this._items.length?(this._shelf1=new u(a.assets.getTexture("menu/brain/shelf")),
this._shelf1.setXY(105,268),this.entity.addChild((new i).add(this._shelf1))):12==this._items.length&&(this._shelf2=new u(a.assets.getTexture("menu/brain/shelf")),this._shelf2.setXY(105,450),this.entity.addChild((new i).add(this._shelf2)))}this._popup=new nb(a);this._popup.sprite.y.set__(-555);this._popup.sprite.set_visible(!1);this.entity.addChild(this._popup.entity)};f["spongebob.menu.CollectionScreen"]=lc;lc.__name__=["spongebob","menu","CollectionScreen"];lc.__super__=ba;lc.prototype=x(ba.prototype,
{showProfile:function(a){for(var b=0,c=this._unlocked;b<c.length;){var d=c[b];++b;d.disable()}this._popup.setImage("menu/brain/collection/"+a,!0);this._popup.close.connect(g(this,this.hideProfile)).once();for(b=(new ja(l.parse(this._ctx.assets.getFile("collection.xml").toString()).firstElement())).nodes.resolve("item").iterator();b.hasNext();)if(c=b.next(),c.node.resolve("asset").get_innerData()==a&&c.hasNode.resolve("description")){this._popup.setTitleSmall(c.node.resolve("name").get_innerData());
this._popup.setText(c.node.resolve("description").get_innerData());break}this._popup.sprite.set_visible(!0);a=new N;a.run(new O([new o(this._popup.sprite.y,-10,0.4,p.quadOut),new o(this._popup.sprite.y,-30,0.3,p.quadInOut),new M(g(this,this.onShowProfile))]));this.entity.add(a)},onShowProfile:function(){},hideProfile:function(){var a=new N;a.run(new O([new o(this._popup.sprite.y,-555,0.3,p.quadIn),new M(g(this,this.onHideProfile))]));this.entity.add(a)},onHideProfile:function(){for(var a=0,b=this._unlocked;a<
b.length;){var c=b[a];++a;c.enable()}},__class__:lc});var mb=function(a,b,c,d){ba.call(this,a);this._unlockedEquipment=c;this._items=d;this._panel=new u(this._ctx.assets.getTexture("menu/brain/inventory_panel"));this._panel.setXY(0,54);this.entity.addChild((new i).add(this._panel));this._selectedEquipment=new u(this._ctx.assets.getTexture("menu/brain/equip_spatula"));this._selectedEquipment.setXY(177,139);this.entity.addChild((new i).add(this._selectedEquipment));this._spatulaButton=new G(this._ctx.assets,
"menu/brain/spatula_button");this._spatulaButton.setXY(-500,-500);this._spatulaButton.down.connect(g(this,this.selectSpatula));this.entity.addChild(this._spatulaButton.entity);this._currentEquipment="spatula";this._inactiveButton=this._spatulaButton;this.hasEquipment("reef_blower")&&(this._reefBlowerButton=new G(this._ctx.assets,"menu/brain/reef_blower_button"),this._reefBlowerButton.setXY(146,302),this._reefBlowerButton.down.connect(g(this,this.selectReefBlower)),this.entity.addChild(this._reefBlowerButton.entity));
this.hasEquipment("pattypult")&&(this._pattyPultButton=new G(this._ctx.assets,"menu/brain/pattypult_button"),this._pattyPultButton.setXY(360,302),this._pattyPultButton.down.connect(g(this,this.selectPattyPult)),this.entity.addChild(this._pattyPultButton.entity));this.hasEquipment("golden_spatula")&&(this._goldenSpatulaButton=new G(this._ctx.assets,"menu/brain/golden_spatula_button"),this._goldenSpatulaButton.setXY(315,393),this._goldenSpatulaButton.down.connect(g(this,this.selectGoldenSpatula)),this.entity.addChild(this._goldenSpatulaButton.entity));
this.hasEquipment("foam_hand")&&(this._foamHandButton=new G(this._ctx.assets,"menu/brain/foam_hand_button"),this._foamHandButton.setXY(180,393),this._foamHandButton.down.connect(g(this,this.selectFoamHand)),this.entity.addChild(this._foamHandButton.entity));this.equip=new z;this.setCurrentEquipment(b);for(b=a=0;b<d.length;)c=d[b],++b,c=new u(this._ctx.assets.getTexture("menu/brain/items/"+c)),c.setAnchor(c.getNaturalWidth()/2,c.getNaturalHeight()/2),c.setScale(0.8),c.setXY(560+125*a,304),this.entity.addChild((new i).add(c)),
a++};f["spongebob.menu.InventoryScreen"]=mb;mb.__name__=["spongebob","menu","InventoryScreen"];mb.__super__=ba;mb.prototype=x(ba.prototype,{hasEquipment:function(a){for(var b=0,c=this._unlockedEquipment;b<c.length;){var d=c[b];++b;if(d==a)return!0}return!1},setCurrentEquipment:function(a){this._currentEquipment=a;null!=this._selectedEquipment&&this._selectedEquipment.owner.dispose();switch(a){case "spatula":this._selectedEquipment=new u(this._ctx.assets.getTexture("menu/brain/equip_spatula"));this._inactiveButton.setXY(this._spatulaButton.sprite.x._value,
this._spatulaButton.sprite.y._value);this._inactiveButton=this._spatulaButton;break;case "reef_blower":this._selectedEquipment=new u(this._ctx.assets.getTexture("menu/brain/equip_reef_blower"));this._inactiveButton.setXY(this._reefBlowerButton.sprite.x._value,this._reefBlowerButton.sprite.y._value);this._inactiveButton=this._reefBlowerButton;break;case "pattypult":this._selectedEquipment=new u(this._ctx.assets.getTexture("menu/brain/equip_pattypult"));this._inactiveButton.setXY(this._pattyPultButton.sprite.x._value,
this._pattyPultButton.sprite.y._value);this._inactiveButton=this._pattyPultButton;break;case "golden_spatula":this._selectedEquipment=new u(this._ctx.assets.getTexture("menu/brain/equip_golden_spatula"));this._inactiveButton.setXY(this._goldenSpatulaButton.sprite.x._value,this._goldenSpatulaButton.sprite.y._value);this._inactiveButton=this._goldenSpatulaButton;break;case "foam_hand":this._selectedEquipment=new u(this._ctx.assets.getTexture("menu/brain/equip_foam_hand")),this._inactiveButton.setXY(this._foamHandButton.sprite.x._value,
this._foamHandButton.sprite.y._value),this._inactiveButton=this._foamHandButton}this.equip.emit(a);this._inactiveButton.setXY(-500,-500);this._selectedEquipment.setXY(177,139);this.entity.addChild((new i).add(this._selectedEquipment))},selectSpatula:function(){this.setCurrentEquipment("spatula")},selectReefBlower:function(){this.setCurrentEquipment("reef_blower")},selectPattyPult:function(){this.setCurrentEquipment("pattypult")},selectGoldenSpatula:function(){this.setCurrentEquipment("golden_spatula")},
selectFoamHand:function(){this.setCurrentEquipment("foam_hand")},__class__:mb});var ed=function(a){this._ctx=a;this.entity=new i;this.sprite=new q;this.entity.add(this.sprite);this._bg=new u(a.bootstrap.getTexture("title_bg"));this.entity.addChild((new i).add(this._bg));this._panel=new u(a.menu.getTexture("load_menu/background"));this.entity.addChild((new i).add(this._panel));this.selected=new Aa;this._slots=[];for(var b=0;3>b;){var c=b++,d=this.getSaveSlot(c);null==d&&(d=new G(a.menu,"load_menu/new_game_button",
"",null==c?"null":""+c));d.setXY(460,130+160*c);d.down.connect(g(this,this.slotSelected));this.entity.addChild(d.entity)}};f["spongebob.menu.LoadMenu"]=ed;ed.__name__=["spongebob","menu","LoadMenu"];ed.prototype={slotSelected:function(a){var a=r.parseInt(a),b=!1;null==this.getSaveSlot(a)&&(b=!0);this.selected.emit(a,b)},getSaveSlot:function(a){null==a&&(a=0);var b=r.string("save_game_"+a),b=s._platform.getStorage().get(b,new ib(this._ctx));return!b.isGameStarted?null:new jd(this._ctx,null==a?"null":
""+a,b.maxHealth,b.maxHealth,b.collection.length,12,b.profiles.length,28)},__class__:ed};var Zc=function(a,b,c,d,e){this.isReady=!1;this._left=b.x;this._top=b.y;this._scale=d;this.entity=new i;this.sprite=new q;this.entity.add(this.sprite);this._fade=new Ea(0,960,560);this._fade.alpha.set__(0);this.entity.addChild((new i).add(this._fade));this._map=new ka;this._map.sprite.y.set__(560);this.entity.addChild(this._map.entity);this._panel=new u(a.map.getTexture("map"));this._map.entity.addChild((new i).add(this._panel));
var f=new u(a.assets.getTexture("menu/map/player_indicator"));f.setXY(c.x+b.x*d,c.y+b.y*d);460<f.y._value&&f.y.set__(460);this._map.entity.addChild((new i).add(f));null!=e&&(b=new u(a.assets.getTexture("menu/map/objective_indicator")),b.setAnchor(10,b.getNaturalHeight()-10),b.setXY(e.x,e.y),this._map.entity.addChild((new i).add(b)));this.resumeButton=new G(a.assets,"menu/back_button");this.resumeButton.setXY(840,-80);this.resumeButton.sprite.set_visible(!1);this.resumeButton.down.connect(g(this,this.hide));
this.entity.addChild(this.resumeButton.entity);this._map.entity.addChild(this.resumeButton.entity);this.hidden=new Q;a=[];a.push(new o(this._fade.alpha,0.3,0.4));a.push(new o(this._map.sprite.y,0,0.4,p.backOut));e=new N;e.run(new O([new R(a),new M(g(this,this.showResumeButton)),new o(this.resumeButton.sprite.y,100,0.2,p.backOut),new M(g(this,this.onShow))]));this.entity.add(e)};f["spongebob.menu.Map"]=Zc;Zc.__name__=["spongebob","menu","Map"];Zc.prototype={hide:function(){this.isReady=!1;this.resumeButton.disable();
var a=[];a.push(new o(this._fade.alpha,0,0.3));a.push(new o(this._map.sprite.y,560,0.3,p.backIn));var b=new N;b.run(new O([new o(this.resumeButton.sprite.y,-80,0.2,p.backIn),new M(g(this,this.hideResumeButton)),new R(a),new M(g(this,this.onHide))]));this.entity.add(b)},onShow:function(){this.isReady=!0;this.resumeButton.enable()},onHide:function(){this.isReady=!0;this.hidden.emit()},hideResumeButton:function(){this.resumeButton.sprite.set_visible(!1)},showResumeButton:function(){this.resumeButton.sprite.set_visible(!0)},
__class__:Zc};var jc=function(a,b){ba.call(this,a);this._gameState=b;this._panel=new u(a.assets.getTexture("menu/brain/notes_panel"));this._panel.setXY(10,120);this.entity.addChild((new i).add(this._panel));this._font=new Y(a.assets,"bikini_bottom_48");this._text=new P(this._font,"");this._text.x.set__(440);this._text.y.set__(320);this._text.letterSpacing.set__(-1);this._text.wrapWidth.set__(410);this._text.set_align(D.Center);this.entity.addChild((new i).add(this._text));this._notesData=new ja(l.parse(a.assets.getFile("notes.xml").toString()).firstElement());
var c=[];c.push(new A(160,240));c.push(new A(280,336));c.push(new A(180,450));this._notes=[];for(var d=0,e=0;3>e;){var f=this.getNote(e++ +1);if(0<f){var j=new G(this._ctx.assets,"menu/brain/characters/profile_"+this.getNoteAsset(f),"",null==f?"null":""+f);j.setXY(c[d].x,c[d].y);j.down.connect(g(this,this.showNote));j.setScale(0.6);this.entity.addChild(j.entity);d++}this._notes.push(f)}this.showNote("0")};f["spongebob.menu.NotesScreen"]=jc;jc.__name__=["spongebob","menu","NotesScreen"];jc.__super__=
ba;jc.prototype=x(ba.prototype,{showNote:function(a){this._text.set_text(this.getNoteText(r.parseInt(a)))},getNoteText:function(a){for(var b=this._notesData.nodes.resolve("note").iterator();b.hasNext();){var c=b.next();if(r.parseInt(c.att.resolve("id"))==a)return c.node.resolve("text").get_innerData()}return""},getNoteAsset:function(a){for(var b=this._notesData.nodes.resolve("note").iterator();b.hasNext();){var c=b.next();if(r.parseInt(c.att.resolve("id"))==a)return c.node.resolve("asset").get_innerData()}return""},
getNote:function(a){for(var b=this._notesData.nodes.resolve("note").iterator();b.hasNext();){var c=b.next(),d=!1,e=!1,f=!1,g=!1;if(r.parseInt(c.att.resolve("slot"))==a){if(c.node.resolve("text").has.resolve("character"))for(var i=0,j=this._gameState.profiles;i<j.length;){var l=j[i];++i;if(l==c.node.resolve("text").att.resolve("character")){d=!0;break}}else d=!0;if(c.node.resolve("text").has.resolve("item")){if(this._gameState.hasItem(c.node.resolve("text").att.resolve("item"))||this._gameState.usedItem(c.node.resolve("text").att.resolve("item")))e=
!0}else e=!0;c.node.resolve("text").has.resolve("not_item")?(!this._gameState.hasItem(c.node.resolve("text").att.resolve("not_item"))&&!this._gameState.usedItem(c.node.resolve("text").att.resolve("not_item"))&&(f=!0),null):f=!0;c.node.resolve("text").has.resolve("not_used")?this._gameState.usedItem(c.node.resolve("text").att.resolve("not_used"))||(g=!0):g=!0;if(d&&f&&g&&e)return r.parseInt(c.att.resolve("id"))}}return 0},__class__:jc});var Yc=function(a){this.isReady=!1;this.entity=new i;this.sprite=
new q;this.entity.add(this.sprite);this._fade=new Ea(0,960,560);this._fade.alpha.set__(0);this.entity.addChild((new i).add(this._fade));this._menu=new ka;this._menu.sprite.y.set__(-560);this.entity.addChild(this._menu.entity);this._panel=new u(a.assets.getTexture("menu/pause/pause_menu"));this._panel.setXY(153,-86);this._menu.entity.addChild((new i).add(this._panel));this.resumeButton=new G(a.assets,"menu/pause/continue_button");this.resumeButton.setXY(478,176);this.resumeButton.down.connect(g(this,
this.hide));this.resumeButton.disable();this._menu.entity.addChild(this.resumeButton.entity);this.exitButton=new G(a.assets,"menu/pause/exit_button");this.exitButton.setXY(369,357);this.exitButton.down.connect(g(this,this.exitGame));this.exitButton.disable();this._menu.entity.addChild(this.exitButton.entity);this.codeEntryButton=new G(a.assets,"menu/pause/code_button");this.codeEntryButton.setXY(602,329);this.codeEntryButton.down.connect(g(this,this.enterCode));this.codeEntryButton.disable();this._menu.entity.addChild(this.codeEntryButton.entity);
this.hidden=new Q;this.code=new Q;this.exit=new Q;a=[];a.push(new o(this._fade.alpha,0.3,0.4));a.push(new o(this._menu.sprite.y,0,0.4,p.backOut));var b=[];b.push(new o(this.resumeButton.sprite.scaleX,1.1,0.1,p.quadOut));b.push(new o(this.resumeButton.sprite.scaleY,1.1,0.1,p.quadOut));b.push(new o(this.exitButton.sprite.scaleX,1.1,0.1,p.quadOut));b.push(new o(this.exitButton.sprite.scaleY,1.1,0.1,p.quadOut));b.push(new o(this.codeEntryButton.sprite.scaleX,1.1,0.1,p.quadOut));b.push(new o(this.codeEntryButton.sprite.scaleY,
1.1,0.1,p.quadOut));var c=[];c.push(new o(this.resumeButton.sprite.scaleX,1,0.2,p.quadIn));c.push(new o(this.resumeButton.sprite.scaleY,1,0.2,p.quadIn));c.push(new o(this.exitButton.sprite.scaleX,1,0.2,p.quadIn));c.push(new o(this.exitButton.sprite.scaleY,1,0.2,p.quadIn));c.push(new o(this.codeEntryButton.sprite.scaleX,1,0.2,p.quadIn));c.push(new o(this.codeEntryButton.sprite.scaleY,1,0.2,p.quadIn));var d=new N;d.run(new O([new R(a),new R(b),new R(c),new M(g(this,this.onShow))]));this.entity.add(d)};
f["spongebob.menu.PauseMenu"]=Yc;Yc.__name__=["spongebob","menu","PauseMenu"];Yc.prototype={exitGame:function(){this.exit.emit()},enterCode:function(){this.sprite.set_visible(!1);this.code.emit()},hide:function(){this.isReady=!1;this.resumeButton.disable();this.exitButton.disable();this.codeEntryButton.disable();var a=[];a.push(new o(this._fade.alpha,0,0.3));a.push(new o(this._menu.sprite.y,-560,0.3,p.backIn));var b=new N;b.run(new O([new R(a),new M(g(this,this.onHide))]));this.entity.add(b)},onShow:function(){this.isReady=
!0;this.resumeButton.enable();this.exitButton.enable();this.codeEntryButton.enable()},onHide:function(){this.isReady=!0;this.hidden.emit()},__class__:Yc};var nb=function(a){ba.call(this,a);this._panel=new u(a.assets.getTexture("menu/brain/popup_panel"));this._panel.setXY(38,0);this.entity.addChild((new i).add(this._panel));var b=new Y(a.assets,"bikini_bottom_24");this._text=new P(b,"");this._text.x.set__(486);this._text.y.set__(320);this._text.wrapWidth.set__(290);this._text.set_align(D.Center);this.entity.addChild((new i).add(this._text));
b=new Y(a.assets,"bikini_bottom_14");this._textSmall=new P(b,"");this._textSmall.x.set__(472);this._textSmall.y.set__(312);this._textSmall.wrapWidth.set__(316);this._textSmall.letterSpacing.set__(-1);this._textSmall.set_align(D.Center);this.entity.addChild((new i).add(this._textSmall));b=new Y(a.assets,"tiki_island_56");this._title=new P(b,"");this._title.x.set__(468);this._title.y.set__(225);this._title.rotation.set__(-3);this._title.wrapWidth.set__(318);this._title.set_align(D.Center);this.entity.addChild((new i).add(this._title));
b=new Y(a.assets,"tiki_island_36");this._titleSmall=new P(b,"");this._titleSmall.x.set__(476);this._titleSmall.y.set__(226);this._titleSmall.rotation.set__(-3);this._titleSmall.wrapWidth.set__(316);this._titleSmall.set_align(D.Center);this.entity.addChild((new i).add(this._titleSmall));this._backButton=new G(a.assets,"menu/back_button");this._backButton.setXY(822,254);this._backButton.down.connect(g(this,this.onBackClicked));this.entity.addChild(this._backButton.entity);this.close=new Q};f["spongebob.menu.PopUpPanel"]=
nb;nb.__name__=["spongebob","menu","PopUpPanel"];nb.__super__=ba;nb.prototype=x(ba.prototype,{onBackClicked:function(){this.close.emit()},setImage:function(a,b){null==b&&(b=!1);null!=this._image&&this._image.dispose();this._image=new u(this._ctx.assets.getTexture(a));b?(this._image.setAnchor(this._image.getNaturalWidth()/2,this._image.getNaturalHeight()/2),this._image.setXY(310,360)):this._image.setXY(180,244);this.entity.addChild((new i).add(this._image))},setText:function(a,b){null==b&&(b="center");
"left"==b?this._text.set_align(D.Left):this._text.set_align(D.Center);this._text.set_text(a)},setTitle:function(a){20<a.length&&this._title.letterSpacing.set__(-1);this._title.set_text(a.toUpperCase())},setTextSmall:function(a,b){null==b&&(b="center");"left"==b?this._textSmall.set_align(D.Left):this._textSmall.set_align(D.Center);this._textSmall.set_text(a)},setTitleSmall:function(a){this._titleSmall.set_text(a.toUpperCase())},__class__:nb});var kc=function(a,b,c){this._currentPage=0;ba.call(this,
a);this._unlocked=b;this._new=c;this._panel=new u(a.assets.getTexture("menu/brain/profiles_panel"));this._panel.setXY(0,110);this.entity.addChild((new i).add(this._panel));this._nextButton=new G(a.assets,"menu/brain/next_button");this._nextButton.setXY(838,500);this._nextButton.down.connect(g(this,this.onNextClicked));this.entity.addChild(this._nextButton.entity);this._popup=new nb(a);this._popup.sprite.y.set__(-555);this._popup.sprite.set_visible(!1);this.entity.addChild(this._popup.entity);a=new Y(a.assets,
"tiki_island_56");this._pageNumber=new P(a,r.string(this._currentPage+1)+" OF 4");this._pageNumber.x.set__(120);this._pageNumber.y.set__(484);this.entity.addChild((new i).add(this._pageNumber));this._items=[];this._names=[];this._names.push("spongebob");this._names.push("patrick");this._names.push("mrkrabs");this._names.push("redbeard");this._names.push("squidward");this._names.push("plankton");this._names.push("gary");this._names.push("sandy");this._names.push("pearl");this._names.push("larry");
this._names.push("mrspuff");this._names.push("williamkrabs");this._names.push("deadeyeplankton");this._names.push("karen");this._names.push("drgill");this._names.push("sadie");this._names.push("flatts");this._names.push("abigail");this._names.push("harold");this._names.push("mailfish");this._names.push("shubie");this._names.push("annette");this._names.push("bruiser");this._names.push("officerjohn");this._names.push("sam");this._names.push("natpearson");this._names.push("nancysuzie");this._names.push("cavedweller");
this.clearPage();this.showPage(0)};f["spongebob.menu.ProfilesScreen"]=kc;kc.__name__=["spongebob","menu","ProfilesScreen"];kc.__super__=ba;kc.prototype=x(ba.prototype,{onNextClicked:function(){this._currentPage++;3<this._currentPage&&(this._currentPage=0);this.clearPage();this.showPage(this._currentPage);this._pageNumber.set_text(r.string(this._currentPage+1)+" OF 4")},clearPage:function(){for(var a=0,b=this._items;a<b.length;){var c=b[a];++a;this.entity.removeChild(c.entity);c.cleanUp()}this._items.splice(0,
this._items.length)},showPage:function(a){var b=[];b.push(new A(232,292));b.push(new A(412,292));b.push(new A(592,292));b.push(new A(772,292));b.push(new A(322,442));b.push(new A(502,442));b.push(new A(682,442));for(var c=7*a,a=c+7,d=0;c<a;){for(var e=c++,f=!1,j=!1,l=0,k=this._unlocked;l<k.length;){var m=k[l];++l;if(m==this._names[e]){f=!0;break}}l=0;for(k=this._new;l<k.length;)if(m=k[l],++l,m==this._names[e]){j=!0;break}f?(e=new G(this._ctx.assets,"menu/brain/characters/profile_"+this._names[e],
"",this._names[e]),e.down.connect(g(this,this.showProfile))):(e=new G(this._ctx.assets,"menu/brain/characters/profile_locked","",this._names[e]),e.disable());e.setXY(b[d].x,b[d].y);e.setScale(0.65);this.entity.addChild(e.entity);j&&(j=new u(this._ctx.assets.getTexture("menu/icon_new")),j.setXY(b[d].x,b[d].y),j.set_pointerEnabled(!1),this.entity.addChild((new i).add(j)));this._items.push(e);d++}this.entity.addChild(this._popup.entity)},showProfile:function(a){for(var b=0,c=this._items;b<c.length;){var d=
c[b];++b;d.disable()}this._nextButton.disable();this._popup.setImage("menu/brain/characters/profile_"+a);this._popup.close.connect(g(this,this.hideProfile)).once();for(b=(new ja(l.parse(this._ctx.assets.getFile("characters.xml").toString()).firstElement())).nodes.resolve("character").iterator();b.hasNext();)if(c=b.next(),c.node.resolve("asset").get_innerData()==a&&c.hasNode.resolve("profile")){this._popup.setTitle(c.node.resolve("name").get_innerData());this._popup.setTextSmall(c.node.resolve("profile").get_innerData(),
"left");break}this._popup.sprite.set_visible(!0);a=new N;a.run(new O([new o(this._popup.sprite.y,-10,0.4,p.quadOut),new o(this._popup.sprite.y,-30,0.3,p.quadInOut),new M(g(this,this.onShowProfile))]));this.entity.add(a)},onShowProfile:function(){},hideProfile:function(){var a=new N;a.run(new O([new o(this._popup.sprite.y,-555,0.3,p.quadIn),new M(g(this,this.onHideProfile))]));this.entity.add(a)},onHideProfile:function(){for(var a=0,b=this._items;a<b.length;){var c=b[a];++a;c.enable()}this._nextButton.enable()},
__class__:kc});var jd=function(a,b,c,d,e,f,j,l,k,m){null==m&&(m="spatula");this._scale=1;this.isOver=this.isDown=!1;this.pointerEnabled=!0;this._ctx=a;this.entity=new i;this.sprite=new q;this.entity.add(this.sprite);this._bg=new u(a.menu.getTexture("load_menu/load_slot"));this._bg.setXY(0,5);this.entity.addChild((new i).add(this._bg));this.sprite.setAnchor(this._bg.getNaturalWidth()/2,this._bg.getNaturalHeight()/2);this.sprite.get_pointerIn().connect(g(this,this.onButtonOver));this.sprite.get_pointerOut().connect(g(this,
this.onButtonOut));this.sprite.get_pointerDown().connect(g(this,this.onButtonDown));this.sprite.get_pointerUp().connect(g(this,this.onButtonUp));this.id=b;this.down=new z;a=new Y(a.menu,"bikini_bottom_18");this._textHealth=new P(a,null==c?"null":""+c);this._textHealth.setXY(272,16);this._textHealth.set_align(D.Center);this.entity.addChild((new i).add(this._textHealth));this._textMaxHealth=new P(a,null==d?"null":""+d);this._textMaxHealth.setXY(302,16);this._textMaxHealth.set_align(D.Center);this.entity.addChild((new i).add(this._textMaxHealth));
this._textBooty=new P(a,null==e?"null":""+e);this._textBooty.setXY(272,48);this._textBooty.set_align(D.Center);this.entity.addChild((new i).add(this._textBooty));this._textMaxBooty=new P(a,null==f?"null":""+f);this._textMaxBooty.setXY(302,48);this._textMaxBooty.set_align(D.Center);this.entity.addChild((new i).add(this._textMaxBooty));this._textCharacters=new P(a,null==j?"null":""+j);this._textCharacters.setXY(272,81);this._textCharacters.set_align(D.Center);this.entity.addChild((new i).add(this._textCharacters));
this._textMaxCharacters=new P(a,null==l?"null":""+l);this._textMaxCharacters.setXY(302,81);this._textMaxCharacters.set_align(D.Center);this.entity.addChild((new i).add(this._textMaxCharacters));this.setCurrentWeapon(m);this._spongeBob=new u(this._ctx.menu.getTexture("load_menu/sb_default"));this._spongeBob.setXY(7,7);this.entity.addChild((new i).add(this._spongeBob))};f["spongebob.menu.SaveSlot"]=jd;jd.__name__=["spongebob","menu","SaveSlot"];jd.prototype={setCurrentWeapon:function(a){null!=this._currentWeapon&&
(this._currentWeapon.owner.disposeChildren(),this._currentWeapon.owner.dispose());this._currentWeapon=new u(this._ctx.menu.getTexture("load_menu/equip_"+a));this._currentWeapon.setXY(95,-5);this.entity.addChild((new i).add(this._currentWeapon))},setXY:function(a,b){this.sprite.x.set__(a);this.sprite.y.set__(b)},onButtonDown:function(){this.pointerEnabled&&(this.isDown=!0)},onButtonUp:function(){this.isDown&&this.pointerEnabled&&(this._ctx.menu.getSound("audio/glossy_click_31").play(),this.down.emit(this.id))},
onButtonOver:function(){this.isOver=!0;if(this.pointerEnabled){var a=[];a.push(new o(this.sprite.scaleX,1.1*this._scale,0.2,p.quadOut));a.push(new o(this.sprite.scaleY,1.1*this._scale,0.2,p.quadOut));var b=new N;b.run(new O([new R(a)]));this.entity.add(b)}},onButtonOut:function(){this.isOver=!1;if(this.pointerEnabled){var a=[];a.push(new o(this.sprite.scaleX,this._scale,0.1,p.quadIn));a.push(new o(this.sprite.scaleY,this._scale,0.1,p.quadIn));var b=new N;b.run(new O([new R(a)]));this.entity.add(b)}},
__class__:jd};var dd=function(a){this._ctx=a;this.entity=new i;this.sprite=new q;this.entity.add(this.sprite);this._bg=new u(a.bootstrap.getTexture("title_bg"));this.entity.addChild((new i).add(this._bg));this._preloader=new ka;this.entity.addChild(this._preloader.entity);var b=new u(a.bootstrap.getTexture("preloader_panel"));b.setXY(228,52);this._preloader.entity.addChild((new i).add(b));var b=(new q).setXY(500,320).setScaleXY(0.8,0.8),c=new S(new W(a.bootstrap,"preloader"));c.loop("spongebob");
this._preloader.entity.addChild((new i).add(b).add(c));b=(new q).setXY(491,363);c=new S(new W(a.bootstrap,"preloader"));c.loop("loading_text");this._preloader.entity.addChild((new i).add(b).add(c));this._logo=new u(a.menu.getTexture("title_menu/title_legend_logo"));this._logo.setXY(45,-500);this.entity.addChild((new i).add(this._logo));this._spongebob=new u(a.menu.getTexture("title_menu/title_spongebob"));this._spongebob.setXY(642,560);this.entity.addChild((new i).add(this._spongebob));this._cta=
(new q).setXY(480,600);this._anim=new S(new W(a.menu,"title_menu/clicktoplay"));this._anim.loop("clicktoplay");this.entity.addChild((new i).add(this._cta).add(this._anim));960!=s._platform.getStage().get_width()&&560!=s._platform.getStage().get_height()&&s._platform.getTouch().get_supported()&&this._anim.loop("taptoplay");a=new N;a.run(new O([new o(this._preloader.sprite.x,1E3,0.4,p.backIn),new M(g(this,this.removePreloader)),new o(this._logo.y,10,0.4,p.backOut),new o(this._spongebob.y,275,0.4,p.backOut),
new o(this._cta.y,410,0.4,p.backOut),new M(g(this,this.screenReady))]));this.entity.add(a);this.clicked=new Q};f["spongebob.menu.TitleMenu"]=dd;dd.__name__=["spongebob","menu","TitleMenu"];dd.prototype={removePreloader:function(){this.entity.removeChild(this._preloader.entity);this._preloader.entity.dispose();this._preloader=null},screenReady:function(){s._platform.getPointer().up.connect(g(this,this.onClicked)).once()},onClicked:function(){var a=[];a.push(new o(this._logo.y,-500,0.3,p.backIn));a.push(new o(this._spongebob.y,
560,0.3,p.backIn));var b=new N;b.run(new O([new o(this._cta.y,600,0.2,p.backIn),new R(a),new M(g(this,this.closeScreen))]));this.entity.add(b)},closeScreen:function(){this.clicked.emit();this.entity.dispose()},__class__:dd};var qa,wd=0;Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;f.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=f.String=String;String.__name__=
["String"];f.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=f.Date=Date;Date.__name__=["Date"];var xd=f.Int={__name__:["Int"]},yd=f.Dynamic={__name__:["Dynamic"]},ud=f.Float=Number;ud.__name__=["Float"];var vd=f.Bool=Boolean;vd.__ename__=["Bool"];var zd=f.Class={__name__:["Class"]},Ad={};l.Element="element";l.PCData="pcdata";l.CData="cdata";l.Comment="comment";l.DocType="doctype";l.ProcessingInstruction="processingInstruction";l.Document="document";za.instance=new za;$.DISPATCHING_SENTINEL=
new Qa(null,null);s.root=new i;s.uncaughtError=new z;s.hidden=new ga(!1);s.volume=new U(1);s._platform=za.instance;s._calledInit=!1;V.__meta__={obj:{assets:[{intro:[{bytes:1830,md5:"9b71c173485848446280031686135fe7",name:"audio/glossy_click_31.mp3"},{bytes:12876,md5:"a3fa87c8cb1cafec7a12547fba242cdb",name:"audio/glossy_click_31.ogg"},{bytes:932691,md5:"325237baea736fd4393f505c90fe793c",name:"audio/mischievous_elves.mp3"},{bytes:1244823,md5:"22e9b752defe7c5c6fefab8b0dd4ba13",name:"audio/mischievous_elves.ogg"},
{bytes:12966,md5:"a6330989fc4e5e228a2db9bd6ca97dd6",name:"bikini_bottom_48.fnt"},{bytes:11562,md5:"90a6055e8f562f9bba667e7b0f323797",name:"bikini_bottom_48_0.png"},{bytes:82110,md5:"819b9aec3e9e9284389a190926e58fff",name:"characters/profile_mrkrabs.png"},{bytes:82852,md5:"bb8d0d7af7c953f5a9ecbd71795fa3bf",name:"characters/profile_plankton.png"},{bytes:83479,md5:"0d756e68d9c41b24d0a0831a9fa8460c",name:"characters/profile_redbeard.png"},{bytes:79713,md5:"d32cac1e40bb015ce3bbee2cf4b2fe02",name:"characters/profile_spongebob.png"},
{bytes:178175,md5:"c03c192b04d2a8731aeb59d17f704d8d",name:"dialogue_box.png"},{bytes:2566944,md5:"5a6b6b81758fddc3e0afb26811d99e8a",name:"intro/atlas0.png"},{bytes:2684729,md5:"d0723f30d89b6ef8b8a4e3b9399af282",name:"intro/atlas1.png"},{bytes:811464,md5:"70a79b1faa50f7d1ea3ae55e1ae81e55",name:"intro/atlas2.png"},{bytes:37070,md5:"c418e44141533bd3d6a1f50f98f00a90",name:"intro/atlas3.png"},{bytes:13094,md5:"2b5442056e27f7a622dc593f083d8c01",name:"intro/library.json"},{bytes:32,md5:"293ae778d660d8055ec8b3ff89746e66",
name:"intro/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"intro/version"},{bytes:2917,md5:"65f2a3fadd18ed262542ab28ddf88a59",name:"intro.xml"},{bytes:25867,md5:"f2e14eb11ec6cd37efab78f04245b9cd",name:"skip_button.png"},{bytes:13076,md5:"d2d0493ce4785e9f389dc8a50d7ea68f",name:"tiki_island_56.fnt"},{bytes:10471,md5:"03a27228c2c719fa81878dff241f5bbf",name:"tiki_island_56_0.png"}],outro:[{bytes:1830,md5:"9b71c173485848446280031686135fe7",name:"audio/glossy_click_31.mp3"},{bytes:12876,md5:"a3fa87c8cb1cafec7a12547fba242cdb",
name:"audio/glossy_click_31.ogg"},{bytes:932691,md5:"325237baea736fd4393f505c90fe793c",name:"audio/mischievous_elves.mp3"},{bytes:1244823,md5:"22e9b752defe7c5c6fefab8b0dd4ba13",name:"audio/mischievous_elves.ogg"},{bytes:12966,md5:"a6330989fc4e5e228a2db9bd6ca97dd6",name:"bikini_bottom_48.fnt"},{bytes:11562,md5:"90a6055e8f562f9bba667e7b0f323797",name:"bikini_bottom_48_0.png"},{bytes:82110,md5:"819b9aec3e9e9284389a190926e58fff",name:"characters/profile_mrkrabs.png"},{bytes:68969,md5:"07d020ed4fd050ede6e9156a1f5a41e9",
name:"characters/profile_pearl.png"},{bytes:82852,md5:"bb8d0d7af7c953f5a9ecbd71795fa3bf",name:"characters/profile_plankton.png"},{bytes:79713,md5:"d32cac1e40bb015ce3bbee2cf4b2fe02",name:"characters/profile_spongebob.png"},{bytes:76650,md5:"d18756208c90630542133a47ac107000",name:"characters/profile_spongebuck.png"},{bytes:178175,md5:"c03c192b04d2a8731aeb59d17f704d8d",name:"dialogue_box.png"},{bytes:4061468,md5:"f16f3599db3f4efeafa205028790240b",name:"outro/atlas0.png"},{bytes:2683390,md5:"40396bb8b1be85f7242fb18f1a3463bd",
name:"outro/atlas1.png"},{bytes:61942,md5:"7f0bfb3c22d4e2157c90297d9fc18cf2",name:"outro/atlas2.png"},{bytes:93408,md5:"bb3db21842369403433ed3f771bbd4c1",name:"outro/atlas3.png"},{bytes:61992,md5:"d050498b615a943d274c9459ef88a79a",name:"outro/library.json"},{bytes:32,md5:"a045b06c8803149cf4f094c599f91277",name:"outro/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"outro/version"},{bytes:3590,md5:"3f5d76748631f6f6c3e791187feecd6b",name:"outro.xml"},{bytes:25867,md5:"f2e14eb11ec6cd37efab78f04245b9cd",
name:"skip_button.png"},{bytes:13076,md5:"d2d0493ce4785e9f389dc8a50d7ea68f",name:"tiki_island_56.fnt"},{bytes:10471,md5:"03a27228c2c719fa81878dff241f5bbf",name:"tiki_island_56_0.png"}],dungeon:[{bytes:645362,md5:"26cf79dd03580772b56b70ccd3f17cc6",name:"audio/calypso_beach.mp3"},{bytes:791812,md5:"ce0f81ba7a2b11156ece9aeb6c1d0cdb",name:"audio/calypso_beach.ogg"},{bytes:599282,md5:"8a7951246dea579dc8bf52bd79b91845",name:"audio/temple_of_the_tribes.mp3"},{bytes:750599,md5:"483e059de6d57bcdff14db8ecdc8ee54",
name:"audio/temple_of_the_tribes.ogg"},{bytes:291402,md5:"10e3cdeb8e369a3e429298d0ce44d633",name:"boss/atlas0.png"},{bytes:111967,md5:"830e5e0f0cc92c6ff5411c54367048e7",name:"boss/library.json"},{bytes:32,md5:"fd4b6baf86763a0eec7f4b2ba7a2890c",name:"boss/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"boss/version"},{bytes:252461,md5:"f5178323a05515ea978da7ea3ba6e620",name:"jellyfish/atlas0.png"},{bytes:17890,md5:"d2a5a478231ec3bbbb726b59710e33d0",name:"jellyfish/library.json"},{bytes:32,
md5:"71f94951ea69882fa3fa7ee145171ae1",name:"jellyfish/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"jellyfish/version"},{bytes:48842,md5:"3ad2f53fee1171b4792273c395a51164",name:"mallet_robot/atlas0.png"},{bytes:4764,md5:"2352372b3dd4d86bc236b1014fc84893",name:"mallet_robot/atlas1.png"},{bytes:17078,md5:"daa5be15f7c954a1df49d836604f80b6",name:"mallet_robot/library.json"},{bytes:32,md5:"e7be59ef2e3c121f9be8f6f80c144001",name:"mallet_robot/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",
name:"mallet_robot/version"},{bytes:45844,md5:"15a2dac5005b8eda78c5028a70e006f6",name:"projectile_robot/atlas0.png"},{bytes:16878,md5:"2bb4889c9655c959b9bb64509d230f1d",name:"projectile_robot/library.json"},{bytes:32,md5:"10fdd516ee28a356dba676cd7a9afbfb",name:"projectile_robot/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"projectile_robot/version"},{bytes:29283,md5:"7aa846f47f17754f54a42f47790277e7",name:"static_objects/barrels.png"},{bytes:11842,md5:"224d39b1e73247de2689faef4c25ba4d",
name:"static_objects/barrel_1.png"},{bytes:12718,md5:"38588c1433f7707846590165f80e24d9",name:"static_objects/barrel_2.png"},{bytes:30044,md5:"900e5d8d53d6611f5f03c60ddefa1b83",name:"static_objects/broken_piano.png"},{bytes:17546,md5:"0b8de3ae639b043ba90c5d7a204ddb11",name:"static_objects/caution_sign.png"},{bytes:45748,md5:"25d3de62d65fde296dfd9ad16f9eebe5",name:"static_objects/dungeon_rock_1.png"},{bytes:24418,md5:"3d2376c578935641c42b69ea7c52f09d",name:"static_objects/dungeon_rock_2.png"},{bytes:35221,
md5:"a42b82b2e4c2ad631652234375d191f2",name:"static_objects/dungeon_rock_3.png"},{bytes:39047,md5:"b2faf41b1c090fe2e0404128cf637d2c",name:"static_objects/jail_sign.png"},{bytes:32460,md5:"f0dcc5735199791d39ca61587fbf28be",name:"static_objects/jellyfish_field_rock_1.png"},{bytes:13177,md5:"b82ad566814b53b38b4f2fe0e117fc22",name:"static_objects/jellyfish_field_rock_2.png"},{bytes:20711,md5:"4fde358e07b07c5c7d578d439c6191b2",name:"static_objects/jelly_sign_1.png"},{bytes:18587,md5:"a8b3e086b88c7b0a5393cceaf50e2637",
name:"static_objects/jelly_sign_2.png"},{bytes:20877,md5:"9269854dc16d8e23058bc8169ebf2a44",name:"static_objects/jelly_sign_3.png"},{bytes:32853,md5:"89eeb00b9e04b21dcc1ff671705f8682",name:"static_objects/kantina_sign.png"},{bytes:30083,md5:"55cb7fd259f1201e808f6b7118f8f413",name:"static_objects/minecart.png"},{bytes:49623,md5:"46272e8a239bdabfbca65b634d97cdce",name:"static_objects/town_rock_1.png"},{bytes:24704,md5:"591a66eb539239032631e25c78c19787",name:"static_objects/town_rock_2.png"},{bytes:36113,
md5:"59d20d5ab6a9a1b524b6bea46612b221",name:"static_objects/town_rock_3.png"},{bytes:110,md5:"4f2445e462475486d805ab6de4dc5d9e",name:"tiles/dungeon/blank.png"},{bytes:97,md5:"3137f6101440fbab954f43eeb9c8dbe5",name:"tiles/dungeon/block.png"},{bytes:950,md5:"fc82d3a1db7790a6151bf8bf4e3ae81d",name:"tiles/dungeon/hole_01.jpg"},{bytes:3830,md5:"764384490223c1a72c3f02b746e15b2c",name:"tiles/dungeon/hole_02.jpg"},{bytes:4903,md5:"ed60e921d9b626d89704283516b5a4da",name:"tiles/dungeon/hole_03.jpg"},{bytes:5165,
md5:"82e25d596c455bbfffe463788029cf90",name:"tiles/dungeon/hole_04.jpg"},{bytes:13634,md5:"2c4ce23d0c4df085c282893ae06c7fd4",name:"tiles/dungeon/hole_05.jpg"},{bytes:16615,md5:"832521a7d7ebc3242d7304f07bb49bd0",name:"tiles/dungeon/hole_06.jpg"},{bytes:5258,md5:"278bf67d8eee55d733510086ecfaed89",name:"tiles/dungeon/hole_07.jpg"},{bytes:16571,md5:"82084a2ed314e2e128d3297882ba6c72",name:"tiles/dungeon/hole_08.jpg"},{bytes:10421,md5:"5c21a0ff601d73acac2c91eb3d7135f1",name:"tiles/dungeon/hole_09.jpg"},
{bytes:16364,md5:"53fbe54061f96030dac7c3ca86ae3acc",name:"tiles/dungeon/hole_10.jpg"},{bytes:2524,md5:"aca7ceca1477f06370677f1a6ed26244",name:"tiles/dungeon/hole_11.jpg"},{bytes:5090,md5:"89b016b80449746e147630caf76ce74f",name:"tiles/dungeon/hole_12.jpg"},{bytes:2171,md5:"a00556a6f443f6d42cde0fc26c53be51",name:"tiles/dungeon/hole_13.jpg"},{bytes:4068,md5:"1f9fb175b64510ab9de2e7001cd7bd16",name:"tiles/dungeon/hole_14.jpg"},{bytes:5105,md5:"fa9e0020c50471d3586da29c7ebaae6d",name:"tiles/dungeon/hole_15.jpg"},
{bytes:4640,md5:"977778fdf6fccd4e570b4a5bdeba1314",name:"tiles/dungeon/tile_00.jpg"},{bytes:2698,md5:"79bd978dff20c8b66b16182eeb20453f",name:"tiles/dungeon/tile_01.jpg"},{bytes:7862,md5:"559c0934776dfda82a540106ef0bf762",name:"tiles/dungeon/tile_02.jpg"},{bytes:7998,md5:"0b8d75903994ed77518cf952a421aa3b",name:"tiles/dungeon/tile_03.jpg"},{bytes:17941,md5:"da9913d88026bfb841670c420917b052",name:"tiles/dungeon/tile_04.jpg"},{bytes:3720,md5:"ead541fc9fbde3d6ea580cfed54c8462",name:"tiles/dungeon/tile_05.jpg"},
{bytes:9341,md5:"09156f6f1df1de096d32fe5c569acbc9",name:"tiles/dungeon/tile_06.jpg"},{bytes:5463,md5:"e54215472284335cefc49d2df4dbe9e5",name:"tiles/dungeon/tile_07.jpg"},{bytes:1791,md5:"583c6174be9ca3a39660d4b63b96744f",name:"tiles/dungeon/tile_08.jpg"},{bytes:9069,md5:"ab5e890ab3a51dce7db1fb320ee75819",name:"tiles/dungeon/tile_09.jpg"},{bytes:9201,md5:"90cee79dcbc3ca9b60fe2100baa25f76",name:"tiles/dungeon/tile_10.jpg"},{bytes:6723,md5:"12f4a7dbddab68ac78a5c0cbd013961f",name:"tiles/dungeon/tile_11.jpg"},
{bytes:6105,md5:"4e495d9063cd433bed66d4496b744024",name:"tiles/dungeon/tile_12.jpg"},{bytes:4165,md5:"0e5b71a366b068cd6df43e6d27dae002",name:"tiles/dungeon/tile_13.jpg"},{bytes:6205,md5:"bdf8578c1cd1b0f4ef61abcadd72e5a3",name:"tiles/dungeon/tile_14.jpg"},{bytes:5324,md5:"36a49c720dafa99ff11d8482b61b0176",name:"tiles/dungeon/tile_15.jpg"},{bytes:5459,md5:"9ab6aab95596733686d48b9ae05ebeaa",name:"tiles/dungeon/tile_16.jpg"},{bytes:5952,md5:"922f5d1b2aafd6bed476da7ebb2d6124",name:"tiles/dungeon/tile_17.jpg"},
{bytes:2622,md5:"d010e3bebc1d3e155bf1f4a8db48d4a8",name:"tiles/dungeon/tile_18.jpg"},{bytes:5753,md5:"f4989d96c2899b3b759b164d3a164325",name:"tiles/dungeon/tile_19.jpg"},{bytes:5952,md5:"38255a2eb9af635ba703746620829e0e",name:"tiles/dungeon/tile_20.jpg"},{bytes:9180,md5:"82af5b1e426b1561ce74c0ce897c029f",name:"tiles/dungeon/tile_21.jpg"},{bytes:6078,md5:"866f69ac659390756668086aedbeea00",name:"tiles/dungeon/tile_22.jpg"},{bytes:7606,md5:"d28f0f24db287d4458ef3cb31031f125",name:"tiles/dungeon/tile_23.jpg"},
{bytes:2354,md5:"39a7eee39dd80895f37d2323c5f5931e",name:"tiles/dungeon/tile_24.jpg"},{bytes:5475,md5:"bb86467ea8ffde8a3052ac398b3eec46",name:"tiles/dungeon/tile_25.jpg"},{bytes:2016,md5:"215639037f08097376da4dcababdb943",name:"tiles/dungeon/tile_26.jpg"},{bytes:5120,md5:"c0b213fc3d8fe2e0ada276ab40c13973",name:"tiles/dungeon/tile_27.jpg"},{bytes:3856,md5:"e89579fcb0d750bac396d01c11f99cbc",name:"tiles/dungeon/tile_28.jpg"},{bytes:4456,md5:"5f373caffe78f8a687980dc6be89457d",name:"tiles/dungeon/tile_29.jpg"},
{bytes:6182,md5:"be57defeb3fc0938052e74205a4dbb38",name:"tiles/dungeon/tile_30.jpg"},{bytes:6723,md5:"12f4a7dbddab68ac78a5c0cbd013961f",name:"tiles/dungeon/tile_31.jpg"},{bytes:2133,md5:"f33e0619b1094001e3ecad4b6cc2c091",name:"tiles/dungeon/tile_32.jpg"},{bytes:1129,md5:"bf941c90f82bad83dbf243c1a239a8bd",name:"tiles/dungeon/tile_33.jpg"},{bytes:1149,md5:"7ed51ec5bbb846bb70509c26aaf88141",name:"tiles/dungeon/tile_34.jpg"},{bytes:4179,md5:"447e9b1cca7dd176d69263c901e831ba",name:"tiles/dungeon/tile_35.jpg"},
{bytes:4832,md5:"e560a4ebddaa5730590d5f0af6550094",name:"tiles/dungeon/tile_36.jpg"},{bytes:14767,md5:"ab4138f3247f500aae5c4524f0a25b5e",name:"tiles/dungeon/tile_37.jpg"},{bytes:14108,md5:"a27e2a0d41e72f5392e02838cc867d30",name:"tiles/dungeon/tile_38.jpg"},{bytes:14572,md5:"690496be265d1e8223513a90d1ce7015",name:"tiles/dungeon/tile_39.jpg"},{bytes:3531,md5:"df0f24e9c8bfa972921ab1a1d93b4f31",name:"tiles/dungeon/tile_40.jpg"},{bytes:4189,md5:"b53fb918d479697c70cc9aa69702797d",name:"tiles/dungeon/tile_41.jpg"},
{bytes:5131,md5:"270a9c0cdbad82f742f90f1b5c6674ff",name:"tiles/dungeon/tile_42.jpg"},{bytes:6896,md5:"da8211ce4945d8f0b5e7ee5c0f9faf92",name:"tiles/dungeon/tile_43.jpg"},{bytes:2547,md5:"04a19cc84beb0c39303b21e3a17fe02f",name:"tiles/dungeon/tile_44.jpg"},{bytes:2110,md5:"86f2297333ac4a94ba7e5606b0abf6b5",name:"tiles/dungeon/tile_45.jpg"},{bytes:1791,md5:"dc823dcdd94183de203ad5c5cf58d9bf",name:"tiles/dungeon/tile_46.jpg"},{bytes:1943,md5:"167f3ae55c82c9a37e8e52deb92cc013",name:"tiles/dungeon/tile_47.jpg"},
{bytes:944,md5:"37517cc7d63813278b8d4c1af5e61cd2",name:"tiles/dungeon/tile_48.jpg"},{bytes:5831,md5:"57fdbbdda0e68368532a725c9e3155bb",name:"tiles/dungeon/tile_49.jpg"},{bytes:7467,md5:"5f1ad57b05cb8dd9c92a7b2a57707bed",name:"tiles/dungeon/tile_50.jpg"},{bytes:8731,md5:"61df6f50c4ac0338fd6fc5d06a602651",name:"tiles/dungeon/tile_51.jpg"},{bytes:5964,md5:"fa27ad1b8ec8060ad2e851ffd3532c40",name:"tiles/dungeon/tile_52.jpg"},{bytes:1909,md5:"a0d8947fbad5d50b68368f0e742067c9",name:"tiles/dungeon/tile_53.jpg"},
{bytes:8639,md5:"43b57151057e2779ee011065aa618a6e",name:"tiles/dungeon/tile_54.jpg"},{bytes:6319,md5:"40869d66b8a934551ffb1f6fa367da0c",name:"tiles/dungeon/tile_55.jpg"},{bytes:3866,md5:"4b9fefca44767f8f2533bed44a01e684",name:"tiles/dungeon/tile_56.jpg"},{bytes:6524,md5:"4aff12cd284ecb69a2b0c5469aaec433",name:"tiles/dungeon/tile_57.jpg"},{bytes:5741,md5:"daf5cb121c430252aa59f991cdd60b0d",name:"tiles/dungeon/tile_58.jpg"},{bytes:6205,md5:"1544e41540e91776f79e64ced67dbab2",name:"tiles/dungeon/tile_59.jpg"},
{bytes:2383,md5:"85340e54a2edb8fe8c0425f7fb3fef2d",name:"tiles/dungeon/tile_60.jpg"},{bytes:6014,md5:"6b5ef432fff2d0c414b9411f2d7e96e7",name:"tiles/dungeon/tile_61.jpg"},{bytes:4963,md5:"62efa27f1d8225284dee536ccc64e306",name:"tiles/dungeon/tile_62.jpg"},{bytes:4165,md5:"dde6967e67fde6522b81ff8e31dea30a",name:"tiles/dungeon/tile_63.jpg"},{bytes:3367,md5:"995c77bfb7174c96996a9480696ed89b",name:"tiles/dungeon/tile_64.jpg"},{bytes:4831,md5:"e6be511f0816774a14dffa8d79ac88f4",name:"tiles/dungeon/tile_65.jpg"},
{bytes:1588,md5:"74379b5472619d6c6dc9e32202db4749",name:"tiles/dungeon/xtra_01.jpg"},{bytes:8735,md5:"f458ac9763ea3315189654423707e938",name:"tiles/dungeon/xtra_02.jpg"},{bytes:5118,md5:"c39ca8a9ff6f8950605b51039e54aa08",name:"tiles/dungeon/xtra_03.jpg"},{bytes:4640,md5:"977778fdf6fccd4e570b4a5bdeba1314",name:"tiles/dungeon/xtra_04.jpg"},{bytes:2208,md5:"7f3f69e52507804c7239812b41488964",name:"tiles/dungeon/xtra_05.jpg"},{bytes:1130,md5:"8f67c765cf6255731ee21c8a811c9613",name:"tiles/dungeon/xtra_06.jpg"},
{bytes:1130,md5:"8f67c765cf6255731ee21c8a811c9613",name:"tiles/dungeon/xtra_07.jpg"},{bytes:4456,md5:"5f373caffe78f8a687980dc6be89457d",name:"tiles/dungeon/xtra_08.jpg"},{bytes:1130,md5:"8f67c765cf6255731ee21c8a811c9613",name:"tiles/dungeon/xtra_09.jpg"},{bytes:6205,md5:"a1c75bc27a4aebac4b031a6acf3dfea5",name:"tiles/dungeon/xtra_10.jpg"},{bytes:6304,md5:"e9b43f1538923ce810cde46e5ef60861",name:"tiles/dungeon/xtra_11.jpg"},{bytes:6772,md5:"df152ff9f4e9dcca9d53d567be5d56e8",name:"tiles/dungeon/xtra_12.jpg"},
{bytes:110,md5:"4f2445e462475486d805ab6de4dc5d9e",name:"tiles/fields/blank.png"},{bytes:97,md5:"3137f6101440fbab954f43eeb9c8dbe5",name:"tiles/fields/block.png"},{bytes:914,md5:"fbaa2117e5748c8597e63d9a6c4ce6e8",name:"tiles/fields/hole_01.jpg"},{bytes:3740,md5:"03728b92a0c6639662839098fdd241a3",name:"tiles/fields/hole_02.jpg"},{bytes:4768,md5:"929334465e17f00276796290b4f702d7",name:"tiles/fields/hole_03.jpg"},{bytes:4949,md5:"6ea6ca6f44aabb87b0e38e2f60106ab9",name:"tiles/fields/hole_04.jpg"},{bytes:4818,
md5:"d1ff8cd8d90ae234152c2d91f749227e",name:"tiles/fields/hole_05.jpg"},{bytes:4965,md5:"2afc4be70e819fbebd95be619687f843",name:"tiles/fields/hole_06.jpg"},{bytes:2428,md5:"6491af158e410bc0dd4826cd82175de6",name:"tiles/fields/hole_07.jpg"},{bytes:4847,md5:"eeef341bf9018bb4363214757c241be7",name:"tiles/fields/hole_08.jpg"},{bytes:3917,md5:"1262dc2bd41f9f2d586deaecf9cbf3f9",name:"tiles/fields/hole_09.jpg"},{bytes:4933,md5:"c6be122638303fb2cda1f9eafdd678ec",name:"tiles/fields/hole_10.jpg"},{bytes:2329,
md5:"e26091b055f30120eda9bc7e03648ca5",name:"tiles/fields/hole_11.jpg"},{bytes:4855,md5:"f0e905570320f6dadd9fcc7647ed7a1a",name:"tiles/fields/hole_12.jpg"},{bytes:2160,md5:"946e063170a0923d86965e6d602a9483",name:"tiles/fields/hole_13.jpg"},{bytes:3883,md5:"62ee515e6c0dd554c19a798435ee78c8",name:"tiles/fields/hole_14.jpg"},{bytes:4876,md5:"b9bc9d0c3d7f05457ba8f71db42130d3",name:"tiles/fields/hole_15.jpg"},{bytes:4629,md5:"cf066865661137e4828643f85735d5a2",name:"tiles/fields/tile_00.jpg"},{bytes:2824,
md5:"d897bb8c322fe74d976385483d9fad3a",name:"tiles/fields/tile_01.jpg"},{bytes:42446,md5:"97f3f7850643dbeaf1cb985b4dfec33d",name:"tiles/fields/tile_02.jpg"},{bytes:41209,md5:"0922cb05b624382a9d220ffe11436c73",name:"tiles/fields/tile_03.jpg"},{bytes:45696,md5:"26013ce40793336218d76aff86fe9ddc",name:"tiles/fields/tile_04.jpg"},{bytes:9945,md5:"2cd2c8facc038af308a4e64b1b6402f8",name:"tiles/fields/tile_05.jpg"},{bytes:11826,md5:"677ffc378e89190b5b4bdb4db9a3358b",name:"tiles/fields/tile_06.jpg"},{bytes:5222,
md5:"1e7093810a0e0d3d4c247226b2d3058a",name:"tiles/fields/tile_07.jpg"},{bytes:8587,md5:"130aa03c2b0356420d97703c13f85be7",name:"tiles/fields/tile_08.jpg"},{bytes:11376,md5:"de6d4a5c949672aa414fa2de1d40cd62",name:"tiles/fields/tile_09.jpg"},{bytes:12617,md5:"9b8ab5d81200c54f1792ec8abfa1948f",name:"tiles/fields/tile_10.jpg"},{bytes:4979,md5:"67418a41569edccb1e6fd00dbca6bf99",name:"tiles/fields/tile_11.jpg"},{bytes:6542,md5:"168d3145a9c9689837adf00ec6c1674f",name:"tiles/fields/tile_12.jpg"},{bytes:10957,
md5:"44ead2af4aae28420a2905b5d725e1d1",name:"tiles/fields/tile_13.jpg"},{bytes:6134,md5:"669a3f3c4423f5e118633cf0aa475f68",name:"tiles/fields/tile_14.jpg"},{bytes:4627,md5:"50113b68b7b17c968cd575b3a29a3072",name:"tiles/fields/tile_15.jpg"},{bytes:4629,md5:"cf066865661137e4828643f85735d5a2",name:"tiles/fields/tile_16.jpg"},{bytes:4629,md5:"cf066865661137e4828643f85735d5a2",name:"tiles/fields/tile_17.jpg"},{bytes:10148,md5:"c66876e4bb904c7b6156d6b71ace3739",name:"tiles/fields/tile_18.jpg"},{bytes:5317,
md5:"38b94790046be903d87a57cbee593dec",name:"tiles/fields/tile_19.jpg"},{bytes:5736,md5:"0cf374cce02f51b4e7fb1c0a73117cee",name:"tiles/fields/tile_20.jpg"},{bytes:13385,md5:"bdd9bb542d8deb9bd743e2e7ce33efbd",name:"tiles/fields/tile_21.jpg"},{bytes:5703,md5:"b9a7e639d7ed74b15df3798c9e0627da",name:"tiles/fields/tile_22.jpg"},{bytes:11314,md5:"caeb526b3b9ff474a6bcb31a55f3d9b4",name:"tiles/fields/tile_23.jpg"},{bytes:9201,md5:"b1b3130344442423616aad1acda93369",name:"tiles/fields/tile_24.jpg"},{bytes:5355,
md5:"bd8cd5cad48630daf8ab27f4e1fa0968",name:"tiles/fields/tile_25.jpg"},{bytes:9022,md5:"66daa0758f349e57692774883b84c48b",name:"tiles/fields/tile_26.jpg"},{bytes:10438,md5:"8dbdca0748e1dbddd48525003878f27a",name:"tiles/fields/tile_27.jpg"},{bytes:5131,md5:"28d9c27716d6171dff63fb5ec79d1fe6",name:"tiles/fields/tile_28.jpg"},{bytes:14805,md5:"fbf8085efda8ba41bdf3f5486363a691",name:"tiles/fields/tile_29.jpg"},{bytes:11276,md5:"8eaea7b28aeb78da72c661762946273d",name:"tiles/fields/tile_30.jpg"},{bytes:7510,
md5:"18317344d4583e215b66aa32224ba4c2",name:"tiles/fields/tile_31.jpg"},{bytes:9159,md5:"6138fb726fd82cf81218e38c8cd5b8d1",name:"tiles/fields/tile_32.jpg"},{bytes:1241,md5:"6cd23915c0118f331a1fb95f71c77f26",name:"tiles/fields/tile_33.jpg"},{bytes:8577,md5:"d70b9cfb3dc3a7321590147a60652e69",name:"tiles/fields/tile_34.jpg"},{bytes:8660,md5:"727d7e16882c57712dfd5fbb896433d7",name:"tiles/fields/tile_35.jpg"},{bytes:5227,md5:"23cc80ec29050573bf9f33d167d8d0ea",name:"tiles/fields/tile_36.jpg"},{bytes:5089,
md5:"e8300a16b1257c5232cc9506ed633345",name:"tiles/fields/tile_37.jpg"},{bytes:12599,md5:"98d0c6f9b1ad6294bfdf2eba77f2fb5a",name:"tiles/fields/tile_38.jpg"},{bytes:5229,md5:"b9a84955e2521c63d63c2b0aaa7d355e",name:"tiles/fields/tile_39.jpg"},{bytes:9463,md5:"6b1f2e88ceacc7b58eff3bf3a8a0169a",name:"tiles/fields/tile_40.jpg"},{bytes:5270,md5:"198fe60c6887cb9b50273d1609f6b8da",name:"tiles/fields/tile_41.jpg"},{bytes:4121,md5:"c9a133be956f235821305bf232e77d36",name:"tiles/fields/tile_42.jpg"},{bytes:7304,
md5:"731d31323836977378fef622ff077d81",name:"tiles/fields/tile_43.jpg"},{bytes:2606,md5:"09df3e5eb7e0c73da1b1a9ac36eb194a",name:"tiles/fields/tile_44.jpg"},{bytes:9159,md5:"6138fb726fd82cf81218e38c8cd5b8d1",name:"tiles/fields/tile_45.jpg"},{bytes:2021,md5:"59bdadcfd23508f014dc1d95fd97654b",name:"tiles/fields/tile_46.jpg"},{bytes:2138,md5:"7889daacd0f5287e27eb29aca3dc8657",name:"tiles/fields/tile_47.jpg"},{bytes:1008,md5:"c3faf7135c8488811911ce082f87b723",name:"tiles/fields/tile_48.jpg"},{bytes:5831,
md5:"57fdbbdda0e68368532a725c9e3155bb",name:"tiles/fields/tile_49.jpg"},{bytes:27045,md5:"8084da0a4eaddcea3bade41241d73622",name:"tiles/fields/tile_50.jpg"},{bytes:29460,md5:"e81a63bc64eacd232e42b3eb9f346e52",name:"tiles/fields/tile_51.jpg"},{bytes:14988,md5:"1c51d6c7dc888860728fc7f2a75394a2",name:"tiles/fields/tile_52.jpg"},{bytes:24311,md5:"891b9c77d6a3cc0f3cfa7670d911bcc1",name:"tiles/fields/tile_53.jpg"},{bytes:28056,md5:"7e4b77fc608e9d1e257a1aad13fd7d23",name:"tiles/fields/tile_54.jpg"},{bytes:17473,
md5:"f7a38b94446581ffe23848edaf9550dd",name:"tiles/fields/tile_55.jpg"},{bytes:28051,md5:"f6eb0b0dfe69f9d2e377cb6a67414425",name:"tiles/fields/tile_56.jpg"},{bytes:16983,md5:"803300a0473b5f3445776eebad046bf2",name:"tiles/fields/tile_57.jpg"},{bytes:25662,md5:"125bc71e9ff62fa360a57cd2f074a236",name:"tiles/fields/tile_58.jpg"},{bytes:15377,md5:"a2fee26af718b41cc2b5c1a484e847c2",name:"tiles/fields/tile_59.jpg"},{bytes:25262,md5:"222ca5d77cc302b9322a93bdf7a4500f",name:"tiles/fields/tile_60.jpg"},{bytes:15630,
md5:"82f4fa00fd960758fda69b665a7bf9a2",name:"tiles/fields/tile_61.jpg"},{bytes:27074,md5:"17d3c5e7a3545fbe888e8fd7c258dcc2",name:"tiles/fields/tile_62.jpg"},{bytes:23407,md5:"7c8a28eb575ea85a36323f54a9325131",name:"tiles/fields/tile_63.jpg"},{bytes:26694,md5:"bba4db02e52875a9dbdbf4fea87c792c",name:"tiles/fields/tile_64.jpg"},{bytes:15480,md5:"266e446f121140d8e0a256ca7bfebf6a",name:"tiles/fields/tile_65.jpg"},{bytes:5631,md5:"e775f3c2095f49f2c2beced42d070310",name:"tiles/fields/xtra_01.jpg"},{bytes:8735,
md5:"f458ac9763ea3315189654423707e938",name:"tiles/fields/xtra_02.jpg"},{bytes:4995,md5:"5b3c795a499d4f43d8bb14cf75e53fdd",name:"tiles/fields/xtra_03.jpg"},{bytes:5641,md5:"4b00d7fe1960f5b4f44d09341a757ea4",name:"tiles/fields/xtra_04.jpg"},{bytes:8358,md5:"dd908fb747c03a9c92646362a81bce7a",name:"tiles/fields/xtra_05.jpg"},{bytes:22756,md5:"1596588560257b4231a7b6be621e5308",name:"tiles/fields/xtra_06.jpg"},{bytes:19874,md5:"09ae0022f67ef39bfed7962c173d5899",name:"tiles/fields/xtra_07.jpg"},{bytes:4627,
md5:"05f0b5e2c22f167f9fc26e3b95ad0a14",name:"tiles/fields/xtra_08.jpg"},{bytes:24058,md5:"19f6d741dc5c463257e9b876b355c5f3",name:"tiles/fields/xtra_09.jpg"},{bytes:7466,md5:"0571870c86853652485a2f461013d643",name:"tiles/fields/xtra_10.jpg"},{bytes:6102,md5:"d95627f9696589f4bb38e59ed256150f",name:"tiles/fields/xtra_11.jpg"},{bytes:4897,md5:"e6a5dcebbc51d4eeac1e4264ebbbff54",name:"tiles/fields/xtra_12.jpg"}],bootstrap:[{bytes:151,md5:"e210ef7c6b777e95a7fa9b6f6d3ccd91",name:"config.xml"},{bytes:27474,
md5:"c10d6607158c46bbe597f95783757e4b",name:"preloader/atlas0.png"},{bytes:7106,md5:"31219f73fc4c679dcc7100454ed99e2f",name:"preloader/library.json"},{bytes:32,md5:"98749c0f1df0973c2f18a324fcc3625f",name:"preloader/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"preloader/version"},{bytes:236444,md5:"2341bb82defd3ebb1b275fe4e30e4476",name:"preloader_panel.png"},{bytes:54908,md5:"90f58c2dfba750cad7d243e3e52b067d",name:"title_bg.jpg"}],locale:[],town:[{bytes:645362,md5:"26cf79dd03580772b56b70ccd3f17cc6",
name:"audio/calypso_beach.mp3"},{bytes:791812,md5:"ce0f81ba7a2b11156ece9aeb6c1d0cdb",name:"audio/calypso_beach.ogg"},{bytes:360116,md5:"c43389458d2332a4341786519a0cd095",name:"buildings/chum_bucket.png"},{bytes:77734,md5:"6792aa3219b70dc4ded105ed7d5e4b7a",name:"buildings/gold_statue.png"},{bytes:747901,md5:"88b36896758bd94f5c99976f0a8f90c1",name:"buildings/hospital.png"},{bytes:192508,md5:"d17c2d9b560f0573b95465e94d0fc9a2",name:"buildings/house.png"},{bytes:435798,md5:"f23cc6088fe1258846809fa7eb35247b",
name:"buildings/krusty_krab.png"},{bytes:32765,md5:"f82a0269fc65ee2706f8ad01c36c4063",name:"buildings/krusty_krab_sign.png"},{bytes:35903,md5:"c968c8d1f6455fd58b884140d845aef0",name:"buildings/krusty_krab_sign_with_mailbag.png"},{bytes:274161,md5:"073d7aa3f5340bd1d6e39c34c1ff884c",name:"buildings/mr_krabs_anchor.png"},{bytes:60363,md5:"4e58ba8a4526af9b02a058c09f54a28a",name:"buildings/patricks_stone.png"},{bytes:106027,md5:"08ee2c3f2a20bd135a72c056ff8c0f9d",name:"buildings/patricks_stone_open.png"},
{bytes:374866,md5:"00a6e4b7ccd0d2a245577fbb573491dc",name:"buildings/sandys_treedome.png"},{bytes:44794,md5:"3681fe6e9f1ff1f50232d93f9971686e",name:"buildings/sandys_treedome_entrance.png"},{bytes:210595,md5:"392b5ed759574aae47c6646c41221382",name:"buildings/spongebobs_pineapple.png"},{bytes:284969,md5:"f37e7d8380884d30844e0018de8d21b4",name:"buildings/squidwards_house.png"},{bytes:187914,md5:"a138e5f859fa9a4c8a2a630602a52423",name:"buildings/statue.png"},{bytes:318766,md5:"ff759ddf4415152ba3ee7425d1ab39b7",
name:"chum_bucket_interior.jpg"},{bytes:68006,md5:"2526c33695bf76aa123f0a374f9f6d13",name:"chum_bucket_interior_front.png"},{bytes:450982,md5:"0cfe723f943173a3e33d6f25224c17a4",name:"krusty_krab_interior.jpg"},{bytes:86032,md5:"63f5e4c4b2786dfba81a353c87367cc9",name:"krusty_krab_interior_front.png"},{bytes:153145,md5:"13a68a75665b1f3717b9d5fa8d7dd3a6",name:"pineapple_interior.jpg"},{bytes:17546,md5:"0b8de3ae639b043ba90c5d7a204ddb11",name:"static_objects/caution_sign.png"},{bytes:67018,md5:"16736b6fd440d657b835fe38b5fb95a9",
name:"static_objects/lemonade_stand.png"},{bytes:18570,md5:"9af666bf945221f4a5c18838f55b2339",name:"static_objects/mine_sign.png"},{bytes:15575,md5:"511c03810befc03e81620f8f370ad0be",name:"static_objects/parasol_1.png"},{bytes:15889,md5:"96e0c48e1030a4d9c205360a27376c63",name:"static_objects/parasol_2.png"},{bytes:13517,md5:"40bf877c9ea98b00d97d2e8865b7a70f",name:"static_objects/sunbed_1.png"},{bytes:13901,md5:"2eea24b305c3ccd864321cff642f5c1d",name:"static_objects/sunbed_2.png"},{bytes:46896,md5:"1dfa4fe961c64154ed196f4b82f6cc4f",
name:"static_objects/town_rock_1.png"},{bytes:24725,md5:"44d8b65915349f0b6b01a1d7fb22c155",name:"static_objects/town_rock_2.png"},{bytes:36145,md5:"b6e6b467aa1b528aaec4ef716c7c35f4",name:"static_objects/town_rock_3.png"},{bytes:110,md5:"4f2445e462475486d805ab6de4dc5d9e",name:"tiles/interior/blank.png"},{bytes:97,md5:"3137f6101440fbab954f43eeb9c8dbe5",name:"tiles/interior/block.png"},{bytes:110,md5:"4f2445e462475486d805ab6de4dc5d9e",name:"tiles/interior/tile_00.png"},{bytes:110,md5:"4f2445e462475486d805ab6de4dc5d9e",
name:"tiles/town/blank.png"},{bytes:97,md5:"3137f6101440fbab954f43eeb9c8dbe5",name:"tiles/town/block.png"},{bytes:1053,md5:"3b642d758195ada100978b5270f235c4",name:"tiles/town/hole_01.jpg"},{bytes:3940,md5:"d35a25e4b890d4e51aa1f425110aa65e",name:"tiles/town/hole_02.jpg"},{bytes:4551,md5:"836e6c06807be6879be12a3f54b68c51",name:"tiles/town/hole_03.jpg"},{bytes:3831,md5:"16341ba4e436b99ef3ee08473b4d96f1",name:"tiles/town/hole_04.jpg"},{bytes:13314,md5:"1b12dd1d2d8a014badb1e543eaa7c507",name:"tiles/town/hole_05.jpg"},
{bytes:12888,md5:"8364f1f9407a906e996919cbfe112219",name:"tiles/town/hole_06.jpg"},{bytes:6580,md5:"d1c5ed4508e3a1d6752ac423e80f2e8b",name:"tiles/town/hole_07.jpg"},{bytes:12691,md5:"faa6f90ff2291f9e20e802ad39b350c4",name:"tiles/town/hole_08.jpg"},{bytes:10853,md5:"3ae5f31a120310089441789317922352",name:"tiles/town/hole_09.jpg"},{bytes:12374,md5:"aa4b77ee0f0175811ddcede23cc3cfd8",name:"tiles/town/hole_10.jpg"},{bytes:2598,md5:"ed30699c1341dd1abc4d989f2c0d168c",name:"tiles/town/hole_11.jpg"},{bytes:3739,
md5:"ad9c0d0f76768110fac64a04998711ce",name:"tiles/town/hole_12.jpg"},{bytes:2429,md5:"3214ec1521b12e5e0a97ca33c17af948",name:"tiles/town/hole_13.jpg"},{bytes:3911,md5:"e587a63c5b142d4d325354618a02330e",name:"tiles/town/hole_14.jpg"},{bytes:3564,md5:"1a9c3df1c9c054eb9cbc0b8c5d668321",name:"tiles/town/hole_15.jpg"},{bytes:557,md5:"91fa288becc2388a892f8455e4226ecd",name:"tiles/town/lagoon_00.jpg"},{bytes:8560,md5:"3e08dfb2943f94a5975f6d775af4b49d",name:"tiles/town/lagoon_01.jpg"},{bytes:1647,md5:"2889330d12ffb16d681ec84729b05a61",
name:"tiles/town/lagoon_02.jpg"},{bytes:10286,md5:"b3b46bda7e2c5e03c6859f52007e3109",name:"tiles/town/lagoon_03.jpg"},{bytes:34496,md5:"98a173af62c143a94fa8d321d63eb522",name:"tiles/town/lagoon_04.jpg"},{bytes:33930,md5:"a47e2247c7fed6d3e121d54733985aee",name:"tiles/town/lagoon_05.jpg"},{bytes:9608,md5:"794379fcfc9819b7aec6a7a3bee3661e",name:"tiles/town/lagoon_06.jpg"},{bytes:7085,md5:"918b0039db1c85bc7221539008dd679b",name:"tiles/town/lagoon_07.jpg"},{bytes:7466,md5:"0571870c86853652485a2f461013d643",
name:"tiles/town/tile_00.jpg"},{bytes:8840,md5:"aa848d00bdc3e0b12df10dac3bd4f8a2",name:"tiles/town/tile_01.jpg"},{bytes:9644,md5:"e616f660f6ec5186df9f438274cb93e2",name:"tiles/town/tile_02.jpg"},{bytes:8911,md5:"4c15eab035cad2f9a381870a4d0a858b",name:"tiles/town/tile_03.jpg"},{bytes:22560,md5:"6ac279df819a2365a47cf94029e72516",name:"tiles/town/tile_04.jpg"},{bytes:9051,md5:"9e078b340b6d454fb381b2e8199b876e",name:"tiles/town/tile_05.jpg"},{bytes:10456,md5:"f514458b9dd060b3574e19e7351b4a8c",name:"tiles/town/tile_06.jpg"},
{bytes:7861,md5:"a7aa1778c0814843c93c0faa55e24129",name:"tiles/town/tile_07.jpg"},{bytes:8063,md5:"2cb8369b64ff265dbb83b3c647f0efe0",name:"tiles/town/tile_08.jpg"},{bytes:10166,md5:"a91d3e71eba9bb14af8b95ce74f51759",name:"tiles/town/tile_09.jpg"},{bytes:10805,md5:"ae91c8031999487736726fc2f5e5d76f",name:"tiles/town/tile_10.jpg"},{bytes:8584,md5:"530da76ed3e698b43372e17750f597ce",name:"tiles/town/tile_11.jpg"},{bytes:8738,md5:"a312702519dccb443b8d6299693d3e2a",name:"tiles/town/tile_12.jpg"},{bytes:9790,
md5:"373656de47623b27156c3e8491ce4cc8",name:"tiles/town/tile_13.jpg"},{bytes:8343,md5:"3d53eaf529d441f1b13bdda13575e4da",name:"tiles/town/tile_14.jpg"},{bytes:7760,md5:"4bbff6fa31ed84ac5b85b779661c8ea8",name:"tiles/town/tile_15.jpg"},{bytes:7845,md5:"62b0c13b21e85f9c378a56342e8c86ac",name:"tiles/town/tile_16.jpg"},{bytes:8037,md5:"0fd6b781ccdb8009ebd574eaa1ce0b15",name:"tiles/town/tile_17.jpg"},{bytes:9076,md5:"1407392650abcfecab3c336c32a7102c",name:"tiles/town/tile_18.jpg"},{bytes:7794,md5:"b4557e0880f6ba45ee7b5ca69966435c",
name:"tiles/town/tile_19.jpg"},{bytes:8347,md5:"d4508b7d1b8617a22291410e3e68edd1",name:"tiles/town/tile_20.jpg"},{bytes:10236,md5:"bf15586c3e027e888cce9c4e00e92764",name:"tiles/town/tile_21.jpg"},{bytes:8212,md5:"cf380cadeb79b095753f73ca32ed104d",name:"tiles/town/tile_22.jpg"},{bytes:9670,md5:"c37902b7d30b0e93e86c7e9261decd05",name:"tiles/town/tile_23.jpg"},{bytes:8454,md5:"3f0043359c4e1c6f154f45fe3971a26e",name:"tiles/town/tile_24.jpg"},{bytes:7722,md5:"cbd349c1301745a9350eccc0920a17e2",name:"tiles/town/tile_25.jpg"},
{bytes:8460,md5:"dac907b3c3958e389ceb2fe689a4639a",name:"tiles/town/tile_26.jpg"},{bytes:8828,md5:"052ed1c2164e1592fa23d6984e558055",name:"tiles/town/tile_27.jpg"},{bytes:7811,md5:"47f7beb6d492f6c212314d682cfe1527",name:"tiles/town/tile_28.jpg"},{bytes:7908,md5:"4ad5f8b3e03b08b16d046aa2eaf28056",name:"tiles/town/tile_29.jpg"},{bytes:6182,md5:"be57defeb3fc0938052e74205a4dbb38",name:"tiles/town/tile_30.jpg"},{bytes:8778,md5:"bff5b0b872e936342dff7266f8d28968",name:"tiles/town/tile_31.jpg"},{bytes:8438,
md5:"18cad1f869ad8a3f75650d3c0dea082a",name:"tiles/town/tile_32.jpg"},{bytes:8190,md5:"efe32156bf3b415ca5261ede1a2713ab",name:"tiles/town/tile_33.jpg"},{bytes:8181,md5:"0db549cc142aea3268a50189718e1849",name:"tiles/town/tile_34.jpg"},{bytes:8498,md5:"7025f300cf695c83d365f72721edb959",name:"tiles/town/tile_35.jpg"},{bytes:7930,md5:"9494b0026a2ba7d94bae36c03ddb39de",name:"tiles/town/tile_36.jpg"},{bytes:3736,md5:"cf3da34902fd89c098aa532ff77b3345",name:"tiles/town/tile_37.jpg"},{bytes:10025,md5:"00936f25c753216cf6870a7f3f21cde7",
name:"tiles/town/tile_38.jpg"},{bytes:3761,md5:"1519c1b80ae9678171d89491e9d5be10",name:"tiles/town/tile_39.jpg"},{bytes:8318,md5:"e7199b97bf119a374d68a89f2e0b9cb8",name:"tiles/town/tile_40.jpg"},{bytes:7812,md5:"01918e81ebdf6899fdbd2c3244043e9c",name:"tiles/town/tile_41.jpg"},{bytes:8121,md5:"d57655360962c3a1ae3faaf55ba42561",name:"tiles/town/tile_42.jpg"},{bytes:7958,md5:"8ca68decd4eebcdda3acaa52b3494135",name:"tiles/town/tile_43.jpg"},{bytes:2606,md5:"09df3e5eb7e0c73da1b1a9ac36eb194a",name:"tiles/town/tile_44.jpg"},
{bytes:8362,md5:"3290ffb6e6e6d264cbc51762d67730b1",name:"tiles/town/tile_45.jpg"},{bytes:8784,md5:"b35e3f76199592a6b136100ddc998f5d",name:"tiles/town/tile_46.jpg"},{bytes:8608,md5:"f172fe69965aae716280dde31291699e",name:"tiles/town/tile_47.jpg"},{bytes:1008,md5:"c3faf7135c8488811911ce082f87b723",name:"tiles/town/tile_48.jpg"},{bytes:9822,md5:"175b725db76c32af2bc4c0044eef1aca",name:"tiles/town/tile_49.jpg"},{bytes:9445,md5:"c0d3e596a728fd6f7ac367546b6871e3",name:"tiles/town/tile_50.jpg"},{bytes:10301,
md5:"0c71469599717803ff9052de894b5797",name:"tiles/town/tile_51.jpg"},{bytes:7997,md5:"88a7c925854648baeb3dd640c17e66b4",name:"tiles/town/tile_52.jpg"},{bytes:8301,md5:"f15b714e689940e5b88163b9151871da",name:"tiles/town/tile_53.jpg"},{bytes:9991,md5:"81c3b4fbde9a1c8944a574f600ef4347",name:"tiles/town/tile_54.jpg"},{bytes:8712,md5:"d0477cfe5ba7b50dcb5a54314f7624a4",name:"tiles/town/tile_55.jpg"},{bytes:9723,md5:"cc40fd6c42af22ad0ba4aea7efa6ff6a",name:"tiles/town/tile_56.jpg"},{bytes:8407,md5:"ed8428ab8d6ecb0bc08cbac469920628",
name:"tiles/town/tile_57.jpg"},{bytes:9068,md5:"53d8e655cb3704e76244de435da3cb18",name:"tiles/town/tile_58.jpg"},{bytes:8058,md5:"f750b5abd8d79c1f038f64a329ac4624",name:"tiles/town/tile_59.jpg"},{bytes:8535,md5:"7c6c780d471231cf87a6cc4450e509bf",name:"tiles/town/tile_60.jpg"},{bytes:7981,md5:"ca8fb5563aea267f9684b532c2f45813",name:"tiles/town/tile_61.jpg"},{bytes:8961,md5:"84daa865acba49b48b6fc02701a85db0",name:"tiles/town/tile_62.jpg"},{bytes:8780,md5:"f999dfe03cba3d5feecabec7fc5af585",name:"tiles/town/tile_63.jpg"},
{bytes:8483,md5:"4744f85044c6e4e1d8bafb52be65430a",name:"tiles/town/tile_64.jpg"},{bytes:7985,md5:"22fab74a9f9245c7b61bc16f3b34157e",name:"tiles/town/tile_65.jpg"},{bytes:7945,md5:"94772a098771919b3e689e8af3aae797",name:"tiles/town/xtra_01.jpg"},{bytes:8735,md5:"f458ac9763ea3315189654423707e938",name:"tiles/town/xtra_02.jpg"},{bytes:8735,md5:"f458ac9763ea3315189654423707e938",name:"tiles/town/xtra_03.jpg"},{bytes:7721,md5:"a4eaffa2de04c2d62853dacef918fc1b",name:"tiles/town/xtra_04.jpg"},{bytes:7942,
md5:"f87f9223cc6f4890e1788479aaca8f56",name:"tiles/town/xtra_05.jpg"},{bytes:8735,md5:"f458ac9763ea3315189654423707e938",name:"tiles/town/xtra_06.jpg"},{bytes:8735,md5:"f458ac9763ea3315189654423707e938",name:"tiles/town/xtra_07.jpg"},{bytes:12612,md5:"aea7c9c0ed9a2dc4abbd112000bad7d2",name:"tiles/town/xtra_08.jpg"},{bytes:23331,md5:"43dc8917df6ccaa8e0acf3b15e8014cb",name:"tiles/town/xtra_09.jpg"},{bytes:8735,md5:"f458ac9763ea3315189654423707e938",name:"tiles/town/xtra_10.jpg"},{bytes:8735,md5:"f458ac9763ea3315189654423707e938",
name:"tiles/town/xtra_11.jpg"},{bytes:8735,md5:"f458ac9763ea3315189654423707e938",name:"tiles/town/xtra_12.jpg"}],menu:[{bytes:1830,md5:"9b71c173485848446280031686135fe7",name:"audio/glossy_click_31.mp3"},{bytes:12876,md5:"a3fa87c8cb1cafec7a12547fba242cdb",name:"audio/glossy_click_31.ogg"},{bytes:837205,md5:"a55a74cb9d60c3252470917f370559d6",name:"audio/lost_treasure.mp3"},{bytes:1122537,md5:"82d659d2e9e48b5ef09e7520cb0670e4",name:"audio/lost_treasure.ogg"},{bytes:33429,md5:"5cf31d93220ad70d7c8947a32269fd08",
name:"bikini_bottom_18.fnt"},{bytes:7678,md5:"172c3f92d7659e70fbf5411d1e2f7d7d",name:"bikini_bottom_18_0.png"},{bytes:491714,md5:"9c3996f609c29fb88ed870a29d47ee83",name:"load_menu/background.png"},{bytes:14299,md5:"32a9dbd7d178afa9947c8cf93e90b4f0",name:"load_menu/equip_foam_hand.png"},{bytes:17127,md5:"d1f54e914774d9aa5e4e758249013c0c",name:"load_menu/equip_golden_spatula.png"},{bytes:8609,md5:"9cf4154de98421009edfc3d71585974a",name:"load_menu/equip_pattypult.png"},{bytes:13177,md5:"5fd8f6918db809023f41193ac9ba5668",
name:"load_menu/equip_reef_blower.png"},{bytes:8715,md5:"20539165cd203995689eb94f1e5b577c",name:"load_menu/equip_spatula.png"},{bytes:66821,md5:"933b6af97235be1536caaeffcd1ee546",name:"load_menu/load_slot.png"},{bytes:69108,md5:"4e506138087416665579f9293da5a35d",name:"load_menu/new_game_button.png"},{bytes:13880,md5:"5f1f6dcefaec9c09978d6a9d770eb270",name:"load_menu/sb_default.png"},{bytes:72406,md5:"6516ea6a16c2c60c02ab2bd27c2db6e4",name:"title_menu/clicktoplay/atlas0.png"},{bytes:1637,md5:"f38816ae59f817521fae85111c84f881",
name:"title_menu/clicktoplay/library.json"},{bytes:32,md5:"ca893ec0f4b8d31b708cf3c1114d5e01",name:"title_menu/clicktoplay/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"title_menu/clicktoplay/version"},{bytes:610155,md5:"81eeea6564c1bb7182e054fc3ed7a74d",name:"title_menu/title_legend_logo.png"},{bytes:47327,md5:"4d4d5a09169de771b8aaf118509a1262",name:"title_menu/title_spongebob.png"}],map5:[{bytes:520486,md5:"3e546a5bcd5e2c324ca09124a03d20b2",name:"map.png"}],map4:[{bytes:587487,md5:"cdefb06d81f141dc5f5d10f1661319e1",
name:"map.png"}],map3:[{bytes:578241,md5:"c044a5b2a43d05b774b4261a9cbfa7a0",name:"map.png"}],map2:[{bytes:564988,md5:"bd614199d5f6020672021df0515b6a80",name:"map.png"}],map1:[{bytes:564003,md5:"61926872895760cc2a19ed740db5e815",name:"map.png"}],main:[{bytes:77662,md5:"29fe4a7c842947baa26fde9575ec1358",name:"audio/bubbling_goop03.mp3"},{bytes:594666,md5:"e7df3c1e49b449d2c5571493bde58cfe",name:"audio/bubbling_goop03.ogg"},{bytes:5146,md5:"0f93604715dc6033ffc1812aedb7f993",name:"audio/bwv_impact_punch_face_11.mp3"},
{bytes:30822,md5:"0d7234b0c973f2ded2ac4bb674be1aa4",name:"audio/bwv_impact_punch_face_11.ogg"},{bytes:5545,md5:"9ba89bd482293745bcebb32d0ec5d9d9",name:"audio/combat_whoosh_02.mp3"},{bytes:38546,md5:"4f53d57e8935bd02865cb10c117ab94a",name:"audio/combat_whoosh_02.ogg"},{bytes:14540,md5:"e0262fe568b9129ca53ebdd4f192601b",name:"audio/drawbridge_gate_open_02.mp3"},{bytes:82493,md5:"47163b594f32cc2d1ee23fe407b7b8c1",name:"audio/drawbridge_gate_open_02.ogg"},{bytes:7627,md5:"30b6a49fcc84b3b811b219f7ee086605",
name:"audio/electricity_sparking_bursts_10.mp3"},{bytes:12325,md5:"4e576d6129e2c0f3b76e7dc7fe62fea6",name:"audio/electricity_sparking_bursts_10.ogg"},{bytes:2457,md5:"edc190854bc1c6137c30ff5a14fe5c11",name:"audio/glossy_click_16.mp3"},{bytes:18045,md5:"af27ac99faed0706652911f8d2b60a6d",name:"audio/glossy_click_16.ogg"},{bytes:1830,md5:"9b71c173485848446280031686135fe7",name:"audio/glossy_click_31.mp3"},{bytes:12876,md5:"a3fa87c8cb1cafec7a12547fba242cdb",name:"audio/glossy_click_31.ogg"},{bytes:7055,
md5:"640bd3eb58f5fc7d57f47b2cc5004d37",name:"audio/light_switch_pull_chain_02.mp3"},{bytes:53048,md5:"cb0b83c79233c97646aac8ef6a4fe43e",name:"audio/light_switch_pull_chain_02.ogg"},{bytes:10867,md5:"f216bdd2c0bc4dac3a42171891fd5028",name:"audio/lock_treasure_chest_handling_04.mp3"},{bytes:82536,md5:"2c3e86e8f89884e1a0765a4ad87ec6e1",name:"audio/lock_treasure_chest_handling_04.ogg"},{bytes:14624,md5:"3ab61a1d34da12ae3f23fde1e433a7b0",name:"audio/magicwand.mp3"},{bytes:43977,md5:"0e99329b65c526ada4e632dd43bea370",
name:"audio/magicwand.ogg"},{bytes:9090,md5:"efeb1899636acb591c09cb9832114a27",name:"audio/menu_bob11.mp3"},{bytes:7173,md5:"2546fec8fc618da935c4634bec0a6a09",name:"audio/menu_bob11.ogg"},{bytes:7836,md5:"17ed8ca3703e57358e0b1c13a2247964",name:"audio/menu_bob3.mp3"},{bytes:7088,md5:"2d9b3bcf6df41ef41c1ec7cb312507d0",name:"audio/menu_bob3.ogg"},{bytes:9831,md5:"f3402c4b5878c0e720b8d254fa76f6fc",name:"audio/paper01.mp3"},{bytes:73058,md5:"0cedbd9858e57c9941c66ce1b58d34b1",name:"audio/paper01.ogg"},
{bytes:2305,md5:"00a9d3cb05fdc48b9ee4734f07febc77",name:"audio/pop_09.mp3"},{bytes:14825,md5:"5fa4340e51ee0e6f0a48b20084563a4e",name:"audio/pop_09.ogg"},{bytes:1260,md5:"0b1cfb013ae56c8a6eb0b0751f04925b",name:"audio/pop_15.mp3"},{bytes:9225,md5:"8a9a61d147045e2cf26ce369ce072bae",name:"audio/pop_15.ogg"},{bytes:24762,md5:"8414359983a307d2875643c4f977b997",name:"audio/vacuum_cleaner_on_off_01.mp3"},{bytes:165514,md5:"51b0be3f9e53b43bd94fe9dc36ba3c0a",name:"audio/vacuum_cleaner_on_off_01.ogg"},{bytes:2940,
md5:"c189c0858c7436c445b9f5c251ad82b1",name:"audio/whip_whoosh_01_fast_02.mp3"},{bytes:22131,md5:"d93a178f70d3b50fa6aeb8bf834b1d64",name:"audio/whip_whoosh_01_fast_02.ogg"},{bytes:12168,md5:"192dd533dff068ed04858527f98e66f6",name:"bikini_bottom_14.fnt"},{bytes:5472,md5:"5d13624a56b486d06b60825705ead9d5",name:"bikini_bottom_14_0.png"},{bytes:33429,md5:"5cf31d93220ad70d7c8947a32269fd08",name:"bikini_bottom_18.fnt"},{bytes:7678,md5:"172c3f92d7659e70fbf5411d1e2f7d7d",name:"bikini_bottom_18_0.png"},{bytes:12168,
md5:"354d96520c4a5f81b74c7057f9d88d67",name:"bikini_bottom_24.fnt"},{bytes:7977,md5:"3efc48fb2c61be3bb59763267a070df8",name:"bikini_bottom_24_0.png"},{bytes:12966,md5:"a6330989fc4e5e228a2db9bd6ca97dd6",name:"bikini_bottom_48.fnt"},{bytes:11562,md5:"90a6055e8f562f9bba667e7b0f323797",name:"bikini_bottom_48_0.png"},{bytes:2527,md5:"efc3763d257fb4d9677dc57750d332d1",name:"buildings.xml"},{bytes:387294,md5:"3431393dc6ccdb91e45e971dc13e9dd1",name:"characters/atlas0.png"},{bytes:18648,md5:"a40e1a758e487ea59c56047226eab3fe",
name:"characters/atlas1.png"},{bytes:5935,md5:"ac09811d8ab1162551a06d91563f01d1",name:"characters/atlas2.png"},{bytes:24861,md5:"281196fec0a6ded0076c0b7e438157ef",name:"characters/library.json"},{bytes:32,md5:"2e22a9acf1fcf514ecaeeba04241d10f",name:"characters/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"characters/version"},{bytes:18323,md5:"a93940f779da59a3beef55239205e83d",name:"characters.xml"},{bytes:2491,md5:"9b82d60fe0de9bb4b13b12733800154d",name:"collection.xml"},{bytes:43747,
md5:"34dee6f73f2efd0179448613f73dc742",name:"effects/atlas0.png"},{bytes:5386,md5:"399ce396d50c104fe542647dd2500347",name:"effects/library.json"},{bytes:32,md5:"22077ba775f701bec5f85fde2ed42831",name:"effects/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"effects/version"},{bytes:12169,md5:"e956c36828daf08196e9fa7b81cad808",name:"hud/button_audio_off.png"},{bytes:12307,md5:"01241d73bbdc48996f83e4062e12a29f",name:"hud/button_audio_on.png"},{bytes:29413,md5:"4686b59f7222cadee5682bb290970634",
name:"hud/character_name_box.png"},{bytes:163784,md5:"dfca77201d2e25067528b98ece174f59",name:"hud/dialogue_box.png"},{bytes:66821,md5:"933b6af97235be1536caaeffcd1ee546",name:"hud/hud_background.png"},{bytes:11326,md5:"cfc393c2920243245d42b9da21228b46",name:"hud/hud_ropes.png"},{bytes:11719,md5:"ebe0a673665d47b299cb7e5f6147571c",name:"hud/map_button.png"},{bytes:11997,md5:"32a1e2aa85feeb014c0a23c82bb46df2",name:"hud/menu_button.png"},{bytes:11444,md5:"2b11f9bcd29e4c0779e87a709bb0fa7c",name:"hud/pause_button.png"},
{bytes:13844,md5:"006d2a716cf47964cc18182d24caceab",name:"hud/sb_bored.png"},{bytes:13880,md5:"5f1f6dcefaec9c09978d6a9d770eb270",name:"hud/sb_default.png"},{bytes:14505,md5:"ce95b2d99e5b5ef1f3f6bc1f59a5469b",name:"hud/sb_item.png"},{bytes:9747,md5:"4195656f8c9d18a3c3838cd9481b8d28",name:"hud/sb_low_health.png"},{bytes:31875,md5:"d0c35aecd47b919042efe2f2fc77423a",name:"hud/touch_controls/action_door.png"},{bytes:31742,md5:"5fe7f572026bef530c5f9482e4691226",name:"hud/touch_controls/action_door_hlt.png"},
{bytes:29472,md5:"8dcca44a3e84d020eb1217c8382a14a4",name:"hud/touch_controls/action_foam_hand.png"},{bytes:29484,md5:"48e7b7810a2fee801f2ebd745b693bd3",name:"hud/touch_controls/action_foam_hand_hlt.png"},{bytes:30312,md5:"c0829dc4385eb4fa3e23f407fa9473c3",name:"hud/touch_controls/action_pattypult.png"},{bytes:30097,md5:"435fa3113ae3a5d30c318c33ad00c5a8",name:"hud/touch_controls/action_pattypult_hlt.png"},{bytes:29329,md5:"8e77cf3a7b3a0c306fddb1151febcbeb",name:"hud/touch_controls/action_reef_blower.png"},
{bytes:29702,md5:"73c996d4af09933e43d50c10b8e40a30",name:"hud/touch_controls/action_reef_blower_hlt.png"},{bytes:28664,md5:"ea0f78cc7cc23fe4d6b36a11deb62d46",name:"hud/touch_controls/action_skip.png"},{bytes:29037,md5:"9e0d8f56f7df709c3fb609a82f8be7dd",name:"hud/touch_controls/action_skip_hlt.png"},{bytes:31399,md5:"0ecc7e01b92f97f5895dff67313c2668",name:"hud/touch_controls/action_spatula.png"},{bytes:31759,md5:"47c7a2fc210ec2347c7f5be31b615840",name:"hud/touch_controls/action_spatula_hlt.png"},{bytes:27710,
md5:"38c80216b6f0757044da651ca63ade4f",name:"hud/touch_controls/action_speak.png"},{bytes:28438,md5:"d375bdbceb5d13a277dee0cb974b93d9",name:"hud/touch_controls/action_speak_hlt.png"},{bytes:30775,md5:"b6f2efd8c64bbf41b81735180ff9f81e",name:"hud/touch_controls/action_switch.png"},{bytes:30939,md5:"f3d8aa63264f40ecb1bbe3b0d723d6cb",name:"hud/touch_controls/action_switch_hlt.png"},{bytes:28704,md5:"e220b5334bef3ab28c510e6cbeae837f",name:"hud/touch_controls/action_treasure.png"},{bytes:27620,md5:"8fe688b3e21dbdf3c99cd2940e4d9e01",
name:"hud/touch_controls/action_treasure_hlt.png"},{bytes:7324,md5:"3a0242e3d54562a37853251b6e9d385e",name:"hud/touch_controls/arrow_down.png"},{bytes:7116,md5:"dfded5d503bce9677df95d2ab71fd3df",name:"hud/touch_controls/arrow_down_hlt.png"},{bytes:6687,md5:"b321789fc9b7f02bea4798749a0816a8",name:"hud/touch_controls/arrow_left.png"},{bytes:6595,md5:"3dba71aa291ebf1043de7bb7facdfbbe",name:"hud/touch_controls/arrow_left_hlt.png"},{bytes:6862,md5:"492c5f31624a508a7a890505202f5eae",name:"hud/touch_controls/arrow_right.png"},
{bytes:6730,md5:"f91e04f32b4308e08e3552a6590593cb",name:"hud/touch_controls/arrow_right_hlt.png"},{bytes:7068,md5:"ee5dff4e5d0adf9503416ce47b96c570",name:"hud/touch_controls/arrow_up.png"},{bytes:6843,md5:"7c7c9fdf84045dce43ae3db08c4e471e",name:"hud/touch_controls/arrow_up_hlt.png"},{bytes:25133,md5:"2121a26db05d93afb8548bc6a1ff4295",name:"hud/touch_controls/joystick_base.png"},{bytes:25154,md5:"bcaf98076e451d39121574dc59af8514",name:"hud/touch_controls/joystick_base_hlt.png"},{bytes:260804,md5:"f3866a540e3e8bdc32d56a8d6a04e800",
name:"items/atlas0.png"},{bytes:29356,md5:"5472a5ab877be4fabb1b8054a7f4845a",name:"items/library.json"},{bytes:32,md5:"0c3f4eea1d28e4f17e95126d6be9ea5b",name:"items/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"items/version"},{bytes:4109,md5:"67af093299ec69db6645bdb71742e813",name:"items.xml"},{bytes:27134,md5:"b29bce095d52c8aea1dd3d2b36094144",name:"locations.xml"},{bytes:11456,md5:"bad5f13c161025db4f55ac26ebc91420",name:"menu/back_button.png"},{bytes:7347,md5:"6982961db1bb357b23b859eee312b4c9",
name:"menu/brain/anim/atlas0.png"},{bytes:1763,md5:"5d3ebe56511e6eda41de2325f3ef8935",name:"menu/brain/anim/library.json"},{bytes:32,md5:"03f106a79220c133674da445d7f317aa",name:"menu/brain/anim/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"menu/brain/anim/version"},{bytes:25867,md5:"f2e14eb11ec6cd37efab78f04245b9cd",name:"menu/brain/back_button.png"},{bytes:66227,md5:"e164d6f86d6294b039061f798de5853b",name:"menu/brain/bg_brain_zoom.jpg"},{bytes:141445,md5:"54340c11a10a2c6caaf0856cc6975947",
name:"menu/brain/brain_initial_view.jpg"},{bytes:78941,md5:"69cbc19d4c28c9f6e88cf0650929bee0",name:"menu/brain/characters/profile_abigail.png"},{bytes:72865,md5:"b21f8b2ffa691067d569fc3859b02e5d",name:"menu/brain/characters/profile_annette.png"},{bytes:69784,md5:"b063826ac53960a87640f8bacf72cf7c",name:"menu/brain/characters/profile_bruiser.png"},{bytes:76202,md5:"3c76f105dc0628a4ffd5422dcc780795",name:"menu/brain/characters/profile_cavedweller.png"},{bytes:80485,md5:"682850789522172333ea46ce8baf05c4",
name:"menu/brain/characters/profile_deadeyeplankton.png"},{bytes:74884,md5:"e046c1f28c86538b023223c571988c90",name:"menu/brain/characters/profile_drgill.png"},{bytes:73411,md5:"28c470181d2451c837a9ed93d42fad90",name:"menu/brain/characters/profile_flatts.png"},{bytes:65111,md5:"6c4b4479d0f92e241388f533617c25f0",name:"menu/brain/characters/profile_gary.png"},{bytes:75514,md5:"fed02c12a1f82898e82b783dd9d17ac5",name:"menu/brain/characters/profile_harold.png"},{bytes:71284,md5:"3e4bfdad573a4d7479565cae9ae14aa2",
name:"menu/brain/characters/profile_karen.png"},{bytes:73566,md5:"72dc6757434a5493b14f0b804744ee71",name:"menu/brain/characters/profile_larry.png"},{bytes:92857,md5:"f629de8509a730140e49e4b42f0b88dd",name:"menu/brain/characters/profile_locked.png"},{bytes:77350,md5:"bc139a625af4976cafe644fd966adf52",name:"menu/brain/characters/profile_mailfish.png"},{bytes:82110,md5:"819b9aec3e9e9284389a190926e58fff",name:"menu/brain/characters/profile_mrkrabs.png"},{bytes:76767,md5:"85e0c4f7c3a60bb175b6eb60dc435c6a",
name:"menu/brain/characters/profile_mrspuff.png"},{bytes:78347,md5:"1c672e4aa3af29ac7e13f08cc3632838",name:"menu/brain/characters/profile_nancysuzie.png"},{bytes:73053,md5:"f973eae25ae67b6e972d235281d754f8",name:"menu/brain/characters/profile_natpearson.png"},{bytes:78060,md5:"3d9ed224a50a1f2d0c930ceb7e2e7841",name:"menu/brain/characters/profile_officerjohn.png"},{bytes:75577,md5:"95d58ba0df952ce614b0ba894610a7db",name:"menu/brain/characters/profile_patrick.png"},{bytes:68969,md5:"07d020ed4fd050ede6e9156a1f5a41e9",
name:"menu/brain/characters/profile_pearl.png"},{bytes:82852,md5:"bb8d0d7af7c953f5a9ecbd71795fa3bf",name:"menu/brain/characters/profile_plankton.png"},{bytes:83479,md5:"0d756e68d9c41b24d0a0831a9fa8460c",name:"menu/brain/characters/profile_redbeard.png"},{bytes:77767,md5:"4e5b56993d9eaf18e26d45d9ebe642d0",name:"menu/brain/characters/profile_sadie.png"},{bytes:70670,md5:"83e9b238dbb5372630d3b4a4f50b4d5c",name:"menu/brain/characters/profile_sam.png"},{bytes:81744,md5:"42a9690089d4521f286da67b9f1e6662",
name:"menu/brain/characters/profile_sandy.png"},{bytes:75117,md5:"3005bdbea3dfa34c4699de603c6ee2b9",name:"menu/brain/characters/profile_shubie.png"},{bytes:79713,md5:"d32cac1e40bb015ce3bbee2cf4b2fe02",name:"menu/brain/characters/profile_spongebob.png"},{bytes:77078,md5:"d1c27b0a26b8a134e5a11c78e32ce74d",name:"menu/brain/characters/profile_squidward.png"},{bytes:77513,md5:"9ae772e62a1cba4d2654eac9aaca781d",name:"menu/brain/characters/profile_williamkrabs.png"},{bytes:9538,md5:"4c0aff24b088b73a05fdc7320c73c54e",
name:"menu/brain/collection/anchor.png"},{bytes:10565,md5:"d1ba0a39ec0ea19223b52bb070e1e9e4",name:"menu/brain/collection/anchor_locked.png"},{bytes:67825,md5:"821ef02e20771f941e3860a738856b93",name:"menu/brain/collection/formula.png"},{bytes:7505,md5:"09f147231d232283680839f38c26047d",name:"menu/brain/collection/formula_locked.png"},{bytes:67995,md5:"e050929625c89cbdb769c8a84dd0c620",name:"menu/brain/collection/gas.png"},{bytes:12324,md5:"825f818a42336f3ef43154040d7ff83f",name:"menu/brain/collection/gas_locked.png"},
{bytes:41709,md5:"af1abd17a701a5d1be765407e12bac0a",name:"menu/brain/collection/glovey.png"},{bytes:8709,md5:"4344ade8be9e4252d27b89670bd707c3",name:"menu/brain/collection/glovey_locked.png"},{bytes:38967,md5:"4f85728d225d34550f68ff79c91ab5c2",name:"menu/brain/collection/jelly.png"},{bytes:3686,md5:"de1908d822dd7d8c5f281a4bc49577e2",name:"menu/brain/collection/jelly_locked.png"},{bytes:71877,md5:"89b38ff51e1ef9f4697620e44fd22f26",name:"menu/brain/collection/license.png"},{bytes:5657,md5:"d6383f40e86681c2c70341e9c11c58d0",
name:"menu/brain/collection/license_locked.png"},{bytes:105036,md5:"6a320873ee74b12140a2652420d8c393",name:"menu/brain/collection/newspaper.png"},{bytes:6982,md5:"47b7ccbe3cf0679e84461f5f32c7af66",name:"menu/brain/collection/newspaper_locked.png"},{bytes:28965,md5:"5428a0cb83d9577d983d5941f46b1913",name:"menu/brain/collection/pearl.png"},{bytes:8E3,md5:"033916738be7c1a475373bd053432299",name:"menu/brain/collection/pearl_locked.png"},{bytes:54511,md5:"b6b87e730641725cad97d9e4eec99650",name:"menu/brain/collection/snailfood.png"},
{bytes:4615,md5:"e105b2efa186c7d4b222e7a1530badb3",name:"menu/brain/collection/snailfood_locked.png"},{bytes:121181,md5:"81e8a1d625f07f0fcb511b96062158c6",name:"menu/brain/collection/squidward_picture.png"},{bytes:7012,md5:"d28acbd57e595a4f072b15612b201154",name:"menu/brain/collection/squidward_picture_locked.png"},{bytes:29107,md5:"34d4a5de3e0033df49ae045065575485",name:"menu/brain/collection/trophy.png"},{bytes:6976,md5:"9968e533ef91129abb38cb3a756c4882",name:"menu/brain/collection/trophy_locked.png"},
{bytes:58918,md5:"5d869be34729e5f95af505c78e9ccc76",name:"menu/brain/collection/tulips.png"},{bytes:8641,md5:"1585fe4a8d459f47825746c539039871",name:"menu/brain/collection/tulips_locked.png"},{bytes:27082,md5:"120cabb2c39c2ae51d92440adbb39153",name:"menu/brain/collection_button.png"},{bytes:389734,md5:"32e8ae67dac212efa5e7ead5a87d4c03",name:"menu/brain/collection_panel.png"},{bytes:12692,md5:"8ebd40fba9c24d0b0677536a68eabd20",name:"menu/brain/equipment_button.png"},{bytes:14299,md5:"32a9dbd7d178afa9947c8cf93e90b4f0",
name:"menu/brain/equip_foam_hand.png"},{bytes:17127,md5:"d1f54e914774d9aa5e4e758249013c0c",name:"menu/brain/equip_golden_spatula.png"},{bytes:8609,md5:"9cf4154de98421009edfc3d71585974a",name:"menu/brain/equip_pattypult.png"},{bytes:13177,md5:"5fd8f6918db809023f41193ac9ba5668",name:"menu/brain/equip_reef_blower.png"},{bytes:8668,md5:"8be55dbd10b100c6e658e219c21f7b22",name:"menu/brain/equip_spatula.png"},{bytes:13005,md5:"e2693e33b6353f7ab32d029669e35fd7",name:"menu/brain/foam_hand_button.png"},{bytes:16297,
md5:"c47b08d028692a2699ea0ba2cb8d48a1",name:"menu/brain/golden_spatula_button.png"},{bytes:26494,md5:"948be4f0f3da24948e516c02195ea9dd",name:"menu/brain/inventory_button.png"},{bytes:576914,md5:"14bb894dc19f8af18ac487e8a01c1949",name:"menu/brain/inventory_panel.png"},{bytes:7717,md5:"a9140496bfdd02ecc6c723afb7b7325d",name:"menu/brain/items/boat_keys.png"},{bytes:4079,md5:"b812e21dcdf6f62ec8d366b9a20112cc",name:"menu/brain/items/coupon.png"},{bytes:4901,md5:"64d8b2216af7e63796a6c82839fa0eb0",name:"menu/brain/items/donut.png"},
{bytes:8302,md5:"aef80bf30bc65139b28eed10ee8ea6a6",name:"menu/brain/items/journal_1.png"},{bytes:8302,md5:"aef80bf30bc65139b28eed10ee8ea6a6",name:"menu/brain/items/journal_2.png"},{bytes:5338,md5:"c04ca36dee4d7233b35c31e9658de4c9",name:"menu/brain/items/krabby_patty.png"},{bytes:12016,md5:"937136a3c9095ea68c21c54ca26e3deb",name:"menu/brain/items/magazine.png"},{bytes:5742,md5:"09f942237ab0fdf6b9f6639e8c2eec89",name:"menu/brain/items/mailbag.png"},{bytes:3687,md5:"89585f9c6868f1838578d35401419c2a",
name:"menu/brain/items/soda.png"},{bytes:312320,md5:"f080f2ac249ce3052a3051877c3d750f",name:"menu/brain/items/Thumbs.db"},{bytes:12451,md5:"68f692ec2c44abab702acc0e980793c0",name:"menu/brain/items/treasure.png"},{bytes:7244,md5:"9e19d06e12686cde4a0daec8bf735ff9",name:"menu/brain/items/washer.png"},{bytes:17687,md5:"6c8bd1c6ddc68673c8ebb1dbe5a09133",name:"menu/brain/next_button.png"},{bytes:28123,md5:"d0e875bf1d4b8947d8f44b9a960e84fc",name:"menu/brain/notes_button.png"},{bytes:492516,md5:"32eecfa7a0f7c8db56f7e672a3510390",
name:"menu/brain/notes_panel.png"},{bytes:14659,md5:"28468ce9fde364cae1ca107782607627",name:"menu/brain/pattypult_button.png"},{bytes:584335,md5:"80868689e65871f3ea93bd7bc3e291da",name:"menu/brain/popup_panel.png"},{bytes:28001,md5:"0be70408aab6d253a7c108e8b11e999d",name:"menu/brain/profiles_button.png"},{bytes:391911,md5:"cffa495e0968756cc0b3705e257128e6",name:"menu/brain/profiles_panel.png"},{bytes:13883,md5:"b16d84910ece2862e2689eef8427ef5e",name:"menu/brain/reef_blower_button.png"},{bytes:96204,
md5:"e594e1834dcea6755fa3802c90d4f54b",name:"menu/brain/shelf.png"},{bytes:13979,md5:"513632cc1e0b5ac6f15cfc91b080e4e6",name:"menu/brain/spatula_button.png"},{bytes:155814,md5:"8a70a231845c4bf81ce1b42e431f9efc",name:"menu/brain/tendrils.png"},{bytes:16819,md5:"50d87fc7cf46e345d408eea7d0b835e8",name:"menu/code/button_code_a.png"},{bytes:16777,md5:"382dc9205720e01f18c43abbab0bfd1d",name:"menu/code/button_code_b.png"},{bytes:16497,md5:"640649f0f95af284333990cdf803dbd8",name:"menu/code/button_code_c.png"},
{bytes:16644,md5:"7122f9d09fe7f311a7b4b49144f65b15",name:"menu/code/button_code_d.png"},{bytes:17829,md5:"0310472703c1e18db696b42f9e44a6fc",name:"menu/code/button_code_delete.png"},{bytes:16702,md5:"bb7f0c189efc0e582d54b7a1b40326c7",name:"menu/code/button_code_e.png"},{bytes:16410,md5:"76d6e90ed132185d55256e3a2ce046e6",name:"menu/code/button_code_enter.png"},{bytes:16211,md5:"0ccca2677698f9929efa6a3bd571e4e3",name:"menu/code/button_code_f.png"},{bytes:16980,md5:"e2a23d6a87017026fffc9849b62e7a6b",
name:"menu/code/button_code_g.png"},{bytes:16984,md5:"86b60238fe7a7fa068133f0401f181b9",name:"menu/code/button_code_h.png"},{bytes:15575,md5:"f8016d9f30ee8fb533943058344e3571",name:"menu/code/button_code_i.png"},{bytes:16073,md5:"4cfae5a16d1851bd6f9c96b833a2c2b6",name:"menu/code/button_code_j.png"},{bytes:17453,md5:"bcdb3978b534e3a26c3f91dd714a3b50",name:"menu/code/button_code_k.png"},{bytes:16034,md5:"8a72a305325dd3347f17ef1e39e19c6f",name:"menu/code/button_code_l.png"},{bytes:17524,md5:"272c9e81d825fbf6b1e012508ab51500",
name:"menu/code/button_code_m.png"},{bytes:17325,md5:"f74a8247d27fcbe95f906e0eab6b9b3a",name:"menu/code/button_code_n.png"},{bytes:16899,md5:"8aad470aed28c5ea78894575e9db87d8",name:"menu/code/button_code_o.png"},{bytes:16426,md5:"485d8eae7f50ab3cf4aae75a21ac788d",name:"menu/code/button_code_p.png"},{bytes:17065,md5:"c84a432caa6b7dae7f7208e0268b0f3f",name:"menu/code/button_code_q.png"},{bytes:17068,md5:"47b8adcfb7ac60fa5ddb2c27728d826a",name:"menu/code/button_code_r.png"},{bytes:17358,md5:"093a54685c0b83cabd8b024f809aa649",
name:"menu/code/button_code_s.png"},{bytes:16087,md5:"fe53704863f879a48fabc87e5db03fee",name:"menu/code/button_code_t.png"},{bytes:16861,md5:"21bf31d094061d610420fadd33c2df8b",name:"menu/code/button_code_u.png"},{bytes:16473,md5:"d43b981f161f8aa89dff86f90f322cc0",name:"menu/code/button_code_v.png"},{bytes:17583,md5:"2aa915b898bfe4b56d34796860a70ad9",name:"menu/code/button_code_w.png"},{bytes:17172,md5:"64e147ef9b15c764d2eaa06940a1efb4",name:"menu/code/button_code_x.png"},{bytes:16194,md5:"4f010772a90dd9bd15c77d5bfd8d2807",
name:"menu/code/button_code_y.png"},{bytes:16803,md5:"90677d9718481dbc761e5a093e8a15bf",name:"menu/code/button_code_z.png"},{bytes:518095,md5:"b185c8ac76d01690e6aac2303fb6e811",name:"menu/code/code_menu.png"},{bytes:315494,md5:"5a455480cb369d303a1a202a659c3390",name:"menu/code/unlocked_item_popup.png"},{bytes:8630,md5:"2a90dcc881f4d41da6240c4e34ff7cd0",name:"menu/icon_new.png"},{bytes:3127,md5:"c591e3babfb64ab2debc39dc6307291e",name:"menu/map/objective_indicator.png"},{bytes:8050,md5:"5589c07efb865b9a5f583249b207e836",
name:"menu/map/player_indicator.png"},{bytes:30786,md5:"0162409090b521b58d02a222b5d2e25e",name:"menu/pause/code_button.png"},{bytes:88841,md5:"f29eefec448cd80bad7465880b411bb2",name:"menu/pause/continue_button.png"},{bytes:35821,md5:"1bc4037f34eec3e124f4623f4e6c025d",name:"menu/pause/exit_button.png"},{bytes:466882,md5:"6761cf015b8c574359329a919ac8e807",name:"menu/pause/pause_menu.png"},{bytes:3296,md5:"11c42dc27c5b1b5ea2bd7e1a8558c17a",name:"notes.xml"},{bytes:184230,md5:"f4ccb25526d2a559da9dc4b2e8cfa86d",
name:"objects/atlas0.png"},{bytes:37112,md5:"9480442def8efe1a3c0138e69ca949e1",name:"objects/library.json"},{bytes:32,md5:"e3c26e46dc1e6dbc6bc682ef831787a1",name:"objects/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"objects/version"},{bytes:4144,md5:"38d6f06c55a7a343b4f8c7c40e530ce0",name:"objects.xml"},{bytes:7352,md5:"33e03b402546528fc8e2b3ce0f45d11e",name:"portal_indicator.png"},{bytes:443,md5:"d69865547659dc588ef8419998e0fe46",name:"shadow.png"},{bytes:8301,md5:"27154a8becadf9bc102e81a97a42ec02",
name:"spikes.png"},{bytes:277910,md5:"101b407829e4e314df971d7260305c5d",name:"spongebob/atlas0.png"},{bytes:126999,md5:"e6b47902ed1e0967b359dd5d4fdb88cc",name:"spongebob/library.json"},{bytes:32,md5:"1d6015c77318523ff31bbe4e77e61747",name:"spongebob/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"spongebob/version"},{bytes:805,md5:"6cb150fe9df35d246134de25463eee64",name:"spot_effects/atlas0.png"},{bytes:6393,md5:"99c207597d5c01179f4ee8ffdf4798fe",name:"spot_effects/library.json"},{bytes:32,
md5:"a0b087a5e72e1be07aa54a88632382c6",name:"spot_effects/md5"},{bytes:1,md5:"003d62073d0b493a14427a45413fc595",name:"spot_effects/version"},{bytes:14102,md5:"61b8cd963e01f11be9aabe9914332d2d",name:"tiki_island_36.fnt"},{bytes:9307,md5:"c8ae4c0710a492e3650c5b66a5fe2f90",name:"tiki_island_36_0.png"},{bytes:13076,md5:"d2d0493ce4785e9f389dc8a50d7ea68f",name:"tiki_island_56.fnt"},{bytes:10471,md5:"03a27228c2c719fa81878dff241f5bbf",name:"tiki_island_56_0.png"},{bytes:2325,md5:"26b1a66370611125981bc0b0c0ec8755",
name:"tutorial.xml"},{bytes:6989,md5:"8b458837e7d9fcc3af8afe68273ed132",name:"tutorial_circle.png"}]}]}};V._supportsCrossOrigin=function(){var a;a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();q._scratchPoint=new A;Y.NEWLINE=new Cb(10);ta._sharedEvent=new uc;oa._sharedEvent=new vc;da._sharedEvent=new wc;Pa.CANVAS_TEXTURES=(new xa("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);H._mediaRefCount=0;H._detectBlobSupport=
!0;B.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];B.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&(new xa("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);I._detectSupport=!0;wa.USE_CACHE=!1;wa.USE_ENUM_INDEX=!1;wa.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";ia.DEFAULT_RESOLVER=X;ia.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Ja.count=0;ya.escapes=function(){var a=new ca;a.set("lt","<");a.set("gt",">");a.set("amp","&");
a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);j.WIDTH=150;j.HEIGHT=150;J.main()})();
